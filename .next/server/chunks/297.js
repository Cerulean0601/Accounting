exports.id=297,exports.ids=[297],exports.modules={3179:function(e,t,r){var s,i,n;e=r.nmd(e),i=[],void 0!==(n="function"==typeof(s=function(){"use strict";var t,s={},i=null;function n(t){if(e&&e.exports)try{return r(5511).randomBytes(t)}catch(e){}try{var s;return(self.crypto||self.msCrypto).getRandomValues(s=new Uint32Array(t)),Array.prototype.slice.call(s)}catch(e){}if(!i)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return i(t)}try{n(1)}catch(e){}function o(e,t){for(var r=0,s=0,i=0,n=e.length;i<n;++i)e.charCodeAt(i)===t.charCodeAt(i)?++r:++s;return!(r<0)&&0===s}i=null,s.setRandomFallback=function(e){i=e},s.genSaltSync=function(e,t){if("number"!=typeof(e=e||m))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2a$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(u(n(d),d)),r.join("")},s.genSalt=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e=void 0),void 0===e)e=m;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function i(t){a(function(){try{t(null,s.genSaltSync(e))}catch(e){t(e)}})}if(!r)return new Promise(function(e,t){i(function(r,s){if(r){t(r);return}e(s)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);i(r)},s.hashSync=function(e,t){if(void 0===t&&(t=m),"number"==typeof t&&(t=s.genSaltSync(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return S(e,t)},s.hash=function(e,t,r,i){function n(r){"string"==typeof e&&"number"==typeof t?s.genSalt(t,function(t,s){S(e,s,r,i)}):"string"==typeof e&&"string"==typeof t?S(e,t,r,i):a(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!r)return new Promise(function(e,t){n(function(r,s){if(r){t(r);return}e(s)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);n(r)},s.compareSync=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&o(s.hashSync(e,t.substr(0,t.length-31)),t)},s.compare=function(e,t,r,i){function n(r){if("string"!=typeof e||"string"!=typeof t){a(r.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(60!==t.length){a(r.bind(this,null,!1));return}s.hash(e,t.substr(0,29),function(e,s){e?r(e):r(null,o(s,t))},i)}if(!r)return new Promise(function(e,t){n(function(r,s){if(r){t(r);return}e(s)})});if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);n(r)},s.getRounds=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},s.getSalt=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)};var a="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],h=String.fromCharCode;function u(e,t){var r,s,i=0,n=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(r=255&e[i++],n.push(c[r>>2&63]),r=(3&r)<<4,i>=t||(r|=(s=255&e[i++])>>4&15,n.push(c[63&r]),r=(15&s)<<2,i>=t)){n.push(c[63&r]);break}r|=(s=255&e[i++])>>6&3,n.push(c[63&r]),n.push(c[63&s])}return n.join("")}function f(e,t){var r,s,i,n,o,a=0,c=e.length,u=0,f=[];if(t<=0)throw Error("Illegal len: "+t);for(;a<c-1&&u<t&&(r=(o=e.charCodeAt(a++))<l.length?l[o]:-1,s=(o=e.charCodeAt(a++))<l.length?l[o]:-1,-1!=r&&-1!=s)&&(n=r<<2>>>0|(48&s)>>4,f.push(h(n)),!(++u>=t||a>=c||-1==(i=(o=e.charCodeAt(a++))<l.length?l[o]:-1)||(n=(15&s)<<4>>>0|(60&i)>>2,f.push(h(n)),++u>=t||a>=c)));)n=(3&i)<<6>>>0|((o=e.charCodeAt(a++))<l.length?l[o]:-1),f.push(h(n)),++u;var p=[];for(a=0;a<u;a++)p.push(f[a].charCodeAt(0));return p}var p=((t={}).MAX_CODEPOINT=1114111,t.encodeUTF8=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},t.decodeUTF8=function(e,t){for(var r,s,i,n,o=function(e){var t=Error((e=e.slice(0,e.indexOf(null))).toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if((128&r)==0)t(r);else if((224&r)==192)null===(s=e())&&o([r,s]),t((31&r)<<6|63&s);else if((240&r)==224)(null===(s=e())||null===(i=e()))&&o([r,s,i]),t((15&r)<<12|(63&s)<<6|63&i);else if((248&r)==240)(null===(s=e())||null===(i=e())||null===(n=e()))&&o([r,s,i,n]),t((7&r)<<18|(63&s)<<12|(63&i)<<6|63&n);else throw RangeError("Illegal starting byte: "+r)},t.UTF16toUTF8=function(e,t){for(var r,s=null;null!==(r=null!==s?s:e());){if(r>=55296&&r<=57343&&null!==(s=e())&&s>=56320&&s<=57343){t((r-55296)*1024+s-56320+65536),s=null;continue}t(r)}null!==s&&t(s)},t.UTF8toUTF16=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(((r-=65536)>>10)+55296),t(r%1024+56320)),r=null},t.encodeUTF16toUTF8=function(e,r){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,r)})},t.decodeUTF8toUTF16=function(e,r){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,r)})},t.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},t.calculateUTF8=function(e){for(var r,s=0;null!==(r=e());)s+=t.calculateCodePoint(r);return s},t.calculateUTF16asUTF8=function(e){var r=0,s=0;return t.UTF16toUTF8(e,function(e){++r,s+=t.calculateCodePoint(e)}),[r,s]},t);Date.now=Date.now||function(){return+new Date};var d=16,m=10,b=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],x=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],y=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function g(e,t,r,s){var i=e[t],n=e[t+1];return i^=r[0],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[1],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[2],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[3],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[4],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[5],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[6],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[7],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[8],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[9],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[10],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[11],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[12],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[13],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[14],n^=(s[i>>>24]+s[256|i>>16&255]^s[512|i>>8&255])+s[768|255&i]^r[15],i^=(s[n>>>24]+s[256|n>>16&255]^s[512|n>>8&255])+s[768|255&n]^r[16],e[t]=n^r[17],e[t+1]=i,e}function w(e,t){for(var r=0,s=0;r<4;++r)s=s<<8|255&e[t],t=(t+1)%e.length;return{key:s,offp:t}}function v(e,t,r){for(var s,i=0,n=[0,0],o=t.length,a=r.length,c=0;c<o;c++)i=(s=w(e,i)).offp,t[c]=t[c]^s.key;for(c=0;c<o;c+=2)n=g(n,0,t,r),t[c]=n[0],t[c+1]=n[1];for(c=0;c<a;c+=2)n=g(n,0,t,r),r[c]=n[0],r[c+1]=n[1]}function E(e,t,r,s,i){var n,o,c=y.slice(),l=c.length;if(r<4||r>31){if(o=Error("Illegal number of rounds (4-31): "+r),s){a(s.bind(this,o));return}throw o}if(t.length!==d){if(o=Error("Illegal salt length: "+t.length+" != "+d),s){a(s.bind(this,o));return}throw o}r=1<<r>>>0;var h,u,f,p=0;function m(){if(i&&i(p/r),p<r)for(var n=Date.now();p<r&&(p+=1,v(e,h,u),v(t,h,u),!(Date.now()-n>100)););else{for(p=0;p<64;p++)for(f=0;f<l>>1;f++)g(c,f<<1,h,u);var o=[];for(p=0;p<l;p++)o.push((c[p]>>24&255)>>>0),o.push((c[p]>>16&255)>>>0),o.push((c[p]>>8&255)>>>0),o.push((255&c[p])>>>0);return s?void s(null,o):o}s&&a(m)}if(Int32Array?(h=new Int32Array(b),u=new Int32Array(x)):(h=b.slice(),u=x.slice()),function(e,t,r,s){for(var i,n=0,o=[0,0],a=r.length,c=s.length,l=0;l<a;l++)n=(i=w(t,n)).offp,r[l]=r[l]^i.key;for(l=0,n=0;l<a;l+=2)n=(i=w(e,n)).offp,o[0]^=i.key,n=(i=w(e,n)).offp,o[1]^=i.key,o=g(o,0,r,s),r[l]=o[0],r[l+1]=o[1];for(l=0;l<c;l+=2)n=(i=w(e,n)).offp,o[0]^=i.key,n=(i=w(e,n)).offp,o[1]^=i.key,o=g(o,0,r,s),s[l]=o[0],s[l+1]=o[1]}(t,e,h,u),void 0!==s)m();else for(;;)if(void 0!==(n=m()))return n||[]}function S(e,t,r,s){if("string"!=typeof e||"string"!=typeof t){if(c=Error("Invalid string / salt: Not a string"),r){a(r.bind(this,c));return}throw c}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(c=Error("Invalid salt version: "+t.substring(0,2)),r){a(r.bind(this,c));return}throw c}if("$"===t.charAt(2))l="\0",h=3;else{if("a"!==(l=t.charAt(2))&&"b"!==l&&"y"!==l||"$"!==t.charAt(3)){if(c=Error("Invalid salt revision: "+t.substring(2,4)),r){a(r.bind(this,c));return}throw c}h=4}if(t.charAt(h+2)>"$"){if(c=Error("Missing salt rounds"),r){a(r.bind(this,c));return}throw c}var i,n,o,c,l,h,m=10*parseInt(t.substring(h,h+1),10)+parseInt(t.substring(h+1,h+2),10),b=t.substring(h+3,h+25);e+=l>="a"?"\0":"";var x=(i=e,n=[],o=0,p.encodeUTF16toUTF8(function(){return o>=i.length?null:i.charCodeAt(o++)},function(e){n.push(e)}),n),g=f(b,d);function w(e){var t=[];return t.push("$2"),l>="a"&&t.push(l),t.push("$"),m<10&&t.push("0"),t.push(m.toString()),t.push("$"),t.push(u(g,g.length)),t.push(u(e,4*y.length-1)),t.join("")}if(void 0===r)return w(E(x,g,m));E(x,g,m,function(e,t){e?r(e,null):r(null,w(t))},s)}return s.encodeBase64=u,s.decodeBase64=f,s})?s.apply(t,i):s)&&(e.exports=n)},8964:(e,t,r)=>{e.exports=r(3179)},4653:(e,t,r)=>{"use strict";var s=r(9428).Buffer,i=r(9428).SlowBuffer;function n(e,t){if(!s.isBuffer(e)||!s.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=n,n.install=function(){s.prototype.equal=i.prototype.equal=function(e){return n(this,e)}};var o=s.prototype.equal,a=i.prototype.equal;n.restore=function(){s.prototype.equal=o,i.prototype.equal=a}},8937:e=>{"use strict";e.exports={mask:(e,t,r,s,i)=>{for(var n=0;n<i;n++)r[s+n]=e[n]^t[3&n]},unmask:(e,t)=>{let r=e.length;for(var s=0;s<r;s++)e[s]^=t[3&s]}}},4071:(e,t,r)=>{"use strict";try{e.exports=r(1449)(__dirname)}catch(t){e.exports=r(8937)}},7846:(e,t,r)=>{"use strict";var s=r(5957).Buffer,i=r(2371);function n(e){if(s.isBuffer(e))return e;if("string"==typeof e)return s.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function o(e,t,r){for(var s=0;t+s<r&&0===e[t+s];)++s;return e[t+s]>=128&&--s,s}e.exports={derToJose:function(e,t){e=n(e);var r=i(t),o=r+1,a=e.length,c=0;if(48!==e[c++])throw Error('Could not find expected "seq"');var l=e[c++];if(129===l&&(l=e[c++]),a-c<l)throw Error('"seq" specified length of "'+l+'", only "'+(a-c)+'" remaining');if(2!==e[c++])throw Error('Could not find expected "int" for "r"');var h=e[c++];if(a-c-2<h)throw Error('"r" specified length of "'+h+'", only "'+(a-c-2)+'" available');if(o<h)throw Error('"r" specified length of "'+h+'", max of "'+o+'" is acceptable');var u=c;if(c+=h,2!==e[c++])throw Error('Could not find expected "int" for "s"');var f=e[c++];if(a-c!==f)throw Error('"s" specified length of "'+f+'", expected "'+(a-c)+'"');if(o<f)throw Error('"s" specified length of "'+f+'", max of "'+o+'" is acceptable');var p=c;if((c+=f)!==a)throw Error('Expected to consume entire buffer, but "'+(a-c)+'" bytes remain');var d=r-h,m=r-f,b=s.allocUnsafe(d+h+m+f);for(c=0;c<d;++c)b[c]=0;e.copy(b,c,u+Math.max(-d,0),u+h),c=r;for(var x=c;c<x+m;++c)b[c]=0;return e.copy(b,c,p+Math.max(-m,0),p+f),b=(b=b.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=n(e);var r=i(t),a=e.length;if(a!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var c=o(e,0,r),l=o(e,r,e.length),h=r-c,u=r-l,f=2+h+1+1+u,p=f<128,d=s.allocUnsafe((p?2:3)+f),m=0;return d[m++]=48,p?d[m++]=f:(d[m++]=129,d[m++]=255&f),d[m++]=2,d[m++]=h,c<0?(d[m++]=0,m+=e.copy(d,m,0,r)):m+=e.copy(d,m,c,r),d[m++]=2,d[m++]=u,l<0?(d[m++]=0,e.copy(d,m,r)):e.copy(d,m,r+l),d}}},2371:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},2924:(e,t,r)=>{var s=r(9511);e.exports=function(e,t){t=t||{};var r=s.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var n=JSON.parse(i);null!==n&&"object"==typeof n&&(i=n)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},3008:(e,t,r)=>{e.exports={decode:r(2924),verify:r(3535),sign:r(1719),JsonWebTokenError:r(3077),NotBeforeError:r(7602),TokenExpiredError:r(9796)}},3077:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},7602:(e,t,r)=>{var s=r(3077),i=function(e,t){s.call(this,e),this.name="NotBeforeError",this.date=t};i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i},9796:(e,t,r)=>{var s=r(3077),i=function(e,t){s.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i},3513:(e,t,r)=>{let s=r(6205);e.exports=s.satisfies(process.version,">=15.7.0")},2801:(e,t,r)=>{var s=r(6205);e.exports=s.satisfies(process.version,"^6.12.0 || >=8.0.0")},603:(e,t,r)=>{let s=r(6205);e.exports=s.satisfies(process.version,">=16.9.0")},563:(e,t,r)=>{var s=r(3337);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=s(e);if(void 0===i)return;return Math.floor(r+i/1e3)}if("number"==typeof e)return r+e}},6799:(e,t,r)=>{let s=r(3513),i=r(603),n={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let a=n[r];if(!a)throw Error(`Unknown key type "${r}".`);if(!a.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`);if(s)switch(r){case"ec":let c=t.asymmetricKeyDetails.namedCurve,l=o[e];if(c!==l)throw Error(`"alg" parameter "${e}" requires curve "${l}".`);break;case"rsa-pss":if(i){let r=parseInt(e.slice(-3),10),{hashAlgorithm:s,mgf1HashAlgorithm:i,saltLength:n}=t.asymmetricKeyDetails;if(s!==`sha${r}`||i!==s)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==n&&n>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},1719:(e,t,r)=>{let s=r(563),i=r(2801),n=r(6799),o=r(9511),a=r(5067),c=r(1382),l=r(3432),h=r(2451),u=r(9529),f=r(3199),p=r(3135),{KeyObject:d,createSecretKey:m,createPrivateKey:b}=r(5511),x=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&x.splice(3,0,"PS256","PS384","PS512");let y={expiresIn:{isValid:function(e){return l(e)||f(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return l(e)||f(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return f(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,x),message:'"algorithm" must be a valid string enum value'},header:{isValid:u,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},g={iat:{isValid:h,message:'"iat" should be a number of seconds'},exp:{isValid:h,message:'"exp" should be a number of seconds'},nbf:{isValid:h,message:'"nbf" should be a number of seconds'}};function w(e,t,r,s){if(!u(r))throw Error('Expected "'+s+'" to be a plain object.');Object.keys(r).forEach(function(i){let n=e[i];if(!n){if(!t)throw Error('"'+i+'" is not allowed in "'+s+'"');return}if(!n.isValid(r[i]))throw Error(n.message)})}let v={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},E=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){var a,c;"function"==typeof r?(i=r,r={}):r=r||{};let l="object"==typeof e&&!Buffer.isBuffer(e),h=Object.assign({alg:r.algorithm||"HS256",typ:l?"JWT":void 0,kid:r.keyid},r.header);function u(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return u(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof d))try{t=b(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return u(Error("secretOrPrivateKey is not valid key material"))}}if(h.alg.startsWith("HS")&&"secret"!==t.type)return u(Error(`secretOrPrivateKey must be a symmetric key when using ${h.alg}`));if(/^(?:RS|PS|ES)/.test(h.alg)){if("private"!==t.type)return u(Error(`secretOrPrivateKey must be an asymmetric key when using ${h.alg}`));if(!r.allowInsecureKeySizes&&!h.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return u(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${h.alg}`))}if(void 0===e)return u(Error("payload is required"));if(l){try{a=e,w(g,!0,a,"payload")}catch(e){return u(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=E.filter(function(e){return void 0!==r[e]});if(t.length>0)return u(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return u(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return u(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{c=r,w(y,!1,c,"options")}catch(e){return u(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{n(h.alg,t)}catch(e){return u(e)}let f=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:l&&(e.iat=f),void 0!==r.notBefore){try{e.nbf=s(r.notBefore,f)}catch(e){return u(e)}if(void 0===e.nbf)return u(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=s(r.expiresIn,f)}catch(e){return u(e)}if(void 0===e.exp)return u(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(v).forEach(function(t){let s=v[t];if(void 0!==r[t]){if(void 0!==e[s])return u(Error('Bad "options.'+t+'" option. The payload already has an "'+s+'" property.'));e[s]=r[t]}});let x=r.encoding||"utf8";if("function"==typeof i)i=i&&p(i),o.createSign({header:h,privateKey:t,payload:e,encoding:x}).once("error",i).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(h.alg)&&e.length<256)return i(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${h.alg}`));i(null,e)});else{let s=o.sign({header:h,payload:e,secret:t,encoding:x});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(h.alg)&&s.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${h.alg}`);return s}}},3535:(e,t,r)=>{let s=r(3077),i=r(7602),n=r(9796),o=r(2924),a=r(563),c=r(6799),l=r(2801),h=r(9511),{KeyObject:u,createSecretKey:f,createPublicKey:p}=r(5511),d=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],b=["RS256","RS384","RS512"],x=["HS256","HS384","HS512"];l&&(d.splice(d.length,0,"PS256","PS384","PS512"),b.splice(b.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,l){let y,g,w;if("function"!=typeof r||l||(l=r,r={}),r||(r={}),r=Object.assign({},r),y=l||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return y(new s("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return y(new s("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return y(new s("allowInvalidAsymmetricKeyTypes must be a boolean"));let v=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return y(new s("jwt must be provided"));if("string"!=typeof e)return y(new s("jwt must be a string"));let E=e.split(".");if(3!==E.length)return y(new s("jwt malformed"));try{g=o(e,{complete:!0})}catch(e){return y(e)}if(!g)return y(new s("invalid token"));let S=g.header;if("function"==typeof t){if(!l)return y(new s("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,r){return r(null,t)};return w(S,function(t,o){let l;if(t)return y(new s("error in secret or public key callback: "+t.message));let w=""!==E[2].trim();if(!w&&o)return y(new s("jwt signature is required"));if(w&&!o)return y(new s("secret or public key must be provided"));if(!w&&!r.algorithms)return y(new s('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=o&&!(o instanceof u))try{o=p(o)}catch(e){try{o=f("string"==typeof o?Buffer.from(o):o)}catch(e){return y(new s("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===o.type?r.algorithms=x:["rsa","rsa-pss"].includes(o.asymmetricKeyType)?r.algorithms=b:"ec"===o.asymmetricKeyType?r.algorithms=m:r.algorithms=d),-1===r.algorithms.indexOf(g.header.alg))return y(new s("invalid algorithm"));if(S.alg.startsWith("HS")&&"secret"!==o.type)return y(new s(`secretOrPublicKey must be a symmetric key when using ${S.alg}`));if(/^(?:RS|PS|ES)/.test(S.alg)&&"public"!==o.type)return y(new s(`secretOrPublicKey must be an asymmetric key when using ${S.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{c(S.alg,o)}catch(e){return y(e)}try{l=h.verify(e,g.header.alg,o)}catch(e){return y(e)}if(!l)return y(new s("invalid signature"));let _=g.payload;if(void 0!==_.nbf&&!r.ignoreNotBefore){if("number"!=typeof _.nbf)return y(new s("invalid nbf value"));if(_.nbf>v+(r.clockTolerance||0))return y(new i("jwt not active",new Date(1e3*_.nbf)))}if(void 0!==_.exp&&!r.ignoreExpiration){if("number"!=typeof _.exp)return y(new s("invalid exp value"));if(v>=_.exp+(r.clockTolerance||0))return y(new n("jwt expired",new Date(1e3*_.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(_.aud)?_.aud:[_.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return y(new s("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&_.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(_.iss)))return y(new s("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&_.sub!==r.subject)return y(new s("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&_.jti!==r.jwtid)return y(new s("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&_.nonce!==r.nonce)return y(new s("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof _.iat)return y(new s("iat required when maxAge is specified"));let e=a(r.maxAge,_.iat);if(void 0===e)return y(new s('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(v>=e+(r.clockTolerance||0))return y(new n("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?y(null,{header:S,payload:_,signature:g.signature}):y(null,_)})}},525:(e,t,r)=>{var s,i=r(5957).Buffer,n=r(5511),o=r(7846),a=r(8354),c="secret must be a string or buffer",l="key must be a string or a buffer",h="function"==typeof n.createPublicKey;function u(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!h||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(l)}function f(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(a.format.bind(a,e).apply(null,t))}function b(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function x(e){return function(t,r){(function(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!h||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(c)})(r),t=b(t);var s=n.createHmac("sha"+e,r);return p((s.update(t),s.digest("base64")))}}h&&(l+=" or a KeyObject",c+="or a KeyObject");var y="timingSafeEqual"in n?function(e,t){return e.byteLength===t.byteLength&&n.timingSafeEqual(e,t)}:function(e,t){return s||(s=r(4653)),s(e,t)};function g(e){return function(t,r,s){var n=x(e)(t,s);return y(i.from(r),i.from(n))}}function w(e){return function(t,r){f(r),t=b(t);var s=n.createSign("RSA-SHA"+e);return p((s.update(t),s.sign(r,"base64")))}}function v(e){return function(t,r,s){u(s),t=b(t),r=d(r);var i=n.createVerify("RSA-SHA"+e);return i.update(t),i.verify(s,r,"base64")}}function E(e){return function(t,r){f(r),t=b(t);var s=n.createSign("RSA-SHA"+e);return p((s.update(t),s.sign({key:r,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function S(e){return function(t,r,s){u(s),t=b(t),r=d(r);var i=n.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:s,padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function _(e){var t=w(e);return function(){var r=t.apply(null,arguments);return o.derToJose(r,"ES"+e)}}function O(e){var t=v(e);return function(r,s,i){return t(r,s=o.joseToDer(s,"ES"+e).toString("base64"),i)}}function A(){return function(){return""}}function R(){return function(e,t){return""===t}}e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),s=t[2];return{sign:({hs:x,rs:w,ps:E,es:_,none:A})[r](s),verify:({hs:g,rs:v,ps:S,es:O,none:R})[r](s)}}},9511:(e,t,r)=>{var s=r(719),i=r(3259);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=s.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new s(e)},t.createVerify=function(e){return new i(e)}},6676:(e,t,r)=>{var s=r(5957).Buffer,i=r(7910);function n(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=s.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=s.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r(8354).inherits(n,i),n.prototype.write=function(e){this.buffer=s.concat([this.buffer,s.from(e)]),this.emit("data",e)},n.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=n},719:(e,t,r)=>{var s=r(5957).Buffer,i=r(6676),n=r(525),o=r(7910),a=r(7911),c=r(8354);function l(e,t){return s.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e){var t,r,s,i=e.header,o=e.payload,h=e.secret||e.privateKey,u=e.encoding,f=n(i.alg),p=(t=(t=u)||"utf8",r=l(a(i),"binary"),s=l(a(o),t),c.format("%s.%s",r,s)),d=f.sign(p,h);return c.format("%s.%s",p,d)}function u(e){var t=new i(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new i(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}c.inherits(u,o),u.prototype.sign=function(){try{var e=h({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},u.sign=h,e.exports=u},7911:(e,t,r)=>{var s=r(9428).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||s.isBuffer(e)?e.toString():JSON.stringify(e)}},3259:(e,t,r)=>{var s=r(5957).Buffer,i=r(6676),n=r(525),o=r(7910),a=r(7911),c=r(8354),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function h(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(s.from(t,"base64").toString("binary"))}function u(e){return e.split(".")[2]}function f(e){return l.test(e)&&!!h(e)}function p(e,t,r){if(!t){var s=Error("Missing algorithm parameter for jws.verify");throw s.code="MISSING_ALGORITHM",s}var i=u(e=a(e)),o=e.split(".",2).join(".");return n(t).verify(o,i,r)}function d(e,t){if(t=t||{},!f(e=a(e)))return null;var r,i,n=h(e);if(!n)return null;var o=(r=r||"utf8",i=e.split(".")[1],s.from(i,"base64").toString(r));return("JWT"===n.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:n,payload:o,signature:u(e)}}function m(e){var t=new i((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new i(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}c.inherits(m,o),m.prototype.verify=function(){try{var e=p(this.signature.buffer,this.algorithm,this.key.buffer),t=d(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=d,m.isValid=f,m.verify=p,e.exports=m},5067:e=>{var t,r,s=1/0,i=0/0,n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=/^(?:0|[1-9]\d*)$/,h=parseInt;function u(e){return e!=e}var f=Object.prototype,p=f.hasOwnProperty,d=f.toString,m=f.propertyIsEnumerable,b=(t=Object.keys,r=Object,function(e){return t(r(e))}),x=Math.max,y=Array.isArray;function g(e){var t,r;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=0x1fffffffffffff&&!("[object Function]"==(r=w(e)?d.call(e):"")||"[object GeneratorFunction]"==r)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){return!!e&&"object"==typeof e}e.exports=function(e,t,r,E){e=g(e)?e:(S=e)?function(e,t){for(var r=-1,s=e?e.length:0,i=Array(s);++r<s;)i[r]=t(e[r],r,e);return i}(g(S)?function(e,t){var r,s=y(e)||v(e)&&g(e)&&p.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==d.call(e))?function(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}(e.length,String):[],i=s.length,n=!!i;for(var o in e)p.call(e,o)&&!(n&&("length"==o||(r=null==(r=i)?0x1fffffffffffff:r)&&("number"==typeof o||l.test(o))&&o>-1&&o%1==0&&o<r))&&s.push(o);return s}(S):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||f))return b(e);var t,r=[];for(var s in Object(e))p.call(e,s)&&"constructor"!=s&&r.push(s);return r}(S),function(e){return S[e]}):[],r=r&&!E?(A=(O=(_=r)?(_=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||v(t)&&"[object Symbol]"==d.call(t))return i;if(w(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=w(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=a.test(e);return s||c.test(e)?h(e.slice(2),s?2:8):o.test(e)?i:+e}(_))===s||_===-s?(_<0?-1:1)*17976931348623157e292:_==_?_:0:0===_?_:0)%1,O==O?A?O-A:O:0):0;var S,_,O,A,R,T=e.length;return r<0&&(r=x(T+r,0)),"string"==typeof(R=e)||!y(R)&&v(R)&&"[object String]"==d.call(R)?r<=T&&e.indexOf(t,r)>-1:!!T&&function(e,t,r){if(t!=t)return function(e,t,r,s){for(var i=e.length,n=r+-1;++n<i;)if(t(e[n],n,e))return n;return -1}(e,u,r);for(var s=r-1,i=e.length;++s<i;)if(e[s]===t)return s;return -1}(e,t,r)>-1}},1382:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},3432:e=>{var t=1/0,r=0/0,s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c=Object.prototype.toString;function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var h,u,f;return"number"==typeof e&&e==(f=(u=(h=e)?(h=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==c.call(t))return r;if(l(e)){var t,h="function"==typeof e.valueOf?e.valueOf():e;e=l(h)?h+"":h}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var u=n.test(e);return u||o.test(e)?a(e.slice(2),u?2:8):i.test(e)?r:+e}(h))===t||h===-t?(h<0?-1:1)*17976931348623157e292:h==h?h:0:0===h?h:0)%1,u==u?f?u-f:u:0)}},2451:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},9529:e=>{var t,r,s=Object.prototype,i=Function.prototype.toString,n=s.hasOwnProperty,o=i.call(Object),a=s.toString,c=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=a.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var r=n.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&i.call(r)==o}},3199:e=>{var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){var s;return"string"==typeof e||!r(e)&&!!(s=e)&&"object"==typeof s&&"[object String]"==t.call(e)}},3135:e=>{var t=1/0,r=0/0,s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c=Object.prototype.toString;function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,h){var u,f,p,d;if("function"!=typeof h)throw TypeError("Expected a function");return d=(p=(f=e)?(f=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==c.call(t))return r;if(l(e)){var t,h="function"==typeof e.valueOf?e.valueOf():e;e=l(h)?h+"":h}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var u=n.test(e);return u||o.test(e)?a(e.slice(2),u?2:8):i.test(e)?r:+e}(f))===t||f===-t?(f<0?-1:1)*17976931348623157e292:f==f?f:0:0===f?f:0)%1,e=p==p?d?p-d:p:0,function(){return--e>0&&(u=h.apply(this,arguments)),e<=1&&(h=void 0),u}}(2,e)}},3337:e=>{function t(e,t,r,s){return Math.round(e/r)+" "+s+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var s,i,n=typeof e;if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===n&&isFinite(e))return r.long?(s=Math.abs(e))>=864e5?t(e,s,864e5,"day"):s>=36e5?t(e,s,36e5,"hour"):s>=6e4?t(e,s,6e4,"minute"):s>=1e3?t(e,s,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9187:(e,t,r)=>{"use strict";var s=r(1520);r.o(s,"NextResponse")&&r.d(t,{NextResponse:function(){return s.NextResponse}})},4446:(e,t,r)=>{var s;(()=>{var i={226:function(i,n){!function(o,a){"use strict";var c="function",l="undefined",h="object",u="string",f="major",p="model",d="name",m="type",b="vendor",x="version",y="architecture",g="console",w="mobile",v="tablet",E="smarttv",S="wearable",_="embedded",O="Amazon",A="Apple",R="ASUS",T="BlackBerry",I="Browser",k="Chrome",L="Firefox",C="Google",P="Huawei",N="Microsoft",M="Motorola",B="Opera",U="Samsung",D="Sharp",$="Sony",j="Xiaomi",F="Zebra",q="Facebook",z="Chromium OS",G="Mac OS",W=function(e,t){var r={};for(var s in e)t[s]&&t[s].length%2==0?r[s]=t[s].concat(e[s]):r[s]=e[s];return r},Q=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},V=function(e,t){return typeof e===u&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,350)},X=function(e,t){for(var r,s,i,n,o,l,u=0;u<t.length&&!o;){var f=t[u],p=t[u+1];for(r=s=0;r<f.length&&!o&&f[r];)if(o=f[r++].exec(e))for(i=0;i<p.length;i++)l=o[++s],typeof(n=p[i])===h&&n.length>0?2===n.length?typeof n[1]==c?this[n[0]]=n[1].call(this,l):this[n[0]]=n[1]:3===n.length?typeof n[1]!==c||n[1].exec&&n[1].test?this[n[0]]=l?l.replace(n[1],n[2]):void 0:this[n[0]]=l?n[1].call(this,l,n[2]):void 0:4===n.length&&(this[n[0]]=l?n[3].call(this,l.replace(n[1],n[2])):void 0):this[n]=l||a;u+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===h&&t[r].length>0){for(var s=0;s<t[r].length;s++)if(V(t[r][s],e))return"?"===r?a:r}else if(V(t[r],e))return"?"===r?a:r;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,x],[/opios[\/ ]+([\w\.]+)/i],[x,[d,B+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[d,B]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[d,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[x,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+I],x],[/\bfocus\/([\w\.]+)/i],[x,[d,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[d,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[d,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[d,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[x,[d,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+I],x],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,q],x],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[d,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,k+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[d,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[x,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[d,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,x],[/(cobalt)\/([\w\.]+)/i],[d,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,H]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[b,U],[m,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[b,U],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[b,A],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[b,A],[m,v]],[/(macintosh);/i],[p,[b,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[b,D],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[b,P],[m,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[b,P],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[b,j],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[b,j],[m,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[b,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[b,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[b,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[b,M],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[b,M],[m,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[b,"LG"],[m,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[b,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[b,"Lenovo"],[m,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[b,"Nokia"],[m,w]],[/(pixel c)\b/i],[p,[b,C],[m,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[b,C],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[b,$],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[b,$],[m,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[b,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[b,O],[m,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[b,O],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[p,b,[m,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[b,T],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[b,R],[m,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[b,R],[m,w]],[/(nexus 9)/i],[p,[b,"HTC"],[m,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[p,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[b,"Acer"],[m,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[b,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,p,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,p,[m,v]],[/(surface duo)/i],[p,[b,N],[m,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[b,"Fairphone"],[m,w]],[/(u304aa)/i],[p,[b,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[p,[b,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[p,[b,"RCA"],[m,v]],[/\b(venue[\d ]{2,7}) b/i],[p,[b,"Dell"],[m,v]],[/\b(q(?:mv|ta)\w+) b/i],[p,[b,"Verizon"],[m,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[b,"Barnes & Noble"],[m,v]],[/\b(tm\d{3}\w+) b/i],[p,[b,"NuVision"],[m,v]],[/\b(k88) b/i],[p,[b,"ZTE"],[m,v]],[/\b(nx\d{3}j) b/i],[p,[b,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[p,[b,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[p,[b,"Swiss"],[m,v]],[/\b((zeki)?tb.*\b) b/i],[p,[b,"Zeki"],[m,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],p,[m,v]],[/\b(ns-?\w{0,9}) b/i],[p,[b,"Insignia"],[m,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[b,"NextBook"],[m,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],p,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],p,[m,w]],[/\b(ph-1) /i],[p,[b,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[b,"Envizen"],[m,v]],[/\b(trio[-\w\. ]+) b/i],[p,[b,"MachSpeed"],[m,v]],[/\btu_(1491) b/i],[p,[b,"Rotor"],[m,v]],[/(shield[\w ]+) b/i],[p,[b,"Nvidia"],[m,v]],[/(sprint) (\w+)/i],[b,p,[m,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[b,N],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[b,F],[m,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[b,F],[m,w]],[/smart-tv.+(samsung)/i],[b,[m,E]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[b,U],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,"LG"],[m,E]],[/(apple) ?tv/i],[b,[p,A+" TV"],[m,E]],[/crkey/i],[[p,k+"cast"],[b,C],[m,E]],[/droid.+aft(\w)( bui|\))/i],[p,[b,O],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[b,D],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[p,[b,$],[m,E]],[/(mitv-\w{5}) bui/i],[p,[b,j],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[b,p,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,K],[p,K],[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,p,[m,g]],[/droid.+; (shield) bui/i],[p,[b,"Nvidia"],[m,g]],[/(playstation [345portablevi]+)/i],[p,[b,$],[m,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[b,N],[m,g]],[/((pebble))app/i],[b,p,[m,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[b,A],[m,S]],[/droid.+; (glass) \d/i],[p,[b,C],[m,S]],[/droid.+; (wt63?0{2,3})\)/i],[p,[b,F],[m,S]],[/(quest( 2| pro)?)/i],[p,[b,q],[m,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[m,_]],[/(aeobc)\b/i],[p,[b,O],[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[m,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[x,Y,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[x,Y,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,G],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,x],[/\(bb(10);/i],[x,[d,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[d,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[d,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,z],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,x],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,x]]},ee=function(e,t){if(typeof e===h&&(t=e,e=a),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof o!==l&&o.navigator?o.navigator:a,s=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:a,n=t?W(Z,t):Z,g=r&&r.userAgent==s;return this.getBrowser=function(){var e,t={};return t[d]=a,t[x]=a,X.call(t,s,n.browser),t[f]=typeof(e=t[x])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:a,g&&r&&r.brave&&typeof r.brave.isBrave==c&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[y]=a,X.call(e,s,n.cpu),e},this.getDevice=function(){var e={};return e[b]=a,e[p]=a,e[m]=a,X.call(e,s,n.device),g&&!e[m]&&i&&i.mobile&&(e[m]=w),g&&"Macintosh"==e[p]&&r&&typeof r.standalone!==l&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[p]="iPad",e[m]=v),e},this.getEngine=function(){var e={};return e[d]=a,e[x]=a,X.call(e,s,n.engine),e},this.getOS=function(){var e={};return e[d]=a,e[x]=a,X.call(e,s,n.os),g&&!e[d]&&i&&"Unknown"!=i.platform&&(e[d]=i.platform.replace(/chrome os/i,z).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=typeof e===u&&e.length>350?K(e,350):e,this},this.setUA(s),this};ee.VERSION="1.0.35",ee.BROWSER=Q([d,x,f]),ee.CPU=Q([y]),ee.DEVICE=Q([p,b,m,g,w,E,v,S,_]),ee.ENGINE=ee.OS=Q([d,x]),typeof n!==l?(i.exports&&(n=i.exports=ee),n.UAParser=ee):r.amdO?void 0!==(s=(function(){return ee}).call(t,r,t,e))&&(e.exports=s):typeof o!==l&&(o.UAParser=ee);var et=typeof o!==l&&(o.jQuery||o.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}},s=!0;try{i[e].call(r.exports,r,r.exports,o),s=!1}finally{s&&delete n[e]}return r.exports}o.ab=__dirname+"/";var a=o(226);e.exports=a})()},6050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_after",{enumerable:!0,get:function(){return i}});let s=r(9294);function i(e){let t=s.workAsyncStorage.getStore();if(!t)throw Error("`unstable_after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context");let{afterContext:r}=t;if(!r)throw Error("`unstable_after` must be explicitly enabled by setting `experimental.after: true` in your next.config.js.");return r.after(e)}},5036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(6050),t)},6807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return c}});let s=r(9294),i=r(3033),n=r(436),o=r(2312),a=r(457);function c(){let e=s.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if("after"===t.phase)throw Error(`Route ${e.route} used "connection" inside "unstable_after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "unstable_after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/unstable_after`)}if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return(0,a.makeHangingPromise)(t.renderSignal,"`connection()`");"prerender-ppr"===t.type?(0,n.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,n.throwToInterruptStaticGeneration)("connection",e,t)}(0,n.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},2706:(e,t,r)=>{"use strict";e.exports=r(4870)},1520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return s.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return n.NextResponse},URLPattern:function(){return a.URLPattern},connection:function(){return l.connection},unstable_after:function(){return c.unstable_after},userAgent:function(){return o.userAgent},userAgentFromString:function(){return o.userAgentFromString}});let s=r(4159),i=r(1639),n=r(4899),o=r(2215),a=r(1512),c=r(5036),l=r(6807)},4159:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},4899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return u}});let s=r(9181),i=r(9619),n=r(5225),o=r(614),a=r(9181),c=Symbol("internal response"),l=new Set([301,302,303,307,308]);function h(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[s,i]of e.request.headers)t.set("x-middleware-request-"+s,i),r.push(s);t.set("x-middleware-override-headers",r.join(","))}}class u extends Response{constructor(e,t={}){super(e,t);let r=this.headers,l=new Proxy(new a.ResponseCookies(r),{get(e,i,n){switch(i){case"delete":case"set":return(...n)=>{let o=Reflect.apply(e[i],e,n),c=new Headers(r);return o instanceof a.ResponseCookies&&r.set("x-middleware-set-cookie",o.getAll().map(e=>(0,s.stringifyCookie)(e)).join(",")),h(t,c),o};default:return o.ReflectAdapter.get(e,i,n)}}});this[c]={cookies:l,url:t.url?new i.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let r=Response.json(e,t);return new u(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let s="object"==typeof t?t:{},i=new Headers(null==s?void 0:s.headers);return i.set("Location",(0,n.validateURL)(e)),new u(null,{...s,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,n.validateURL)(e)),h(t,r),new u(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),h(e,t),new u(null,{...e,headers:t})}}},1512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},2215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return o},userAgentFromString:function(){return n}});let s=function(e){return e&&e.__esModule?e:{default:e}}(r(4446));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function n(e){return{...(0,s.default)(e),isBot:void 0!==e&&i(e)}}function o({headers:e}){return n(e.get("user-agent")||void 0)}},1449:(e,t,r)=>{let s=require;"function"==typeof s.addon?e.exports=s.addon.bind(s):e.exports=r(7869)},7869:(e,t,r)=>{var s=r(9021),i=r(3873),n=r(1820),o=require,a=process.config&&process.config.variables||{},c=!!process.env.PREBUILDS_ONLY,l=process.versions.modules,h=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",u=process.env.npm_config_arch||n.arch(),f=process.env.npm_config_platform||n.platform(),p=process.env.LIBC||("linux"===f&&s.existsSync("/etc/alpine-release")?"musl":"glibc"),d=process.env.ARM_VERSION||("arm64"===u?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function b(e){return o(b.resolve(e))}function x(e){try{return s.readdirSync(e)}catch(e){return[]}}function y(e,t){var r=x(e).filter(t);return r[0]&&i.join(e,r[0])}function g(e){return/\.node$/.test(e)}function w(e){var t=e.split("-");if(2===t.length){var r=t[0],s=t[1].split("+");if(r&&s.length&&s.every(Boolean))return{name:e,platform:r,architectures:s}}}function v(e,t){return function(r){return null!=r&&r.platform===e&&r.architectures.includes(t)}}function E(e,t){return e.architectures.length-t.architectures.length}function S(e){var t=e.split("."),r=t.pop(),s={file:e,specificity:0};if("node"===r){for(var i=0;i<t.length;i++){var n=t[i];if("node"===n||"electron"===n||"node-webkit"===n)s.runtime=n;else if("napi"===n)s.napi=!0;else if("abi"===n.slice(0,3))s.abi=n.slice(3);else if("uv"===n.slice(0,2))s.uv=n.slice(2);else if("armv"===n.slice(0,4))s.armv=n.slice(4);else{if("glibc"!==n&&"musl"!==n)continue;s.libc=n}s.specificity++}return s}}function _(e,t){return function(r){return null!=r&&(!r.runtime||r.runtime===e||!!("node"===r.runtime&&r.napi))&&(!r.abi||r.abi===t||!!r.napi)&&(!r.uv||r.uv===m)&&(!r.armv||r.armv===d)&&(!r.libc||r.libc===p)}}function O(e){return function(t,r){return t.runtime!==r.runtime?t.runtime===e?-1:1:t.abi!==r.abi?t.abi?-1:1:t.specificity!==r.specificity?t.specificity>r.specificity?-1:1:0}}e.exports=b,b.resolve=b.path=function(e){e=i.resolve(e||".");try{var t=o(i.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!c){var r=y(i.join(e,"build/Release"),g);if(r)return r;var s=y(i.join(e,"build/Debug"),g);if(s)return s}var n=b(e);if(n)return n;var a=b(i.dirname(process.execPath));if(a)return a;throw Error("No native build was found for "+["platform="+f,"arch="+u,"runtime="+h,"abi="+l,"uv="+m,d?"armv="+d:"","libc="+p,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ")+"\n    loaded from: "+e+"\n");function b(e){var t=x(i.join(e,"prebuilds")).map(w).filter(v(f,u)).sort(E)[0];if(t){var r=i.join(e,"prebuilds",t.name),s=x(r).map(S).filter(_(h,l)).sort(O(h))[0];if(s)return i.join(r,s.file)}}},b.parseTags=S,b.matchTags=_,b.compareTags=O,b.parseTuple=w,b.matchTuple=v,b.compareTuples=E},5957:(e,t,r)=>{var s=r(9428),i=s.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=s:(n(s,t),t.Buffer=o),o.prototype=Object.create(i.prototype),n(i,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var s=i(e);return void 0!==t?"string"==typeof r?s.fill(t,r):s.fill(t):s.fill(0),s},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return s.SlowBuffer(e)}},1304:(e,t,r)=>{"use strict";let s=Symbol("SemVer ANY");class i{static get ANY(){return s}constructor(e,t){if(t=n(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}l("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===s?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){let t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new h(r[2],this.options.loose):this.semver=s}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===s||e===s)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):!((t=n(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let n=r(4879),{safeRe:o,t:a}=r(3898),c=r(699),l=r(2592),h=r(3812),u=r(3731)},3731:(e,t,r)=>{"use strict";let s=/\s+/g;class i{constructor(e,t){if(t=o(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(s," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!x(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&b))+":"+e,r=n.get(t);if(r)return r;let s=this.options.loose,i=s?h[u.HYPHENRANGELOOSE]:h[u.HYPHENRANGE];c("hyphen replace",e=e.replace(i,k(this.options.includePrerelease))),c("comparator trim",e=e.replace(h[u.COMPARATORTRIM],f)),c("tilde trim",e=e.replace(h[u.TILDETRIM],p)),c("caret trim",e=e.replace(h[u.CARETTRIM],d));let o=e.split(" ").map(e=>w(e,this.options)).join(" ").split(/\s+/).map(e=>I(e,this.options));s&&(o=o.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(h[u.COMPARATORLOOSE])))),c("range list",o);let l=new Map;for(let e of o.map(e=>new a(e,this.options))){if(x(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");let y=[...l.values()];return n.set(t,y),y}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>g(r,t)&&e.set.some(e=>g(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(L(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let n=new(r(1254)),o=r(4879),a=r(1304),c=r(2592),l=r(3812),{safeRe:h,t:u,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:d}=r(3898),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:b}=r(6822),x=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,g=(e,t)=>{let r=!0,s=e.slice(),i=s.pop();for(;r&&s.length;)r=s.every(e=>i.intersects(e,t)),i=s.pop();return r},w=(e,t)=>(c("comp",e,t),c("caret",e=_(e,t)),c("tildes",e=E(e,t)),c("xrange",e=A(e,t)),c("stars",e=T(e,t)),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{let r=t.loose?h[u.TILDELOOSE]:h[u.TILDE];return e.replace(r,(t,r,s,i,n)=>{let o;return c("tilde",e,t,r,s,i,n),v(r)?o="":v(s)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:v(i)?o=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:n?(c("replaceTilde pr",n),o=`>=${r}.${s}.${i}-${n} <${r}.${+s+1}.0-0`):o=`>=${r}.${s}.${i} <${r}.${+s+1}.0-0`,c("tilde return",o),o})},_=(e,t)=>e.trim().split(/\s+/).map(e=>O(e,t)).join(" "),O=(e,t)=>{c("caret",e,t);let r=t.loose?h[u.CARETLOOSE]:h[u.CARET],s=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,n,o)=>{let a;return c("caret",e,t,r,i,n,o),v(r)?a="":v(i)?a=`>=${r}.0.0${s} <${+r+1}.0.0-0`:v(n)?a="0"===r?`>=${r}.${i}.0${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${s} <${+r+1}.0.0-0`:o?(c("replaceCaret pr",o),a="0"===r?"0"===i?`>=${r}.${i}.${n}-${o} <${r}.${i}.${+n+1}-0`:`>=${r}.${i}.${n}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${n}-${o} <${+r+1}.0.0-0`):(c("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${n}${s} <${r}.${i}.${+n+1}-0`:`>=${r}.${i}.${n}${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${n} <${+r+1}.0.0-0`),c("caret return",a),a})},A=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>R(e,t)).join(" ")),R=(e,t)=>{e=e.trim();let r=t.loose?h[u.XRANGELOOSE]:h[u.XRANGE];return e.replace(r,(r,s,i,n,o,a)=>{c("xRange",e,r,s,i,n,o,a);let l=v(i),h=l||v(n),u=h||v(o);return"="===s&&u&&(s=""),a=t.includePrerelease?"-0":"",l?r=">"===s||"<"===s?"<0.0.0-0":"*":s&&u?(h&&(n=0),o=0,">"===s?(s=">=",h?(i=+i+1,n=0):n=+n+1,o=0):"<="===s&&(s="<",h?i=+i+1:n=+n+1),"<"===s&&(a="-0"),r=`${s+i}.${n}.${o}${a}`):h?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:u&&(r=`>=${i}.${n}.0${a} <${i}.${+n+1}.0-0`),c("xRange return",r),r})},T=(e,t)=>(c("replaceStars",e,t),e.trim().replace(h[u.STAR],"")),I=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(h[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),k=e=>(t,r,s,i,n,o,a,c,l,h,u,f)=>(r=v(s)?"":v(i)?`>=${s}.0.0${e?"-0":""}`:v(n)?`>=${s}.${i}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`,c=v(l)?"":v(h)?`<${+l+1}.0.0-0`:v(u)?`<${l}.${+h+1}.0-0`:f?`<=${l}.${h}.${u}-${f}`:e?`<${l}.${h}.${+u+1}-0`:`<=${c}`,`${r} ${c}`.trim()),L=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(c(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){let s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}},3812:(e,t,r)=>{"use strict";let s=r(2592),{MAX_LENGTH:i,MAX_SAFE_INTEGER:n}=r(6822),{safeRe:o,t:a}=r(3898),c=r(4879),{compareIdentifiers:l}=r(2967);class h{constructor(e,t){if(t=c(t),e instanceof h){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>n||this.major<0)throw TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<n)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(s("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return l(r,i)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(s("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return l(r,i)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?o[a.PRERELEASELOOSE]:o[a.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let s=this.prerelease.length;for(;--s>=0;)"number"==typeof this.prerelease[s]&&(this.prerelease[s]++,s=-2);if(-1===s){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let s=[t,e];!1===r&&(s=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=h},3498:(e,t,r)=>{"use strict";let s=r(2328);e.exports=(e,t)=>{let r=s(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},699:(e,t,r)=>{"use strict";let s=r(945),i=r(5019),n=r(4220),o=r(6921),a=r(6903),c=r(6440);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return s(e,r,l);case"!=":return i(e,r,l);case">":return n(e,r,l);case">=":return o(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw TypeError(`Invalid operator: ${t}`)}}},6950:(e,t,r)=>{"use strict";let s=r(3812),i=r(2328),{safeRe:n,t:o}=r(3898);e.exports=(e,t)=>{if(e instanceof s)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let s;let i=t.includePrerelease?n[o.COERCERTLFULL]:n[o.COERCERTL];for(;(s=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&s.index+s[0].length===r.index+r[0].length||(r=s),i.lastIndex=s.index+s[1].length+s[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?n[o.COERCEFULL]:n[o.COERCE]);if(null===r)return null;let a=r[2],c=r[3]||"0",l=r[4]||"0",h=t.includePrerelease&&r[5]?`-${r[5]}`:"",u=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${c}.${l}${h}${u}`,t)}},1205:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t,r)=>{let i=new s(e,r),n=new s(t,r);return i.compare(n)||i.compareBuild(n)}},1575:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t)=>s(e,t,!0)},3128:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t,r)=>new s(e,r).compare(new s(t,r))},1200:(e,t,r)=>{"use strict";let s=r(2328);e.exports=(e,t)=>{let r=s(e,null,!0),i=s(t,null,!0),n=r.compare(i);if(0===n)return null;let o=n>0,a=o?r:i,c=o?i:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(a))return c.minor&&!c.patch?"minor":"patch"}let h=l?"pre":"";return r.major!==i.major?h+"major":r.minor!==i.minor?h+"minor":r.patch!==i.patch?h+"patch":"prerelease"}},945:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>0===s(e,t,r)},4220:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>s(e,t,r)>0},6921:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>s(e,t,r)>=0},8555:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t,r,i,n)=>{"string"==typeof r&&(n=i,i=r,r=void 0);try{return new s(e instanceof s?e.version:e,r).inc(t,i,n).version}catch(e){return null}}},6903:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>0>s(e,t,r)},6440:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>0>=s(e,t,r)},1686:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t)=>new s(e,t).major},4386:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t)=>new s(e,t).minor},5019:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>0!==s(e,t,r)},2328:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t,r=!1)=>{if(e instanceof s)return e;try{return new s(e,t)}catch(e){if(!r)return null;throw e}}},9877:(e,t,r)=>{"use strict";let s=r(3812);e.exports=(e,t)=>new s(e,t).patch},7969:(e,t,r)=>{"use strict";let s=r(2328);e.exports=(e,t)=>{let r=s(e,t);return r&&r.prerelease.length?r.prerelease:null}},5070:(e,t,r)=>{"use strict";let s=r(3128);e.exports=(e,t,r)=>s(t,e,r)},4781:(e,t,r)=>{"use strict";let s=r(1205);e.exports=(e,t)=>e.sort((e,r)=>s(r,e,t))},1770:(e,t,r)=>{"use strict";let s=r(3731);e.exports=(e,t,r)=>{try{t=new s(t,r)}catch(e){return!1}return t.test(e)}},9363:(e,t,r)=>{"use strict";let s=r(1205);e.exports=(e,t)=>e.sort((e,r)=>s(e,r,t))},1225:(e,t,r)=>{"use strict";let s=r(2328);e.exports=(e,t)=>{let r=s(e,t);return r?r.version:null}},6205:(e,t,r)=>{"use strict";let s=r(3898),i=r(6822),n=r(3812),o=r(2967),a=r(2328),c=r(1225),l=r(3498),h=r(8555),u=r(1200),f=r(1686),p=r(4386),d=r(9877),m=r(7969),b=r(3128),x=r(5070),y=r(1575),g=r(1205),w=r(9363),v=r(4781),E=r(4220),S=r(6903),_=r(945),O=r(5019),A=r(6921),R=r(6440),T=r(699),I=r(6950),k=r(1304),L=r(3731),C=r(1770),P=r(6587),N=r(8524),M=r(6034),B=r(9397),U=r(2750),D=r(7607),$=r(7479),j=r(1682),F=r(7164),q=r(3093),z=r(4928);e.exports={parse:a,valid:c,clean:l,inc:h,diff:u,major:f,minor:p,patch:d,prerelease:m,compare:b,rcompare:x,compareLoose:y,compareBuild:g,sort:w,rsort:v,gt:E,lt:S,eq:_,neq:O,gte:A,lte:R,cmp:T,coerce:I,Comparator:k,Range:L,satisfies:C,toComparators:P,maxSatisfying:N,minSatisfying:M,minVersion:B,validRange:U,outside:D,gtr:$,ltr:j,intersects:F,simplifyRange:q,subset:z,SemVer:n,re:s.re,src:s.src,tokens:s.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},6822:e=>{"use strict";let t=Number.MAX_SAFE_INTEGER||0x1fffffffffffff;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},2592:e=>{"use strict";let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},2967:e=>{"use strict";let t=/^[0-9]+$/,r=(e,r)=>{let s=t.test(e),i=t.test(r);return s&&i&&(e=+e,r=+r),e===r?0:s&&!i?-1:i&&!s?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},1254:e=>{"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},4879:e=>{"use strict";let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},3898:(e,t,r)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:n}=r(6822),o=r(2592),a=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],h=t.safeSrc=[],u=t.t={},f=0,p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",n],[p,i]],m=e=>{for(let[t,r]of d)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},b=(e,t,r)=>{let s=m(t),i=f++;o(e,i,t),u[e]=i,l[i]=t,h[i]=s,a[i]=new RegExp(t,r?"g":void 0),c[i]=new RegExp(s,r?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),b("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${p}+`),b("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),b("FULL",`^${l[u.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),b("LOOSE",`^${l[u.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),b("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),b("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),b("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),b("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?`+"(?:$|[^\\d])"),b("COERCERTL",l[u.COERCE],!0),b("COERCERTLFULL",l[u.COERCEFULL],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",b("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",b("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7479:(e,t,r)=>{"use strict";let s=r(7607);e.exports=(e,t,r)=>s(e,t,">",r)},7164:(e,t,r)=>{"use strict";let s=r(3731);e.exports=(e,t,r)=>(e=new s(e,r),t=new s(t,r),e.intersects(t,r))},1682:(e,t,r)=>{"use strict";let s=r(7607);e.exports=(e,t,r)=>s(e,t,"<",r)},8524:(e,t,r)=>{"use strict";let s=r(3812),i=r(3731);e.exports=(e,t,r)=>{let n=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!n||-1===o.compare(e))&&(o=new s(n=e,r))}),n}},6034:(e,t,r)=>{"use strict";let s=r(3812),i=r(3731);e.exports=(e,t,r)=>{let n=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!n||1===o.compare(e))&&(o=new s(n=e,r))}),n}},9397:(e,t,r)=>{"use strict";let s=r(3812),i=r(3731),n=r(4220);e.exports=(e,t)=>{e=new i(e,t);let r=new s("0.0.0");if(e.test(r)||(r=new s("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],o=null;i.forEach(e=>{let t=new s(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||n(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),o&&(!r||n(r,o))&&(r=o)}return r&&e.test(r)?r:null}},7607:(e,t,r)=>{"use strict";let s=r(3812),i=r(1304),{ANY:n}=i,o=r(3731),a=r(1770),c=r(4220),l=r(6903),h=r(6440),u=r(6921);e.exports=(e,t,r,f)=>{let p,d,m,b,x;switch(e=new s(e,f),t=new o(t,f),r){case">":p=c,d=h,m=l,b=">",x=">=";break;case"<":p=l,d=u,m=c,b="<",x="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,f))return!1;for(let r=0;r<t.set.length;++r){let s=t.set[r],o=null,a=null;if(s.forEach(e=>{e.semver===n&&(e=new i(">=0.0.0")),o=o||e,a=a||e,p(e.semver,o.semver,f)?o=e:m(e.semver,a.semver,f)&&(a=e)}),o.operator===b||o.operator===x||(!a.operator||a.operator===b)&&d(e,a.semver)||a.operator===x&&m(e,a.semver))return!1}return!0}},3093:(e,t,r)=>{"use strict";let s=r(1770),i=r(3128);e.exports=(e,t,r)=>{let n=[],o=null,a=null,c=e.sort((e,t)=>i(e,t,r));for(let e of c)s(e,t,r)?(a=e,o||(o=e)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);let l=[];for(let[e,t]of n)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");let h=l.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return h.length<u.length?h:t}},4928:(e,t,r)=>{"use strict";let s=r(3731),i=r(1304),{ANY:n}=i,o=r(1770),a=r(3128),c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],h=(e,t,r)=>{let s,i,h,p,d,m,b;if(e===t)return!0;if(1===e.length&&e[0].semver===n){if(1===t.length&&t[0].semver===n)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===n){if(r.includePrerelease)return!0;t=l}let x=new Set;for(let t of e)">"===t.operator||">="===t.operator?s=u(s,t,r):"<"===t.operator||"<="===t.operator?i=f(i,t,r):x.add(t.semver);if(x.size>1||s&&i&&((h=a(s.semver,i.semver,r))>0||0===h&&(">="!==s.operator||"<="!==i.operator)))return null;for(let e of x){if(s&&!o(e,String(s),r)||i&&!o(e,String(i),r))return null;for(let s of t)if(!o(e,String(s),r))return!1;return!0}let y=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,g=!!s&&!r.includePrerelease&&!!s.semver.prerelease.length&&s.semver;for(let e of(y&&1===y.prerelease.length&&"<"===i.operator&&0===y.prerelease[0]&&(y=!1),t)){if(b=b||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,s){if(g&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch&&(g=!1),">"===e.operator||">="===e.operator){if((p=u(s,e,r))===e&&p!==s)return!1}else if(">="===s.operator&&!o(s.semver,String(e),r))return!1}if(i){if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if((d=f(i,e,r))===e&&d!==i)return!1}else if("<="===i.operator&&!o(i.semver,String(e),r))return!1}if(!e.operator&&(i||s)&&0!==h)return!1}return(!s||!m||!!i||0===h)&&(!i||!b||!!s||0===h)&&!g&&!y},u=(e,t,r)=>{if(!e)return t;let s=a(e.semver,t.semver,r);return s>0?e:s<0?t:">"===t.operator&&">="===e.operator?t:e},f=(e,t,r)=>{if(!e)return t;let s=a(e.semver,t.semver,r);return s<0?e:s>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new s(e,r),t=new s(t,r);let i=!1;e:for(let s of e.set){for(let e of t.set){let t=h(s,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},6587:(e,t,r)=>{"use strict";let s=r(3731);e.exports=(e,t)=>new s(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},2750:(e,t,r)=>{"use strict";let s=r(3731);e.exports=(e,t)=>{try{return new s(e,t).range||"*"}catch(e){return null}}},2310:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:s}=r(3226),i=Buffer[Symbol.species];function n(e,t,r,s,i){for(let n=0;n<i;n++)r[s+n]=e[n]^t[3&n]}function o(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return s;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),n=0;for(let t=0;t<e.length;t++){let s=e[t];r.set(s,n),n+=s.length}return n<t?new i(r.buffer,r.byteOffset,n):r},mask:n,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let r;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?r=new i(t):ArrayBuffer.isView(t)?r=new i(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r)},unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{let t=r(4071);e.exports.mask=function(e,r,s,i,o){o<48?n(e,r,s,i,o):t.mask(e,r,s,i,o)},e.exports.unmask=function(e,r){e.length<32?o(e,r):t.unmask(e,r)}}catch(e){}},3226:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],r="undefined"!=typeof Blob;r&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:r,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},2573:(e,t,r)=>{"use strict";let{kForOnEventAttribute:s,kListener:i}=r(3226),n=Symbol("kCode"),o=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),h=Symbol("kTarget"),u=Symbol("kType"),f=Symbol("kWasClean");class p{constructor(e){this[h]=null,this[u]=e}get target(){return this[h]}get type(){return this[u]}}Object.defineProperty(p.prototype,"target",{enumerable:!0}),Object.defineProperty(p.prototype,"type",{enumerable:!0});class d extends p{constructor(e,t={}){super(e),this[n]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[f]=void 0!==t.wasClean&&t.wasClean}get code(){return this[n]}get reason(){return this[l]}get wasClean(){return this[f]}}Object.defineProperty(d.prototype,"code",{enumerable:!0}),Object.defineProperty(d.prototype,"reason",{enumerable:!0}),Object.defineProperty(d.prototype,"wasClean",{enumerable:!0});class m extends p{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class b extends p{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}function x(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(b.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:d,ErrorEvent:m,Event:p,EventTarget:{addEventListener(e,t,r={}){let n;for(let n of this.listeners(e))if(!r[s]&&n[i]===t&&!n[s])return;if("message"===e)n=function(e,r){let s=new b("message",{data:r?e:e.toString()});s[h]=this,x(t,this,s)};else if("close"===e)n=function(e,r){let s=new d("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});s[h]=this,x(t,this,s)};else if("error"===e)n=function(e){let r=new m("error",{error:e,message:e.message});r[h]=this,x(t,this,r)};else{if("open"!==e)return;n=function(){let e=new p("open");e[h]=this,x(t,this,e)}}n[s]=!!r[s],n[i]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[i]===t&&!r[s]){this.removeListener(e,r);break}}},MessageEvent:b}},7450:(e,t,r)=>{"use strict";let{tokenChars:s}=r(8704);function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r;let n=Object.create(null),o=Object.create(null),a=!1,c=!1,l=!1,h=-1,u=-1,f=-1,p=0;for(;p<e.length;p++)if(u=e.charCodeAt(p),void 0===t){if(-1===f&&1===s[u])-1===h&&(h=p);else if(0!==p&&(32===u||9===u))-1===f&&-1!==h&&(f=p);else if(59===u||44===u){if(-1===h)throw SyntaxError(`Unexpected character at index ${p}`);-1===f&&(f=p);let r=e.slice(h,f);44===u?(i(n,r,o),o=Object.create(null)):t=r,h=f=-1}else throw SyntaxError(`Unexpected character at index ${p}`)}else if(void 0===r){if(-1===f&&1===s[u])-1===h&&(h=p);else if(32===u||9===u)-1===f&&-1!==h&&(f=p);else if(59===u||44===u){if(-1===h)throw SyntaxError(`Unexpected character at index ${p}`);-1===f&&(f=p),i(o,e.slice(h,f),!0),44===u&&(i(n,t,o),o=Object.create(null),t=void 0),h=f=-1}else if(61===u&&-1!==h&&-1===f)r=e.slice(h,p),h=f=-1;else throw SyntaxError(`Unexpected character at index ${p}`)}else if(c){if(1!==s[u])throw SyntaxError(`Unexpected character at index ${p}`);-1===h?h=p:a||(a=!0),c=!1}else if(l){if(1===s[u])-1===h&&(h=p);else if(34===u&&-1!==h)l=!1,f=p;else if(92===u)c=!0;else throw SyntaxError(`Unexpected character at index ${p}`)}else if(34===u&&61===e.charCodeAt(p-1))l=!0;else if(-1===f&&1===s[u])-1===h&&(h=p);else if(-1!==h&&(32===u||9===u))-1===f&&(f=p);else if(59===u||44===u){if(-1===h)throw SyntaxError(`Unexpected character at index ${p}`);-1===f&&(f=p);let s=e.slice(h,f);a&&(s=s.replace(/\\/g,""),a=!1),i(o,r,s),44===u&&(i(n,t,o),o=Object.create(null),t=void 0),r=void 0,h=f=-1}else throw SyntaxError(`Unexpected character at index ${p}`);if(-1===h||l||32===u||9===u)throw SyntaxError("Unexpected end of input");-1===f&&(f=p);let d=e.slice(h,f);return void 0===t?i(n,d,o):(void 0===r?i(o,d,!0):a?i(o,r,d.replace(/\\/g,"")):i(o,r,d),i(n,t,o)),n}}},8963:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class s{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=s},2911:(e,t,r)=>{"use strict";let s;let i=r(4075),n=r(2310),o=r(8963),{kStatusCode:a}=r(3226),c=Buffer[Symbol.species],l=Buffer.from([0,0,255,255]),h=Symbol("permessage-deflate"),u=Symbol("total-length"),f=Symbol("callback"),p=Symbol("buffers"),d=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,s||(s=new o(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[f];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){s.add(s=>{this._decompress(e,t,(e,t)=>{s(),r(e,t)})})}compress(e,t,r){s.add(s=>{this._compress(e,t,(e,t)=>{s(),r(e,t)})})}_decompress(e,t,r){let s=this._isServer?"client":"server";if(!this._inflate){let e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[h]=this,this._inflate[u]=0,this._inflate[p]=[],this._inflate.on("error",y),this._inflate.on("data",x)}this._inflate[f]=r,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush(()=>{let e=this._inflate[d];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=n.concat(this._inflate[p],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[p]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let s=this._isServer?"server":"client";if(!this._deflate){let e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[p]=[],this._deflate.on("data",b)}this._deflate[f]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=n.concat(this._deflate[p],this._deflate[u]);t&&(e=new c(e.buffer,e.byteOffset,e.length-4)),this._deflate[f]=null,this._deflate[u]=0,this._deflate[p]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function b(e){this[p].push(e),this[u]+=e.length}function x(e){if(this[u]+=e.length,this[h]._maxPayload<1||this[u]<=this[h]._maxPayload){this[p].push(e);return}this[d]=RangeError("Max payload size exceeded"),this[d].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[d][a]=1009,this.removeListener("data",x),this.reset()}function y(e){if(this[h]._inflate=null,this[d]){this[f](this[d]);return}e[a]=1007,this[f](e)}e.exports=m},7522:(e,t,r)=>{"use strict";let{Writable:s}=r(7910),i=r(2911),{BINARY_TYPES:n,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=r(3226),{concat:l,toArrayBuffer:h,unmask:u}=r(2310),{isValidStatusCode:f,isValidUTF8:p}=r(8704),d=Buffer[Symbol.species];class m extends s{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||n[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new d(t.buffer,t.byteOffset+e,t.length-e),new d(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],s=t.length-e;e>=r.length?t.set(this._buffers.shift(),s):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),s),this._buffers[0]=new d(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let r=(64&t[0])==64;if(r&&!this._extensions[i.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&u(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let s;s="nodebuffer"===this._binaryType?l(r,t):"arraybuffer"===this._binaryType?h(l(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",s,!0),this._state=0,this.startLoop(e)}))}else{let s=l(r,t);if(!this._skipUTF8Validation&&!p(s)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",s,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,o),this.end();else{let r=e.readUInt16BE(0);if(!f(r)){t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let s=new d(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!p(s)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",r,s),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,s,i){this._loop=!1,this._errored=!0;let n=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(n,this.createError),n.code=i,n[a]=s,n}}e.exports=m},5870:(e,t,r)=>{"use strict";let s;let{Duplex:i}=r(7910),{randomFillSync:n}=r(5511),o=r(2911),{EMPTY_BUFFER:a,kWebSocket:c,NOOP:l}=r(3226),{isBlob:h,isValidStatusCode:u}=r(8704),{mask:f,toBuffer:p}=r(2310),d=Symbol("kByteLength"),m=Buffer.alloc(4),b=8192;class x{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=l,this[c]=void 0}static frame(e,t){let r,i;let o=!1,a=2,c=!1;t.mask&&(r=t.maskBuffer||m,t.generateMask?t.generateMask(r):(8192===b&&(void 0===s&&(s=Buffer.alloc(8192)),n(s,0,8192),b=0),r[0]=s[b++],r[1]=s[b++],r[2]=s[b++],r[3]=s[b++]),c=(r[0]|r[1]|r[2]|r[3])==0,a=6),"string"==typeof e?i=(!t.mask||c)&&void 0!==t[d]?t[d]:(e=Buffer.from(e)).length:(i=e.length,o=t.mask&&t.readOnly&&!c);let l=i;i>=65536?(a+=8,l=127):i>125&&(a+=2,l=126);let h=Buffer.allocUnsafe(o?i+a:a);return(h[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(h[0]|=64),h[1]=l,126===l?h.writeUInt16BE(i,2):127===l&&(h[2]=h[3]=0,h.writeUIntBE(i,4,6)),t.mask)?(h[1]|=128,h[a-4]=r[0],h[a-3]=r[1],h[a-2]=r[2],h[a-1]=r[3],c)?[h,e]:o?(f(e,r,h,a,i),[h]):(f(e,r,e,0,i),[h,e]):[h,e]}close(e,t,r,s){let i;if(void 0===e)i=a;else if("number"==typeof e&&u(e)){if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?i.write(t,2):i.set(t,2)}else(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let n={[d]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,i,!1,n,s]):this.sendFrame(x.frame(i,n),s)}ping(e,t,r){let s,i;if("string"==typeof e?(s=Buffer.byteLength(e),i=!1):h(e)?(s=e.size,i=!1):(s=(e=p(e)).length,i=p.readOnly),s>125)throw RangeError("The data size must not be greater than 125 bytes");let n={[d]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};h(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,n,r]):this.getBlobData(e,!1,n,r):0!==this._state?this.enqueue([this.dispatch,e,!1,n,r]):this.sendFrame(x.frame(e,n),r)}pong(e,t,r){let s,i;if("string"==typeof e?(s=Buffer.byteLength(e),i=!1):h(e)?(s=e.size,i=!1):(s=(e=p(e)).length,i=p.readOnly),s>125)throw RangeError("The data size must not be greater than 125 bytes");let n={[d]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};h(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,n,r]):this.getBlobData(e,!1,n,r):0!==this._state?this.enqueue([this.dispatch,e,!1,n,r]):this.sendFrame(x.frame(e,n),r)}send(e,t,r){let s,i;let n=this._extensions[o.extensionName],a=t.binary?2:1,c=t.compress;"string"==typeof e?(s=Buffer.byteLength(e),i=!1):h(e)?(s=e.size,i=!1):(s=(e=p(e)).length,i=p.readOnly),this._firstFragment?(this._firstFragment=!1,c&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=s>=n._threshold),this._compress=c):(c=!1,a=0),t.fin&&(this._firstFragment=!0);let l={[d]:s,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:c};h(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,l,r]):this.getBlobData(e,this._compress,l,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,l,r]):this.dispatch(e,this._compress,l,r)}getBlobData(e,t,r,s){this._bufferedBytes+=r[d],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(y,this,e,s);return}this._bufferedBytes-=r[d];let i=p(e);t?this.dispatch(i,t,r,s):(this._state=0,this.sendFrame(x.frame(i,r),s),this.dequeue())}).catch(e=>{process.nextTick(g,this,e,s)})}dispatch(e,t,r,s){if(!t){this.sendFrame(x.frame(e,r),s);return}let i=this._extensions[o.extensionName];this._bufferedBytes+=r[d],this._state=1,i.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){y(this,Error("The socket was closed while data was being compressed"),s);return}this._bufferedBytes-=r[d],this._state=0,r.readOnly=!1,this.sendFrame(x.frame(t,r),s),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][d],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][d],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function y(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let s=e._queue[r],i=s[s.length-1];"function"==typeof i&&i(t)}}function g(e,t,r){y(e,t,r),e.onerror(t)}e.exports=x},883:(e,t,r)=>{"use strict";r(6852);let{Duplex:s}=r(7910);function i(e){e.emit("close")}function n(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,a=new s({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let s=!r&&a._readableState.objectMode?t.toString():t;a.push(s)||e.pause()}),e.once("error",function(e){a.destroyed||(r=!1,a.destroy(e))}),e.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(t,s){if(e.readyState===e.CLOSED){s(t),process.nextTick(i,a);return}let n=!1;e.once("error",function(e){n=!0,s(e)}),e.once("close",function(){n||s(t),process.nextTick(i,a)}),r&&e.terminate()},a._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){a._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,s){if(e.readyState===e.CONNECTING){e.once("open",function(){a._write(t,r,s)});return}e.send(t,s)},a.on("end",n),a.on("error",o),a}},7669:(e,t,r)=>{"use strict";let{tokenChars:s}=r(8704);e.exports={parse:function(e){let t=new Set,r=-1,i=-1,n=0;for(;n<e.length;n++){let o=e.charCodeAt(n);if(-1===i&&1===s[o])-1===r&&(r=n);else if(0!==n&&(32===o||9===o))-1===i&&-1!==r&&(i=n);else if(44===o){if(-1===r)throw SyntaxError(`Unexpected character at index ${n}`);-1===i&&(i=n);let s=e.slice(r,i);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);t.add(s),r=i=-1}else throw SyntaxError(`Unexpected character at index ${n}`)}if(-1===r||-1!==i)throw SyntaxError("Unexpected end of input");let o=e.slice(r,n);if(t.has(o))throw SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},8704:(e,t,r)=>{"use strict";let{isUtf8:s}=r(9428),{hasBlob:i}=r(3226);function n(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isBlob:function(e){return i&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:n,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},s)e.exports.isValidUTF8=function(e){return e.length<24?n(e):s(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r(7990);e.exports.isValidUTF8=function(e){return e.length<32?n(e):t(e)}}catch(e){}},4902:(e,t,r)=>{"use strict";let s=r(4735),i=r(1630),{Duplex:n}=r(7910),{createHash:o}=r(5511),a=r(7450),c=r(2911),l=r(7669),h=r(6852),{GUID:u,kWebSocket:f}=r(3226),p=/^[+/0-9A-Za-z]{22}==$/;class d extends s{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:h,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer((e,t)=>{let r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,s)=>{this.handleUpgrade(t,r,s,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,s){t.on("error",b);let i=e.headers["sec-websocket-key"],n=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if("GET"!==e.method){y(this,e,t,405,"Invalid HTTP method");return}if(void 0===n||"websocket"!==n.toLowerCase()){y(this,e,t,400,"Invalid Upgrade header");return}if(void 0===i||!p.test(i)){y(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(13!==o&&8!==o){y(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){x(t,400);return}let h=e.headers["sec-websocket-protocol"],u=new Set;if(void 0!==h)try{u=l.parse(h)}catch(r){y(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let f=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&void 0!==f){let r=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=a.parse(f);e[c.extensionName]&&(r.accept(e[c.extensionName]),d[c.extensionName]=r)}catch(r){y(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let n={origin:e.headers[`${8===o?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(n,(n,o,a,c)=>{if(!n)return x(t,o||401,a,c);this.completeUpgrade(d,i,u,e,t,r,s)});return}if(!this.options.verifyClient(n))return x(t,401)}this.completeUpgrade(d,i,u,e,t,r,s)}completeUpgrade(e,t,r,s,i,n,l){if(!i.readable||!i.writable)return i.destroy();if(i[f])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return x(i,503);let h=o("sha1").update(t+u).digest("base64"),p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${h}`],d=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,s):r.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),d._protocol=e)}if(e[c.extensionName]){let t=e[c.extensionName].params,r=a.format({[c.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${r}`),d._extensions=e}this.emit("headers",p,s),i.write(p.concat("\r\n").join("\r\n")),i.removeListener("error",b),d.setSocket(i,n,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(d),d.on("close",()=>{this.clients.delete(d),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),l(d,s)}}function m(e){e._state=2,e.emit("close")}function b(){this.destroy()}function x(e,t,r,s){r=r||i.STATUS_CODES[t],s={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...s},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r
`+Object.keys(s).map(e=>`${e}: ${s[e]}`).join("\r\n")+"\r\n\r\n"+r)}function y(e,t,r,s,i,n){if(e.listenerCount("wsClientError")){let s=Error(i);Error.captureStackTrace(s,y),e.emit("wsClientError",s,r,t)}else x(r,s,i,n)}e.exports=d},6852:(e,t,r)=>{"use strict";let s=r(4735),i=r(5591),n=r(1630),o=r(1645),a=r(4631),{randomBytes:c,createHash:l}=r(5511),{Duplex:h,Readable:u}=r(7910),{URL:f}=r(9551),p=r(2911),d=r(7522),m=r(5870),{isBlob:b}=r(8704),{BINARY_TYPES:x,EMPTY_BUFFER:y,GUID:g,kForOnEventAttribute:w,kListener:v,kStatusCode:E,kWebSocket:S,NOOP:_}=r(3226),{EventTarget:{addEventListener:O,removeEventListener:A}}=r(2573),{format:R,parse:T}=r(7450),{toBuffer:I}=r(2310),k=Symbol("kAborted"),L=[8,13],C=["CONNECTING","OPEN","CLOSING","CLOSED"],P=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends s{constructor(e,t,r){super(),this._binaryType=x[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,s,o){let a,h,u,d;let m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:L[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...o,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!L.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${L.join(", ")})`);if(r instanceof f)a=r;else try{a=new f(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),t._url=a.href;let b="wss:"===a.protocol,x="ws+unix:"===a.protocol;if("ws:"===a.protocol||b||x?x&&!a.pathname?h="The URL's pathname is empty":a.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',h){let e=SyntaxError(h);if(0===t._redirects)throw e;M(t,e);return}let y=b?443:80,w=c(16).toString("base64"),v=b?i.request:n.request,E=new Set;if(m.createConnection=m.createConnection||(b?U:B),m.defaultPort=m.defaultPort||y,m.port=a.port||y,m.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":w,Connection:"Upgrade",Upgrade:"websocket"},m.path=a.pathname+a.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(u=new p(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=R({[p.extensionName]:u.offer()})),s.length){for(let e of s){if("string"!=typeof e||!P.test(e)||E.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");E.add(e)}m.headers["Sec-WebSocket-Protocol"]=s.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(a.username||a.password)&&(m.auth=`${a.username}:${a.password}`),x){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=x,t._originalSecure=b,t._originalHostOrSocketPath=x?m.socketPath:a.host;let e=o&&o.headers;if(o={...o,headers:{}},e)for(let[t,r]of Object.entries(e))o.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=x?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&a.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||b)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!o.headers.authorization&&(o.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),d=t._req=v(m),t._redirects&&t.emit("redirect",t.url,d)}else d=t._req=v(m);m.timeout&&d.on("timeout",()=>{D(t,d,"Opening handshake has timed out")}),d.on("error",e=>{null===d||d[k]||(d=t._req=null,M(t,e))}),d.on("response",i=>{let n=i.headers.location,a=i.statusCode;if(n&&m.followRedirects&&a>=300&&a<400){let i;if(++t._redirects>m.maxRedirects){D(t,d,"Maximum redirects exceeded");return}d.abort();try{i=new f(n,r)}catch(e){M(t,SyntaxError(`Invalid URL: ${n}`));return}e(t,i,s,o)}else t.emit("unexpected-response",d,i)||D(t,d,`Unexpected server response: ${i.statusCode}`)}),d.on("upgrade",(e,r,s)=>{let i;if(t.emit("upgrade",e),t.readyState!==N.CONNECTING)return;d=t._req=null;let n=e.headers.upgrade;if(void 0===n||"websocket"!==n.toLowerCase()){D(t,r,"Invalid Upgrade header");return}let o=l("sha1").update(w+g).digest("base64");if(e.headers["sec-websocket-accept"]!==o){D(t,r,"Invalid Sec-WebSocket-Accept header");return}let a=e.headers["sec-websocket-protocol"];if(void 0!==a?E.size?E.has(a)||(i="Server sent an invalid subprotocol"):i="Server sent a subprotocol but none was requested":E.size&&(i="Server sent no subprotocol"),i){D(t,r,i);return}a&&(t._protocol=a);let c=e.headers["sec-websocket-extensions"];if(void 0!==c){let e;if(!u){D(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=T(c)}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}let s=Object.keys(e);if(1!==s.length||s[0]!==p.extensionName){D(t,r,"Server indicated an extension that was not requested");return}try{u.accept(e[p.extensionName])}catch(e){D(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[p.extensionName]=u}t.setSocket(r,s,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(d,t):d.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){x.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let s=new d({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),i=new m(e,this._extensions,r.generateMask);this._receiver=s,this._sender=i,this._socket=e,s[S]=this,i[S]=this,e[S]=this,s.on("conclude",j),s.on("drain",F),s.on("error",q),s.on("message",G),s.on("ping",W),s.on("pong",Q),i.onerror=H,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",X),e.on("data",Y),e.on("end",J),e.on("error",Z),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){D(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===N.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),K(this)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){$(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,r)}pong(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){$(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,r)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){$(this,e,r);return}let s={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(s.compress=!1),this._sender.send(e||y,s,r)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){D(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=N.CLOSING,this._socket.destroy())}}}function M(e,t){e._readyState=N.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function B(e){return e.path=e.socketPath,o.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function D(e,t,r){e._readyState=N.CLOSING;let s=Error(r);Error.captureStackTrace(s,D),t.setHeader?(t[k]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(M,e,s)):(t.destroy(s),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function $(e,t,r){if(t){let r=b(t)?t.size:I(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${C[e.readyState]})`);process.nextTick(r,t)}}function j(e,t){let r=this[S];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[S]&&(r._socket.removeListener("data",Y),process.nextTick(V,r._socket),1005===e?r.close():r.close(e,t))}function F(){let e=this[S];e.isPaused||e._socket.resume()}function q(e){let t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",Y),process.nextTick(V,t._socket),t.close(e[E])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function z(){this[S].emitClose()}function G(e,t){this[S].emit("message",e,t)}function W(e){let t=this[S];t._autoPong&&t.pong(e,!this._isServer,_),t.emit("ping",e)}function Q(e){this[S].emit("pong",e)}function V(e){e.resume()}function H(e){let t=this[S];t.readyState===N.CLOSED||(t.readyState===N.OPEN&&(t._readyState=N.CLOSING,K(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function K(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function X(){let e;let t=this[S];this.removeListener("close",X),this.removeListener("data",Y),this.removeListener("end",J),t._readyState=N.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[S]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",z),t._receiver.on("finish",z))}function Y(e){this[S]._receiver.write(e)||this.pause()}function J(){let e=this[S];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function Z(){let e=this[S];this.removeListener("error",Z),this.on("error",_),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[w])return t[v];return null},set(t){for(let t of this.listeners(e))if(t[w]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[w]:!0})}})}),N.prototype.addEventListener=O,N.prototype.removeEventListener=A,e.exports=N},3636:(e,t,r)=>{"use strict";r.d(t,{kv:()=>rL});var s=r(7598);let i=s.webcrypto?.subtle||{};var n=Object.defineProperty;((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})({},{UpstashError:()=>o,UrlError:()=>a});var o=class extends Error{constructor(e){super(e),this.name="UpstashError"}},a=class extends Error{constructor(e){super(`Upstash Redis client was passed an invalid URL. You should pass a URL starting with https. Received: "${e}". `),this.name="UrlError"}};function c(e){try{return function e(t){let r=Array.isArray(t)?t.map(t=>{try{return e(t)}catch{return t}}):JSON.parse(t);return"number"==typeof r&&r.toString()!==t?t:r}(e)}catch{return e}}function l(e){return[e[0],...c(e.slice(1))]}function h(e){let[t,r]=e,s=[];for(let e=0;e<r.length;e+=2)s.push({key:r[e],type:r[e+1]});return[t,s]}var u=class{baseUrl;headers;options;readYourWrites;upstashSyncToken="";hasCredentials;retry;constructor(e){if(this.options={backend:e.options?.backend,agent:e.agent,responseEncoding:e.responseEncoding??"base64",cache:e.cache,signal:e.signal,keepAlive:e.keepAlive??!0},this.upstashSyncToken="",this.readYourWrites=e.readYourWrites??!0,this.baseUrl=(e.baseUrl||"").replace(/\/$/,""),this.baseUrl&&!/^https?:\/\/[^\s#$./?].\S*$/.test(this.baseUrl))throw new a(this.baseUrl);this.headers={"Content-Type":"application/json",...e.headers},this.hasCredentials=!!(this.baseUrl&&this.headers.authorization.split(" ")[1]),"base64"===this.options.responseEncoding&&(this.headers["Upstash-Encoding"]="base64"),this.retry="boolean"!=typeof e.retry||e.retry?{attempts:e.retry?.retries??5,backoff:e.retry?.backoff??(e=>50*Math.exp(e))}:{attempts:1,backoff:()=>0}}mergeTelemetry(e){this.headers=d(this.headers,"Upstash-Telemetry-Runtime",e.runtime),this.headers=d(this.headers,"Upstash-Telemetry-Platform",e.platform),this.headers=d(this.headers,"Upstash-Telemetry-Sdk",e.sdk)}async request(e){let t=function(...e){let t={};for(let r of e)if(r)for(let[e,s]of Object.entries(r))null!=s&&(t[e]=s);return t}(this.headers,e.headers??{}),r=[this.baseUrl,...e.path??[]].join("/"),s="text/event-stream"===t.Accept,i=e.signal??this.options.signal,n="function"==typeof i,a={cache:this.options.cache,method:"POST",headers:t,body:JSON.stringify(e.body),keepalive:this.options.keepAlive,agent:this.options.agent,signal:n?i():i,backend:this.options.backend};if(this.hasCredentials||console.warn("[Upstash Redis] Redis client was initialized without url or token. Failed to execute command."),this.readYourWrites){let e=this.upstashSyncToken;this.headers["upstash-sync-token"]=e}let c=null,l=null;for(let e=0;e<=this.retry.attempts;e++)try{c=await fetch(r,a);break}catch(t){if(a.signal?.aborted&&n)throw t;if(a.signal?.aborted){c=new Response(new Blob([JSON.stringify({result:a.signal.reason??"Aborted"})]),{status:200,statusText:a.signal.reason??"Aborted"});break}l=t,e<this.retry.attempts&&await new Promise(t=>setTimeout(t,this.retry.backoff(e)))}if(!c)throw l??Error("Exhausted all retries");if(!c.ok){let t=await c.json();throw new o(`${t.error}, command was: ${JSON.stringify(e.body)}`)}if(this.readYourWrites){let e=c.headers;this.upstashSyncToken=e.get("upstash-sync-token")??""}if(s&&e&&e.onMessage&&c.body){let t=c.body.getReader(),r=new TextDecoder;return(async()=>{try{for(;;){let{value:s,done:i}=await t.read();if(i)break;for(let t of r.decode(s).split("\n"))if(t.startsWith("data: ")){let r=t.slice(6);e.onMessage?.(r)}}}catch(e){e instanceof Error&&"AbortError"===e.name||console.error("Stream reading error:",e)}finally{try{await t.cancel()}catch{}}})(),{result:1}}let h=await c.json();if(this.readYourWrites){let e=c.headers;this.upstashSyncToken=e.get("upstash-sync-token")??""}return"base64"===this.options.responseEncoding?Array.isArray(h)?h.map(({result:e,error:t})=>({result:p(e),error:t})):{result:p(h.result),error:h.error}:h}};function f(e){let t="";try{let r=atob(e),s=r.length,i=new Uint8Array(s);for(let e=0;e<s;e++)i[e]=r.charCodeAt(e);t=new TextDecoder().decode(i)}catch{t=e}return t}function p(e){let t;switch(typeof e){case"undefined":return e;case"number":t=e;break;case"object":t=Array.isArray(e)?e.map(e=>"string"==typeof e?f(e):Array.isArray(e)?e.map(e=>p(e)):e):null;break;case"string":t="OK"===e?"OK":f(e)}return t}function d(e,t,r){return r&&(e[t]=e[t]?[e[t],r].join(","):r),e}var m=e=>{switch(typeof e){case"string":case"number":case"boolean":return e;default:return JSON.stringify(e)}},b=class{command;serialize;deserialize;headers;path;onMessage;isStreaming;signal;constructor(e,t){if(this.serialize=m,this.deserialize=t?.automaticDeserialization===void 0||t.automaticDeserialization?t?.deserialize??c:e=>e,this.command=e.map(e=>this.serialize(e)),this.headers=t?.headers,this.path=t?.path,this.onMessage=t?.streamOptions?.onMessage,this.isStreaming=t?.streamOptions?.isStreaming??!1,this.signal=t?.streamOptions?.signal,t?.latencyLogging){let e=this.exec.bind(this);this.exec=async t=>{let r=performance.now(),s=await e(t),i=(performance.now()-r).toFixed(2);return console.log(`Latency for \x1b[38;2;19;185;39m${this.command[0].toString().toUpperCase()}\x1b[0m: \x1b[38;2;0;255;255m${i} ms\x1b[0m`),s}}}async exec(e){let{result:t,error:r}=await e.request({body:this.command,path:this.path,upstashSyncToken:e.upstashSyncToken,headers:this.headers,onMessage:this.onMessage,isStreaming:this.isStreaming,signal:this.signal});if(r)throw new o(r);if(void 0===t)throw TypeError("Request did not return a result");return this.deserialize(t)}},x=class extends b{constructor(e,t){let r=["hrandfield",e[0]];"number"==typeof e[1]&&r.push(e[1]),e[2]&&r.push("WITHVALUES"),super(r,{deserialize:e[2]?e=>(function(e){if(0===e.length)return null;let t={};for(let r=0;r<e.length;r+=2){let s=e[r],i=e[r+1];try{t[s]=JSON.parse(i)}catch{t[s]=i}}return t})(e):t?.deserialize,...t})}},y=class extends b{constructor(e,t){super(["append",...e],t)}},g=class extends b{constructor([e,t,r],s){let i=["bitcount",e];"number"==typeof t&&i.push(t),"number"==typeof r&&i.push(r),super(i,s)}},w=class{constructor(e,t,r,s=e=>e.exec(this.client)){this.client=t,this.opts=r,this.execOperation=s,this.command=["bitfield",...e]}command;chain(...e){return this.command.push(...e),this}get(...e){return this.chain("get",...e)}set(...e){return this.chain("set",...e)}incrby(...e){return this.chain("incrby",...e)}overflow(e){return this.chain("overflow",e)}exec(){let e=new b(this.command,this.opts);return this.execOperation(e)}},v=class extends b{constructor(e,t){super(["bitop",...e],t)}},E=class extends b{constructor(e,t){super(["bitpos",...e],t)}},S=class extends b{constructor([e,t,r],s){super(["COPY",e,t,...r?.replace?["REPLACE"]:[]],{...s,deserialize:e=>e>0?"COPIED":"NOT_COPIED"})}},_=class extends b{constructor(e){super(["dbsize"],e)}},O=class extends b{constructor(e,t){super(["decr",...e],t)}},A=class extends b{constructor(e,t){super(["decrby",...e],t)}},R=class extends b{constructor(e,t){super(["del",...e],t)}},T=class extends b{constructor(e,t){super(["echo",...e],t)}},I=class extends b{constructor([e,t,r],s){super(["eval_ro",e,t.length,...t,...r??[]],s)}},k=class extends b{constructor([e,t,r],s){super(["eval",e,t.length,...t,...r??[]],s)}},L=class extends b{constructor([e,t,r],s){super(["evalsha_ro",e,t.length,...t,...r??[]],s)}},C=class extends b{constructor([e,t,r],s){super(["evalsha",e,t.length,...t,...r??[]],s)}},P=class extends b{constructor(e,t){super(e.map(e=>"string"==typeof e?e:String(e)),t)}},N=class extends b{constructor(e,t){super(["exists",...e],t)}},M=class extends b{constructor(e,t){super(["expire",...e.filter(Boolean)],t)}},B=class extends b{constructor(e,t){super(["expireat",...e],t)}},U=class extends b{constructor(e,t){let r=["flushall"];e&&e.length>0&&e[0].async&&r.push("async"),super(r,t)}},D=class extends b{constructor([e],t){let r=["flushdb"];e?.async&&r.push("async"),super(r,t)}},$=class extends b{constructor([e,t,...r],s){let i=["geoadd",e];"nx"in t&&t.nx?i.push("nx"):"xx"in t&&t.xx&&i.push("xx"),"ch"in t&&t.ch&&i.push("ch"),"latitude"in t&&t.latitude&&i.push(t.longitude,t.latitude,t.member),i.push(...r.flatMap(({latitude:e,longitude:t,member:r})=>[t,e,r])),super(i,s)}},j=class extends b{constructor([e,t,r,s="M"],i){super(["GEODIST",e,t,r,s],i)}},F=class extends b{constructor(e,t){let[r]=e;super(["GEOHASH",r,...Array.isArray(e[1])?e[1]:e.slice(1)],t)}},q=class extends b{constructor(e,t){let[r]=e;super(["GEOPOS",r,...Array.isArray(e[1])?e[1]:e.slice(1)],{deserialize:e=>(function(e){let t=[];for(let r of e)r?.[0]&&r?.[1]&&t.push({lng:Number.parseFloat(r[0]),lat:Number.parseFloat(r[1])});return t})(e),...t})}},z=class extends b{constructor([e,t,r,s,i],n){let o=["GEOSEARCH",e];("FROMMEMBER"===t.type||"frommember"===t.type)&&o.push(t.type,t.member),("FROMLONLAT"===t.type||"fromlonlat"===t.type)&&o.push(t.type,t.coordinate.lon,t.coordinate.lat),("BYRADIUS"===r.type||"byradius"===r.type)&&o.push(r.type,r.radius,r.radiusType),("BYBOX"===r.type||"bybox"===r.type)&&o.push(r.type,r.rect.width,r.rect.height,r.rectType),o.push(s),i?.count&&o.push("COUNT",i.count.limit,...i.count.any?["ANY"]:[]),super([...o,...i?.withCoord?["WITHCOORD"]:[],...i?.withDist?["WITHDIST"]:[],...i?.withHash?["WITHHASH"]:[]],{deserialize:e=>i?.withCoord||i?.withDist||i?.withHash?e.map(e=>{let t=1,r={};try{r.member=JSON.parse(e[0])}catch{r.member=e[0]}return i.withDist&&(r.dist=Number.parseFloat(e[t++])),i.withHash&&(r.hash=e[t++].toString()),i.withCoord&&(r.coord={long:Number.parseFloat(e[t][0]),lat:Number.parseFloat(e[t][1])}),r}):e.map(e=>{try{return{member:JSON.parse(e)}}catch{return{member:e}}}),...n})}},G=class extends b{constructor([e,t,r,s,i,n],o){let a=["GEOSEARCHSTORE",e,t];("FROMMEMBER"===r.type||"frommember"===r.type)&&a.push(r.type,r.member),("FROMLONLAT"===r.type||"fromlonlat"===r.type)&&a.push(r.type,r.coordinate.lon,r.coordinate.lat),("BYRADIUS"===s.type||"byradius"===s.type)&&a.push(s.type,s.radius,s.radiusType),("BYBOX"===s.type||"bybox"===s.type)&&a.push(s.type,s.rect.width,s.rect.height,s.rectType),a.push(i),n?.count&&a.push("COUNT",n.count.limit,...n.count.any?["ANY"]:[]),super([...a,...n?.storeDist?["STOREDIST"]:[]],o)}},W=class extends b{constructor(e,t){super(["get",...e],t)}},Q=class extends b{constructor(e,t){super(["getbit",...e],t)}},V=class extends b{constructor(e,t){super(["getdel",...e],t)}},H=class extends b{constructor([e,t],r){let s=["getex",e];t&&("ex"in t&&"number"==typeof t.ex?s.push("ex",t.ex):"px"in t&&"number"==typeof t.px?s.push("px",t.px):"exat"in t&&"number"==typeof t.exat?s.push("exat",t.exat):"pxat"in t&&"number"==typeof t.pxat?s.push("pxat",t.pxat):"persist"in t&&t.persist&&s.push("persist")),super(s,r)}},K=class extends b{constructor(e,t){super(["getrange",...e],t)}},X=class extends b{constructor(e,t){super(["getset",...e],t)}},Y=class extends b{constructor(e,t){super(["hdel",...e],t)}},J=class extends b{constructor(e,t){super(["hexists",...e],t)}},Z=class extends b{constructor(e,t){let[r,s,i,n]=e,o=Array.isArray(s)?s:[s];super(["hexpire",r,i,...n?[n]:[],"FIELDS",o.length,...o],t)}},ee=class extends b{constructor(e,t){let[r,s,i,n]=e,o=Array.isArray(s)?s:[s];super(["hexpireat",r,i,...n?[n]:[],"FIELDS",o.length,...o],t)}},et=class extends b{constructor(e,t){let[r,s]=e,i=Array.isArray(s)?s:[s];super(["hexpiretime",r,"FIELDS",i.length,...i],t)}},er=class extends b{constructor(e,t){let[r,s]=e,i=Array.isArray(s)?s:[s];super(["hpersist",r,"FIELDS",i.length,...i],t)}},es=class extends b{constructor(e,t){let[r,s,i,n]=e,o=Array.isArray(s)?s:[s];super(["hpexpire",r,i,...n?[n]:[],"FIELDS",o.length,...o],t)}},ei=class extends b{constructor(e,t){let[r,s,i,n]=e,o=Array.isArray(s)?s:[s];super(["hpexpireat",r,i,...n?[n]:[],"FIELDS",o.length,...o],t)}},en=class extends b{constructor(e,t){let[r,s]=e,i=Array.isArray(s)?s:[s];super(["hpexpiretime",r,"FIELDS",i.length,...i],t)}},eo=class extends b{constructor(e,t){let[r,s]=e,i=Array.isArray(s)?s:[s];super(["hpttl",r,"FIELDS",i.length,...i],t)}},ea=class extends b{constructor(e,t){super(["hget",...e],t)}},ec=class extends b{constructor(e,t){super(["hgetall",...e],{deserialize:e=>(function(e){if(0===e.length)return null;let t={};for(let r=0;r<e.length;r+=2){let s=e[r],i=e[r+1];try{let e=!Number.isNaN(Number(i))&&!Number.isSafeInteger(Number(i));t[s]=e?i:JSON.parse(i)}catch{t[s]=i}}return t})(e),...t})}},el=class extends b{constructor(e,t){super(["hincrby",...e],t)}},eh=class extends b{constructor(e,t){super(["hincrbyfloat",...e],t)}},eu=class extends b{constructor([e],t){super(["hkeys",e],t)}},ef=class extends b{constructor(e,t){super(["hlen",...e],t)}},ep=class extends b{constructor([e,...t],r){super(["hmget",e,...t],{deserialize:e=>(function(e,t){if(t.every(e=>null===e))return null;let r={};for(let[s,i]of e.entries())try{r[i]=JSON.parse(t[s])}catch{r[i]=t[s]}return r})(t,e),...r})}},ed=class extends b{constructor([e,t],r){super(["hmset",e,...Object.entries(t).flatMap(([e,t])=>[e,t])],r)}},em=class extends b{constructor([e,t,r],s){let i=["hscan",e,t];r?.match&&i.push("match",r.match),"number"==typeof r?.count&&i.push("count",r.count),super(i,{deserialize:l,...s})}},eb=class extends b{constructor([e,t],r){super(["hset",e,...Object.entries(t).flatMap(([e,t])=>[e,t])],r)}},ex=class extends b{constructor(e,t){super(["hsetnx",...e],t)}},ey=class extends b{constructor(e,t){super(["hstrlen",...e],t)}},eg=class extends b{constructor(e,t){let[r,s]=e,i=Array.isArray(s)?s:[s];super(["httl",r,"FIELDS",i.length,...i],t)}},ew=class extends b{constructor(e,t){super(["hvals",...e],t)}},ev=class extends b{constructor(e,t){super(["incr",...e],t)}},eE=class extends b{constructor(e,t){super(["incrby",...e],t)}},eS=class extends b{constructor(e,t){super(["incrbyfloat",...e],t)}},e_=class extends b{constructor(e,t){super(["JSON.ARRAPPEND",...e],t)}},eO=class extends b{constructor(e,t){super(["JSON.ARRINDEX",...e],t)}},eA=class extends b{constructor(e,t){super(["JSON.ARRINSERT",...e],t)}},eR=class extends b{constructor(e,t){super(["JSON.ARRLEN",e[0],e[1]??"$"],t)}},eT=class extends b{constructor(e,t){super(["JSON.ARRPOP",...e],t)}},eI=class extends b{constructor(e,t){super(["JSON.ARRTRIM",e[0],e[1]??"$",e[2]??0,e[3]??0],t)}},ek=class extends b{constructor(e,t){super(["JSON.CLEAR",...e],t)}},eL=class extends b{constructor(e,t){super(["JSON.DEL",...e],t)}},eC=class extends b{constructor(e,t){super(["JSON.FORGET",...e],t)}},eP=class extends b{constructor(e,t){let r=["JSON.GET"];"string"==typeof e[1]?r.push(...e):(r.push(e[0]),e[1]&&(e[1].indent&&r.push("INDENT",e[1].indent),e[1].newline&&r.push("NEWLINE",e[1].newline),e[1].space&&r.push("SPACE",e[1].space)),r.push(...e.slice(2))),super(r,t)}},eN=class extends b{constructor(e,t){super(["JSON.MERGE",...e],t)}},eM=class extends b{constructor(e,t){super(["JSON.MGET",...e[0],e[1]],t)}},eB=class extends b{constructor(e,t){let r=["JSON.MSET"];for(let t of e)r.push(t.key,t.path,t.value);super(r,t)}},eU=class extends b{constructor(e,t){super(["JSON.NUMINCRBY",...e],t)}},eD=class extends b{constructor(e,t){super(["JSON.NUMMULTBY",...e],t)}},e$=class extends b{constructor(e,t){super(["JSON.OBJKEYS",...e],t)}},ej=class extends b{constructor(e,t){super(["JSON.OBJLEN",...e],t)}},eF=class extends b{constructor(e,t){super(["JSON.RESP",...e],t)}},eq=class extends b{constructor(e,t){let r=["JSON.SET",e[0],e[1],e[2]];e[3]&&(e[3].nx?r.push("NX"):e[3].xx&&r.push("XX")),super(r,t)}},ez=class extends b{constructor(e,t){super(["JSON.STRAPPEND",...e],t)}},eG=class extends b{constructor(e,t){super(["JSON.STRLEN",...e],t)}},eW=class extends b{constructor(e,t){super(["JSON.TOGGLE",...e],t)}},eQ=class extends b{constructor(e,t){super(["JSON.TYPE",...e],t)}},eV=class extends b{constructor(e,t){super(["keys",...e],t)}},eH=class extends b{constructor(e,t){super(["lindex",...e],t)}},eK=class extends b{constructor(e,t){super(["linsert",...e],t)}},eX=class extends b{constructor(e,t){super(["llen",...e],t)}},eY=class extends b{constructor(e,t){super(["lmove",...e],t)}},eJ=class extends b{constructor(e,t){let[r,s,i,n]=e;super(["LMPOP",r,...s,i,...n?["COUNT",n]:[]],t)}},eZ=class extends b{constructor(e,t){super(["lpop",...e],t)}},e0=class extends b{constructor(e,t){let r=["lpos",e[0],e[1]];"number"==typeof e[2]?.rank&&r.push("rank",e[2].rank),"number"==typeof e[2]?.count&&r.push("count",e[2].count),"number"==typeof e[2]?.maxLen&&r.push("maxLen",e[2].maxLen),super(r,t)}},e1=class extends b{constructor(e,t){super(["lpush",...e],t)}},e2=class extends b{constructor(e,t){super(["lpushx",...e],t)}},e5=class extends b{constructor(e,t){super(["lrange",...e],t)}},e6=class extends b{constructor(e,t){super(["lrem",...e],t)}},e3=class extends b{constructor(e,t){super(["lset",...e],t)}},e8=class extends b{constructor(e,t){super(["ltrim",...e],t)}},e4=class extends b{constructor(e,t){super(["mget",...Array.isArray(e[0])?e[0]:e],t)}},e9=class extends b{constructor([e],t){super(["mset",...Object.entries(e).flatMap(([e,t])=>[e,t])],t)}},e7=class extends b{constructor([e],t){super(["msetnx",...Object.entries(e).flat()],t)}},te=class extends b{constructor(e,t){super(["persist",...e],t)}},tt=class extends b{constructor(e,t){super(["pexpire",...e],t)}},tr=class extends b{constructor(e,t){super(["pexpireat",...e],t)}},ts=class extends b{constructor(e,t){super(["pfadd",...e],t)}},ti=class extends b{constructor(e,t){super(["pfcount",...e],t)}},tn=class extends b{constructor(e,t){super(["pfmerge",...e],t)}},to=class extends b{constructor(e,t){let r=["ping"];e?.[0]!==void 0&&r.push(e[0]),super(r,t)}},ta=class extends b{constructor(e,t){super(["psetex",...e],t)}},tc=class extends b{constructor(e,t){super(["pttl",...e],t)}},tl=class extends b{constructor(e,t){super(["publish",...e],t)}},th=class extends b{constructor(e){super(["randomkey"],e)}},tu=class extends b{constructor(e,t){super(["rename",...e],t)}},tf=class extends b{constructor(e,t){super(["renamenx",...e],t)}},tp=class extends b{constructor(e,t){super(["rpop",...e],t)}},td=class extends b{constructor(e,t){super(["rpush",...e],t)}},tm=class extends b{constructor(e,t){super(["rpushx",...e],t)}},tb=class extends b{constructor(e,t){super(["sadd",...e],t)}},tx=class extends b{constructor([e,t],r){let s=["scan",e];t?.match&&s.push("match",t.match),"number"==typeof t?.count&&s.push("count",t.count),t&&"withType"in t&&!0===t.withType?s.push("withtype"):t&&"type"in t&&t.type&&t.type.length>0&&s.push("type",t.type),super(s,{deserialize:t?.withType?h:l,...r})}},ty=class extends b{constructor(e,t){super(["scard",...e],t)}},tg=class extends b{constructor(e,t){super(["script","exists",...e],{deserialize:e=>e,...t})}},tw=class extends b{constructor([e],t){let r=["script","flush"];e?.sync?r.push("sync"):e?.async&&r.push("async"),super(r,t)}},tv=class extends b{constructor(e,t){super(["script","load",...e],t)}},tE=class extends b{constructor(e,t){super(["sdiff",...e],t)}},tS=class extends b{constructor(e,t){super(["sdiffstore",...e],t)}},t_=class extends b{constructor([e,t,r],s){let i=["set",e,t];r&&("nx"in r&&r.nx?i.push("nx"):"xx"in r&&r.xx&&i.push("xx"),"get"in r&&r.get&&i.push("get"),"ex"in r&&"number"==typeof r.ex?i.push("ex",r.ex):"px"in r&&"number"==typeof r.px?i.push("px",r.px):"exat"in r&&"number"==typeof r.exat?i.push("exat",r.exat):"pxat"in r&&"number"==typeof r.pxat?i.push("pxat",r.pxat):"keepTtl"in r&&r.keepTtl&&i.push("keepTtl")),super(i,s)}},tO=class extends b{constructor(e,t){super(["setbit",...e],t)}},tA=class extends b{constructor(e,t){super(["setex",...e],t)}},tR=class extends b{constructor(e,t){super(["setnx",...e],t)}},tT=class extends b{constructor(e,t){super(["setrange",...e],t)}},tI=class extends b{constructor(e,t){super(["sinter",...e],t)}},tk=class extends b{constructor(e,t){super(["sinterstore",...e],t)}},tL=class extends b{constructor(e,t){super(["sismember",...e],t)}},tC=class extends b{constructor(e,t){super(["smembers",...e],t)}},tP=class extends b{constructor(e,t){super(["smismember",e[0],...e[1]],t)}},tN=class extends b{constructor(e,t){super(["smove",...e],t)}},tM=class extends b{constructor([e,t],r){let s=["spop",e];"number"==typeof t&&s.push(t),super(s,r)}},tB=class extends b{constructor([e,t],r){let s=["srandmember",e];"number"==typeof t&&s.push(t),super(s,r)}},tU=class extends b{constructor(e,t){super(["srem",...e],t)}},tD=class extends b{constructor([e,t,r],s){let i=["sscan",e,t];r?.match&&i.push("match",r.match),"number"==typeof r?.count&&i.push("count",r.count),super(i,{deserialize:l,...s})}},t$=class extends b{constructor(e,t){super(["strlen",...e],t)}},tj=class extends b{constructor(e,t){super(["sunion",...e],t)}},tF=class extends b{constructor(e,t){super(["sunionstore",...e],t)}},tq=class extends b{constructor(e){super(["time"],e)}},tz=class extends b{constructor(e,t){super(["touch",...e],t)}},tG=class extends b{constructor(e,t){super(["ttl",...e],t)}},tW=class extends b{constructor(e,t){super(["type",...e],t)}},tQ=class extends b{constructor(e,t){super(["unlink",...e],t)}},tV=class extends b{constructor([e,t,r],s){super(["XACK",e,t,...Array.isArray(r)?[...r]:[r]],s)}},tH=class extends b{constructor([e,t,r,s],i){let n=["XADD",e];for(let[e,i]of(s&&(s.nomkStream&&n.push("NOMKSTREAM"),s.trim&&(n.push(s.trim.type,s.trim.comparison,s.trim.threshold),void 0!==s.trim.limit&&n.push("LIMIT",s.trim.limit))),n.push(t),Object.entries(r)))n.push(e,i);super(n,i)}},tK=class extends b{constructor([e,t,r,s,i,n],o){let a=[];n?.count&&a.push("COUNT",n.count),n?.justId&&a.push("JUSTID"),super(["XAUTOCLAIM",e,t,r,s,i,...a],o)}},tX=class extends b{constructor([e,t,r,s,i,n],o){let a=Array.isArray(i)?[...i]:[i],c=[];n?.idleMS&&c.push("IDLE",n.idleMS),n?.idleMS&&c.push("TIME",n.timeMS),n?.retryCount&&c.push("RETRYCOUNT",n.retryCount),n?.force&&c.push("FORCE"),n?.justId&&c.push("JUSTID"),n?.lastId&&c.push("LASTID",n.lastId),super(["XCLAIM",e,t,r,s,...a,...c],o)}},tY=class extends b{constructor([e,t],r){super(["XDEL",e,...Array.isArray(t)?[...t]:[t]],r)}},tJ=class extends b{constructor([e,t],r){let s=["XGROUP"];switch(t.type){case"CREATE":s.push("CREATE",e,t.group,t.id),t.options&&(t.options.MKSTREAM&&s.push("MKSTREAM"),void 0!==t.options.ENTRIESREAD&&s.push("ENTRIESREAD",t.options.ENTRIESREAD.toString()));break;case"CREATECONSUMER":s.push("CREATECONSUMER",e,t.group,t.consumer);break;case"DELCONSUMER":s.push("DELCONSUMER",e,t.group,t.consumer);break;case"DESTROY":s.push("DESTROY",e,t.group);break;case"SETID":s.push("SETID",e,t.group,t.id),t.options?.ENTRIESREAD!==void 0&&s.push("ENTRIESREAD",t.options.ENTRIESREAD.toString());break;default:throw Error("Invalid XGROUP")}super(s,r)}},tZ=class extends b{constructor([e,t],r){let s=[];"CONSUMERS"===t.type?s.push("CONSUMERS",e,t.group):s.push("GROUPS",e),super(["XINFO",...s],r)}},t0=class extends b{constructor(e,t){super(["XLEN",...e],t)}},t1=class extends b{constructor([e,t,r,s,i,n],o){super(["XPENDING",e,t,...n?.idleTime?["IDLE",n.idleTime]:[],r,s,i,...n?.consumer===void 0?[]:Array.isArray(n.consumer)?[...n.consumer]:[n.consumer]],o)}},t2=class extends b{constructor([e,t,r,s],i){let n=["XRANGE",e,t,r];"number"==typeof s&&n.push("COUNT",s),super(n,{deserialize:e=>(function(e){let t={};for(let r of e)for(let e=0;e<r.length;e+=2){let s=r[e],i=r[e+1];s in t||(t[s]={});for(let e=0;e<i.length;e+=2){let r=i[e],n=i[e+1];try{t[s][r]=JSON.parse(n)}catch{t[s][r]=n}}}return t})(e),...i})}},t5=class extends b{constructor([e,t,r],s){if(Array.isArray(e)&&Array.isArray(t)&&e.length!==t.length)throw Error("ERR Unbalanced XREAD list of streams: for each stream key an ID or '$' must be specified");let i=[];"number"==typeof r?.count&&i.push("COUNT",r.count),"number"==typeof r?.blockMS&&i.push("BLOCK",r.blockMS),i.push("STREAMS",...Array.isArray(e)?[...e]:[e],...Array.isArray(t)?[...t]:[t]),super(["XREAD",...i],s)}},t6=class extends b{constructor([e,t,r,s,i],n){if(Array.isArray(r)&&Array.isArray(s)&&r.length!==s.length)throw Error("ERR Unbalanced XREADGROUP list of streams: for each stream key an ID or '$' must be specified");let o=[];"number"==typeof i?.count&&o.push("COUNT",i.count),"number"==typeof i?.blockMS&&o.push("BLOCK",i.blockMS),"boolean"==typeof i?.NOACK&&i.NOACK&&o.push("NOACK"),o.push("STREAMS",...Array.isArray(r)?[...r]:[r],...Array.isArray(s)?[...s]:[s]),super(["XREADGROUP","GROUP",e,t,...o],n)}},t3=class extends b{constructor([e,t,r,s],i){let n=["XREVRANGE",e,t,r];"number"==typeof s&&n.push("COUNT",s),super(n,{deserialize:e=>(function(e){let t={};for(let r of e)for(let e=0;e<r.length;e+=2){let s=r[e],i=r[e+1];s in t||(t[s]={});for(let e=0;e<i.length;e+=2){let r=i[e],n=i[e+1];try{t[s][r]=JSON.parse(n)}catch{t[s][r]=n}}}return t})(e),...i})}},t8=class extends b{constructor([e,t],r){let{limit:s,strategy:i,threshold:n,exactness:o="~"}=t;super(["XTRIM",e,i,o,n,...s?["LIMIT",s]:[]],r)}},t4=class extends b{constructor([e,t,...r],s){let i=["zadd",e];"nx"in t&&t.nx?i.push("nx"):"xx"in t&&t.xx&&i.push("xx"),"ch"in t&&t.ch&&i.push("ch"),"incr"in t&&t.incr&&i.push("incr"),"lt"in t&&t.lt?i.push("lt"):"gt"in t&&t.gt&&i.push("gt"),"score"in t&&"member"in t&&i.push(t.score,t.member),i.push(...r.flatMap(({score:e,member:t})=>[e,t])),super(i,s)}},t9=class extends b{constructor(e,t){super(["zcard",...e],t)}},t7=class extends b{constructor(e,t){super(["zcount",...e],t)}},re=class extends b{constructor(e,t){super(["zincrby",...e],t)}},rt=class extends b{constructor([e,t,r,s],i){let n=["zinterstore",e,t];Array.isArray(r)?n.push(...r):n.push(r),s&&("weights"in s&&s.weights?n.push("weights",...s.weights):"weight"in s&&"number"==typeof s.weight&&n.push("weights",s.weight),"aggregate"in s&&n.push("aggregate",s.aggregate)),super(n,i)}},rr=class extends b{constructor(e,t){super(["zlexcount",...e],t)}},rs=class extends b{constructor([e,t],r){let s=["zpopmax",e];"number"==typeof t&&s.push(t),super(s,r)}},ri=class extends b{constructor([e,t],r){let s=["zpopmin",e];"number"==typeof t&&s.push(t),super(s,r)}},rn=class extends b{constructor([e,t,r,s],i){let n=["zrange",e,t,r];s?.byScore&&n.push("byscore"),s?.byLex&&n.push("bylex"),s?.rev&&n.push("rev"),s?.count!==void 0&&void 0!==s.offset&&n.push("limit",s.offset,s.count),s?.withScores&&n.push("withscores"),super(n,i)}},ro=class extends b{constructor(e,t){super(["zrank",...e],t)}},ra=class extends b{constructor(e,t){super(["zrem",...e],t)}},rc=class extends b{constructor(e,t){super(["zremrangebylex",...e],t)}},rl=class extends b{constructor(e,t){super(["zremrangebyrank",...e],t)}},rh=class extends b{constructor(e,t){super(["zremrangebyscore",...e],t)}},ru=class extends b{constructor(e,t){super(["zrevrank",...e],t)}},rf=class extends b{constructor([e,t,r],s){let i=["zscan",e,t];r?.match&&i.push("match",r.match),"number"==typeof r?.count&&i.push("count",r.count),super(i,{deserialize:l,...s})}},rp=class extends b{constructor(e,t){super(["zscore",...e],t)}},rd=class extends b{constructor([e,t,r],s){let i=["zunion",e];Array.isArray(t)?i.push(...t):i.push(t),r&&("weights"in r&&r.weights?i.push("weights",...r.weights):"weight"in r&&"number"==typeof r.weight&&i.push("weights",r.weight),"aggregate"in r&&i.push("aggregate",r.aggregate),r.withScores&&i.push("withscores")),super(i,s)}},rm=class extends b{constructor([e,t,r,s],i){let n=["zunionstore",e,t];Array.isArray(r)?n.push(...r):n.push(r),s&&("weights"in s&&s.weights?n.push("weights",...s.weights):"weight"in s&&"number"==typeof s.weight&&n.push("weights",s.weight),"aggregate"in s&&n.push("aggregate",s.aggregate)),super(n,i)}},rb=class extends b{constructor(e,t){super(["zdiffstore",...e],t)}},rx=class extends b{constructor(e,t){let[r,s]=e;super(["zmscore",r,...s],t)}},ry=class{client;commands;commandOptions;multiExec;constructor(e){if(this.client=e.client,this.commands=[],this.commandOptions=e.commandOptions,this.multiExec=e.multiExec??!1,this.commandOptions?.latencyLogging){let e=this.exec.bind(this);this.exec=async t=>{let r=performance.now(),s=await (t?e(t):e()),i=(performance.now()-r).toFixed(2);return console.log(`Latency for \x1b[38;2;19;185;39m${this.multiExec?["MULTI-EXEC"]:["PIPELINE"].toString().toUpperCase()}\x1b[0m: \x1b[38;2;0;255;255m${i} ms\x1b[0m`),s}}}exec=async e=>{if(0===this.commands.length)throw Error("Pipeline is empty");let t=this.multiExec?["multi-exec"]:["pipeline"],r=await this.client.request({path:t,body:Object.values(this.commands).map(e=>e.command)});return e?.keepErrors?r.map(({error:e,result:t},r)=>({error:e,result:this.commands[r].deserialize(t)})):r.map(({error:e,result:t},r)=>{if(e)throw new o(`Command ${r+1} [ ${this.commands[r].command[0]} ] failed: ${e}`);return this.commands[r].deserialize(t)})};length(){return this.commands.length}chain(e){return this.commands.push(e),this}append=(...e)=>this.chain(new y(e,this.commandOptions));bitcount=(...e)=>this.chain(new g(e,this.commandOptions));bitfield=(...e)=>new w(e,this.client,this.commandOptions,this.chain.bind(this));bitop=(e,t,r,...s)=>this.chain(new v([e,t,r,...s],this.commandOptions));bitpos=(...e)=>this.chain(new E(e,this.commandOptions));copy=(...e)=>this.chain(new S(e,this.commandOptions));zdiffstore=(...e)=>this.chain(new rb(e,this.commandOptions));dbsize=()=>this.chain(new _(this.commandOptions));decr=(...e)=>this.chain(new O(e,this.commandOptions));decrby=(...e)=>this.chain(new A(e,this.commandOptions));del=(...e)=>this.chain(new R(e,this.commandOptions));echo=(...e)=>this.chain(new T(e,this.commandOptions));evalRo=(...e)=>this.chain(new I(e,this.commandOptions));eval=(...e)=>this.chain(new k(e,this.commandOptions));evalshaRo=(...e)=>this.chain(new L(e,this.commandOptions));evalsha=(...e)=>this.chain(new C(e,this.commandOptions));exists=(...e)=>this.chain(new N(e,this.commandOptions));expire=(...e)=>this.chain(new M(e,this.commandOptions));expireat=(...e)=>this.chain(new B(e,this.commandOptions));flushall=e=>this.chain(new U(e,this.commandOptions));flushdb=(...e)=>this.chain(new D(e,this.commandOptions));geoadd=(...e)=>this.chain(new $(e,this.commandOptions));geodist=(...e)=>this.chain(new j(e,this.commandOptions));geopos=(...e)=>this.chain(new q(e,this.commandOptions));geohash=(...e)=>this.chain(new F(e,this.commandOptions));geosearch=(...e)=>this.chain(new z(e,this.commandOptions));geosearchstore=(...e)=>this.chain(new G(e,this.commandOptions));get=(...e)=>this.chain(new W(e,this.commandOptions));getbit=(...e)=>this.chain(new Q(e,this.commandOptions));getdel=(...e)=>this.chain(new V(e,this.commandOptions));getex=(...e)=>this.chain(new H(e,this.commandOptions));getrange=(...e)=>this.chain(new K(e,this.commandOptions));getset=(e,t)=>this.chain(new X([e,t],this.commandOptions));hdel=(...e)=>this.chain(new Y(e,this.commandOptions));hexists=(...e)=>this.chain(new J(e,this.commandOptions));hexpire=(...e)=>this.chain(new Z(e,this.commandOptions));hexpireat=(...e)=>this.chain(new ee(e,this.commandOptions));hexpiretime=(...e)=>this.chain(new et(e,this.commandOptions));httl=(...e)=>this.chain(new eg(e,this.commandOptions));hpexpire=(...e)=>this.chain(new es(e,this.commandOptions));hpexpireat=(...e)=>this.chain(new ei(e,this.commandOptions));hpexpiretime=(...e)=>this.chain(new en(e,this.commandOptions));hpttl=(...e)=>this.chain(new eo(e,this.commandOptions));hpersist=(...e)=>this.chain(new er(e,this.commandOptions));hget=(...e)=>this.chain(new ea(e,this.commandOptions));hgetall=(...e)=>this.chain(new ec(e,this.commandOptions));hincrby=(...e)=>this.chain(new el(e,this.commandOptions));hincrbyfloat=(...e)=>this.chain(new eh(e,this.commandOptions));hkeys=(...e)=>this.chain(new eu(e,this.commandOptions));hlen=(...e)=>this.chain(new ef(e,this.commandOptions));hmget=(...e)=>this.chain(new ep(e,this.commandOptions));hmset=(e,t)=>this.chain(new ed([e,t],this.commandOptions));hrandfield=(e,t,r)=>this.chain(new x([e,t,r],this.commandOptions));hscan=(...e)=>this.chain(new em(e,this.commandOptions));hset=(e,t)=>this.chain(new eb([e,t],this.commandOptions));hsetnx=(e,t,r)=>this.chain(new ex([e,t,r],this.commandOptions));hstrlen=(...e)=>this.chain(new ey(e,this.commandOptions));hvals=(...e)=>this.chain(new ew(e,this.commandOptions));incr=(...e)=>this.chain(new ev(e,this.commandOptions));incrby=(...e)=>this.chain(new eE(e,this.commandOptions));incrbyfloat=(...e)=>this.chain(new eS(e,this.commandOptions));keys=(...e)=>this.chain(new eV(e,this.commandOptions));lindex=(...e)=>this.chain(new eH(e,this.commandOptions));linsert=(e,t,r,s)=>this.chain(new eK([e,t,r,s],this.commandOptions));llen=(...e)=>this.chain(new eX(e,this.commandOptions));lmove=(...e)=>this.chain(new eY(e,this.commandOptions));lpop=(...e)=>this.chain(new eZ(e,this.commandOptions));lmpop=(...e)=>this.chain(new eJ(e,this.commandOptions));lpos=(...e)=>this.chain(new e0(e,this.commandOptions));lpush=(e,...t)=>this.chain(new e1([e,...t],this.commandOptions));lpushx=(e,...t)=>this.chain(new e2([e,...t],this.commandOptions));lrange=(...e)=>this.chain(new e5(e,this.commandOptions));lrem=(e,t,r)=>this.chain(new e6([e,t,r],this.commandOptions));lset=(e,t,r)=>this.chain(new e3([e,t,r],this.commandOptions));ltrim=(...e)=>this.chain(new e8(e,this.commandOptions));mget=(...e)=>this.chain(new e4(e,this.commandOptions));mset=e=>this.chain(new e9([e],this.commandOptions));msetnx=e=>this.chain(new e7([e],this.commandOptions));persist=(...e)=>this.chain(new te(e,this.commandOptions));pexpire=(...e)=>this.chain(new tt(e,this.commandOptions));pexpireat=(...e)=>this.chain(new tr(e,this.commandOptions));pfadd=(...e)=>this.chain(new ts(e,this.commandOptions));pfcount=(...e)=>this.chain(new ti(e,this.commandOptions));pfmerge=(...e)=>this.chain(new tn(e,this.commandOptions));ping=e=>this.chain(new to(e,this.commandOptions));psetex=(e,t,r)=>this.chain(new ta([e,t,r],this.commandOptions));pttl=(...e)=>this.chain(new tc(e,this.commandOptions));publish=(...e)=>this.chain(new tl(e,this.commandOptions));randomkey=()=>this.chain(new th(this.commandOptions));rename=(...e)=>this.chain(new tu(e,this.commandOptions));renamenx=(...e)=>this.chain(new tf(e,this.commandOptions));rpop=(...e)=>this.chain(new tp(e,this.commandOptions));rpush=(e,...t)=>this.chain(new td([e,...t],this.commandOptions));rpushx=(e,...t)=>this.chain(new tm([e,...t],this.commandOptions));sadd=(e,t,...r)=>this.chain(new tb([e,t,...r],this.commandOptions));scan=(...e)=>this.chain(new tx(e,this.commandOptions));scard=(...e)=>this.chain(new ty(e,this.commandOptions));scriptExists=(...e)=>this.chain(new tg(e,this.commandOptions));scriptFlush=(...e)=>this.chain(new tw(e,this.commandOptions));scriptLoad=(...e)=>this.chain(new tv(e,this.commandOptions));sdiff=(...e)=>this.chain(new tE(e,this.commandOptions));sdiffstore=(...e)=>this.chain(new tS(e,this.commandOptions));set=(e,t,r)=>this.chain(new t_([e,t,r],this.commandOptions));setbit=(...e)=>this.chain(new tO(e,this.commandOptions));setex=(e,t,r)=>this.chain(new tA([e,t,r],this.commandOptions));setnx=(e,t)=>this.chain(new tR([e,t],this.commandOptions));setrange=(...e)=>this.chain(new tT(e,this.commandOptions));sinter=(...e)=>this.chain(new tI(e,this.commandOptions));sinterstore=(...e)=>this.chain(new tk(e,this.commandOptions));sismember=(e,t)=>this.chain(new tL([e,t],this.commandOptions));smembers=(...e)=>this.chain(new tC(e,this.commandOptions));smismember=(e,t)=>this.chain(new tP([e,t],this.commandOptions));smove=(e,t,r)=>this.chain(new tN([e,t,r],this.commandOptions));spop=(...e)=>this.chain(new tM(e,this.commandOptions));srandmember=(...e)=>this.chain(new tB(e,this.commandOptions));srem=(e,...t)=>this.chain(new tU([e,...t],this.commandOptions));sscan=(...e)=>this.chain(new tD(e,this.commandOptions));strlen=(...e)=>this.chain(new t$(e,this.commandOptions));sunion=(...e)=>this.chain(new tj(e,this.commandOptions));sunionstore=(...e)=>this.chain(new tF(e,this.commandOptions));time=()=>this.chain(new tq(this.commandOptions));touch=(...e)=>this.chain(new tz(e,this.commandOptions));ttl=(...e)=>this.chain(new tG(e,this.commandOptions));type=(...e)=>this.chain(new tW(e,this.commandOptions));unlink=(...e)=>this.chain(new tQ(e,this.commandOptions));zadd=(...e)=>(e[1],this.chain(new t4([e[0],e[1],...e.slice(2)],this.commandOptions)));xadd=(...e)=>this.chain(new tH(e,this.commandOptions));xack=(...e)=>this.chain(new tV(e,this.commandOptions));xdel=(...e)=>this.chain(new tY(e,this.commandOptions));xgroup=(...e)=>this.chain(new tJ(e,this.commandOptions));xread=(...e)=>this.chain(new t5(e,this.commandOptions));xreadgroup=(...e)=>this.chain(new t6(e,this.commandOptions));xinfo=(...e)=>this.chain(new tZ(e,this.commandOptions));xlen=(...e)=>this.chain(new t0(e,this.commandOptions));xpending=(...e)=>this.chain(new t1(e,this.commandOptions));xclaim=(...e)=>this.chain(new tX(e,this.commandOptions));xautoclaim=(...e)=>this.chain(new tK(e,this.commandOptions));xtrim=(...e)=>this.chain(new t8(e,this.commandOptions));xrange=(...e)=>this.chain(new t2(e,this.commandOptions));xrevrange=(...e)=>this.chain(new t3(e,this.commandOptions));zcard=(...e)=>this.chain(new t9(e,this.commandOptions));zcount=(...e)=>this.chain(new t7(e,this.commandOptions));zincrby=(e,t,r)=>this.chain(new re([e,t,r],this.commandOptions));zinterstore=(...e)=>this.chain(new rt(e,this.commandOptions));zlexcount=(...e)=>this.chain(new rr(e,this.commandOptions));zmscore=(...e)=>this.chain(new rx(e,this.commandOptions));zpopmax=(...e)=>this.chain(new rs(e,this.commandOptions));zpopmin=(...e)=>this.chain(new ri(e,this.commandOptions));zrange=(...e)=>this.chain(new rn(e,this.commandOptions));zrank=(e,t)=>this.chain(new ro([e,t],this.commandOptions));zrem=(e,...t)=>this.chain(new ra([e,...t],this.commandOptions));zremrangebylex=(...e)=>this.chain(new rc(e,this.commandOptions));zremrangebyrank=(...e)=>this.chain(new rl(e,this.commandOptions));zremrangebyscore=(...e)=>this.chain(new rh(e,this.commandOptions));zrevrank=(e,t)=>this.chain(new ru([e,t],this.commandOptions));zscan=(...e)=>this.chain(new rf(e,this.commandOptions));zscore=(e,t)=>this.chain(new rp([e,t],this.commandOptions));zunionstore=(...e)=>this.chain(new rm(e,this.commandOptions));zunion=(...e)=>this.chain(new rd(e,this.commandOptions));get json(){return{arrappend:(...e)=>this.chain(new e_(e,this.commandOptions)),arrindex:(...e)=>this.chain(new eO(e,this.commandOptions)),arrinsert:(...e)=>this.chain(new eA(e,this.commandOptions)),arrlen:(...e)=>this.chain(new eR(e,this.commandOptions)),arrpop:(...e)=>this.chain(new eT(e,this.commandOptions)),arrtrim:(...e)=>this.chain(new eI(e,this.commandOptions)),clear:(...e)=>this.chain(new ek(e,this.commandOptions)),del:(...e)=>this.chain(new eL(e,this.commandOptions)),forget:(...e)=>this.chain(new eC(e,this.commandOptions)),get:(...e)=>this.chain(new eP(e,this.commandOptions)),merge:(...e)=>this.chain(new eN(e,this.commandOptions)),mget:(...e)=>this.chain(new eM(e,this.commandOptions)),mset:(...e)=>this.chain(new eB(e,this.commandOptions)),numincrby:(...e)=>this.chain(new eU(e,this.commandOptions)),nummultby:(...e)=>this.chain(new eD(e,this.commandOptions)),objkeys:(...e)=>this.chain(new e$(e,this.commandOptions)),objlen:(...e)=>this.chain(new ej(e,this.commandOptions)),resp:(...e)=>this.chain(new eF(e,this.commandOptions)),set:(...e)=>this.chain(new eq(e,this.commandOptions)),strappend:(...e)=>this.chain(new ez(e,this.commandOptions)),strlen:(...e)=>this.chain(new eG(e,this.commandOptions)),toggle:(...e)=>this.chain(new eW(e,this.commandOptions)),type:(...e)=>this.chain(new eQ(e,this.commandOptions))}}},rg=new Set(["scan","keys","flushdb","flushall","dbsize","hscan","hgetall","hkeys","lrange","sscan","smembers","xrange","xrevrange","zscan","zrange","exec"]),rw=class{pipelinePromises=new WeakMap;activePipeline=null;indexInCurrentPipeline=0;redis;pipeline;pipelineCounter=0;constructor(e){this.redis=e,this.pipeline=e.pipeline()}async withAutoPipeline(e){let t=this.activePipeline??this.redis.pipeline();this.activePipeline||(this.activePipeline=t,this.indexInCurrentPipeline=0);let r=this.indexInCurrentPipeline++;e(t);let s=this.deferExecution().then(()=>{if(!this.pipelinePromises.has(t)){let e=t.exec({keepErrors:!0});this.pipelineCounter+=1,this.pipelinePromises.set(t,e),this.activePipeline=null}return this.pipelinePromises.get(t)}),i=(await s)[r];if(i.error)throw new o(`Command failed: ${i.error}`);return i.result}async deferExecution(){await Promise.resolve(),await Promise.resolve()}},rv=class extends b{constructor(e,t){super([],{...t,headers:{Accept:"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"},path:["psubscribe",...e],streamOptions:{isStreaming:!0,onMessage:t?.streamOptions?.onMessage,signal:t?.streamOptions?.signal}})}},rE=class extends EventTarget{subscriptions;client;listeners;opts;constructor(e,t,r=!1,s){for(let i of(super(),this.client=e,this.subscriptions=new Map,this.listeners=new Map,this.opts=s,t))r?this.subscribeToPattern(i):this.subscribeToChannel(i)}subscribeToChannel(e){let t=new AbortController,r=new rS([e],{streamOptions:{signal:t.signal,onMessage:e=>this.handleMessage(e,!1)}});r.exec(this.client).catch(e=>{"AbortError"!==e.name&&this.dispatchToListeners("error",e)}),this.subscriptions.set(e,{command:r,controller:t,isPattern:!1})}subscribeToPattern(e){let t=new AbortController,r=new rv([e],{streamOptions:{signal:t.signal,onMessage:e=>this.handleMessage(e,!0)}});r.exec(this.client).catch(e=>{"AbortError"!==e.name&&this.dispatchToListeners("error",e)}),this.subscriptions.set(e,{command:r,controller:t,isPattern:!0})}handleMessage(e,t){let r=e.replace(/^data:\s*/,""),s=r.indexOf(","),i=r.indexOf(",",s+1),n=t?r.indexOf(",",i+1):-1;if(-1!==s&&-1!==i){let e=r.slice(0,s);if(t&&"pmessage"===e&&-1!==n){let e=r.slice(s+1,i),t=r.slice(i+1,n),o=r.slice(n+1);try{let r=this.opts?.automaticDeserialization===!1?o:JSON.parse(o);this.dispatchToListeners("pmessage",{pattern:e,channel:t,message:r}),this.dispatchToListeners(`pmessage:${e}`,{pattern:e,channel:t,message:r})}catch(e){this.dispatchToListeners("error",Error(`Failed to parse message: ${e}`))}}else{let t=r.slice(s+1,i),n=r.slice(i+1);try{if("subscribe"===e||"psubscribe"===e||"unsubscribe"===e||"punsubscribe"===e){let t=Number.parseInt(n);this.dispatchToListeners(e,t)}else{let r=this.opts?.automaticDeserialization===!1?n:JSON.parse(n);this.dispatchToListeners(e,{channel:t,message:r}),this.dispatchToListeners(`${e}:${t}`,{channel:t,message:r})}}catch(e){this.dispatchToListeners("error",Error(`Failed to parse message: ${e}`))}}}}dispatchToListeners(e,t){let r=this.listeners.get(e);if(r)for(let e of r)e(t)}on(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(t)}removeAllListeners(){this.listeners.clear()}async unsubscribe(e){if(e)for(let t of e){let e=this.subscriptions.get(t);if(e){try{e.controller.abort()}catch{}this.subscriptions.delete(t)}}else{for(let e of this.subscriptions.values())try{e.controller.abort()}catch{}this.subscriptions.clear(),this.removeAllListeners()}}getSubscribedChannels(){return[...this.subscriptions.keys()]}},rS=class extends b{constructor(e,t){super([],{...t,headers:{Accept:"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"},path:["subscribe",...e],streamOptions:{isStreaming:!0,onMessage:t?.streamOptions?.onMessage,signal:t?.streamOptions?.signal}})}},r_=class{script;sha1;redis;constructor(e,t){this.redis=e,this.script=t,this.sha1="",this.init(t)}async init(e){this.sha1||(this.sha1=await this.digest(e))}async eval(e,t){return await this.init(this.script),await this.redis.eval(this.script,e,t)}async evalsha(e,t){return await this.init(this.script),await this.redis.evalsha(this.sha1,e,t)}async exec(e,t){return await this.init(this.script),await this.redis.evalsha(this.sha1,e,t).catch(async r=>{if(r instanceof Error&&r.message.toLowerCase().includes("noscript"))return await this.redis.eval(this.script,e,t);throw r})}async digest(e){let t=new TextEncoder().encode(e);return[...new Uint8Array(await i.digest("SHA-1",t))].map(e=>e.toString(16).padStart(2,"0")).join("")}},rO=class{script;sha1;redis;constructor(e,t){this.redis=e,this.sha1="",this.script=t,this.init(t)}async init(e){this.sha1||(this.sha1=await this.digest(e))}async evalRo(e,t){return await this.init(this.script),await this.redis.evalRo(this.script,e,t)}async evalshaRo(e,t){return await this.init(this.script),await this.redis.evalshaRo(this.sha1,e,t)}async exec(e,t){return await this.init(this.script),await this.redis.evalshaRo(this.sha1,e,t).catch(async r=>{if(r instanceof Error&&r.message.toLowerCase().includes("noscript"))return await this.redis.evalRo(this.script,e,t);throw r})}async digest(e){let t=new TextEncoder().encode(e);return[...new Uint8Array(await i.digest("SHA-1",t))].map(e=>e.toString(16).padStart(2,"0")).join("")}},rA=class{client;opts;enableTelemetry;enableAutoPipelining;constructor(e,t){this.client=e,this.opts=t,this.enableTelemetry=t?.enableTelemetry??!0,t?.readYourWrites===!1&&(this.client.readYourWrites=!1),this.enableAutoPipelining=t?.enableAutoPipelining??!0}get readYourWritesSyncToken(){return this.client.upstashSyncToken}set readYourWritesSyncToken(e){this.client.upstashSyncToken=e}get json(){return{arrappend:(...e)=>new e_(e,this.opts).exec(this.client),arrindex:(...e)=>new eO(e,this.opts).exec(this.client),arrinsert:(...e)=>new eA(e,this.opts).exec(this.client),arrlen:(...e)=>new eR(e,this.opts).exec(this.client),arrpop:(...e)=>new eT(e,this.opts).exec(this.client),arrtrim:(...e)=>new eI(e,this.opts).exec(this.client),clear:(...e)=>new ek(e,this.opts).exec(this.client),del:(...e)=>new eL(e,this.opts).exec(this.client),forget:(...e)=>new eC(e,this.opts).exec(this.client),get:(...e)=>new eP(e,this.opts).exec(this.client),merge:(...e)=>new eN(e,this.opts).exec(this.client),mget:(...e)=>new eM(e,this.opts).exec(this.client),mset:(...e)=>new eB(e,this.opts).exec(this.client),numincrby:(...e)=>new eU(e,this.opts).exec(this.client),nummultby:(...e)=>new eD(e,this.opts).exec(this.client),objkeys:(...e)=>new e$(e,this.opts).exec(this.client),objlen:(...e)=>new ej(e,this.opts).exec(this.client),resp:(...e)=>new eF(e,this.opts).exec(this.client),set:(...e)=>new eq(e,this.opts).exec(this.client),strappend:(...e)=>new ez(e,this.opts).exec(this.client),strlen:(...e)=>new eG(e,this.opts).exec(this.client),toggle:(...e)=>new eW(e,this.opts).exec(this.client),type:(...e)=>new eQ(e,this.opts).exec(this.client)}}use=e=>{let t=this.client.request.bind(this.client);this.client.request=r=>e(r,t)};addTelemetry=e=>{if(this.enableTelemetry)try{this.client.mergeTelemetry(e)}catch{}};createScript(e,t){return t?.readonly?new rO(this,e):new r_(this,e)}pipeline=()=>new ry({client:this.client,commandOptions:this.opts,multiExec:!1});autoPipeline=()=>(function e(t,r){return t.autoPipelineExecutor||(t.autoPipelineExecutor=new rw(t)),new Proxy(t,{get:(t,s)=>{if("pipelineCounter"===s)return t.autoPipelineExecutor.pipelineCounter;if("json"===s)return e(t,!0);let i=s in t&&!(s in t.autoPipelineExecutor.pipeline),n=rg.has(s);return i||n?t[s]:(r?"function"==typeof t.autoPipelineExecutor.pipeline.json[s]:"function"==typeof t.autoPipelineExecutor.pipeline[s])?(...e)=>t.autoPipelineExecutor.withAutoPipeline(t=>{r?t.json[s](...e):t[s](...e)}):t.autoPipelineExecutor.pipeline[s]}})})(this);multi=()=>new ry({client:this.client,commandOptions:this.opts,multiExec:!0});bitfield=(...e)=>new w(e,this.client,this.opts);append=(...e)=>new y(e,this.opts).exec(this.client);bitcount=(...e)=>new g(e,this.opts).exec(this.client);bitop=(e,t,r,...s)=>new v([e,t,r,...s],this.opts).exec(this.client);bitpos=(...e)=>new E(e,this.opts).exec(this.client);copy=(...e)=>new S(e,this.opts).exec(this.client);dbsize=()=>new _(this.opts).exec(this.client);decr=(...e)=>new O(e,this.opts).exec(this.client);decrby=(...e)=>new A(e,this.opts).exec(this.client);del=(...e)=>new R(e,this.opts).exec(this.client);echo=(...e)=>new T(e,this.opts).exec(this.client);evalRo=(...e)=>new I(e,this.opts).exec(this.client);eval=(...e)=>new k(e,this.opts).exec(this.client);evalshaRo=(...e)=>new L(e,this.opts).exec(this.client);evalsha=(...e)=>new C(e,this.opts).exec(this.client);exec=e=>new P(e,this.opts).exec(this.client);exists=(...e)=>new N(e,this.opts).exec(this.client);expire=(...e)=>new M(e,this.opts).exec(this.client);expireat=(...e)=>new B(e,this.opts).exec(this.client);flushall=e=>new U(e,this.opts).exec(this.client);flushdb=(...e)=>new D(e,this.opts).exec(this.client);geoadd=(...e)=>new $(e,this.opts).exec(this.client);geopos=(...e)=>new q(e,this.opts).exec(this.client);geodist=(...e)=>new j(e,this.opts).exec(this.client);geohash=(...e)=>new F(e,this.opts).exec(this.client);geosearch=(...e)=>new z(e,this.opts).exec(this.client);geosearchstore=(...e)=>new G(e,this.opts).exec(this.client);get=(...e)=>new W(e,this.opts).exec(this.client);getbit=(...e)=>new Q(e,this.opts).exec(this.client);getdel=(...e)=>new V(e,this.opts).exec(this.client);getex=(...e)=>new H(e,this.opts).exec(this.client);getrange=(...e)=>new K(e,this.opts).exec(this.client);getset=(e,t)=>new X([e,t],this.opts).exec(this.client);hdel=(...e)=>new Y(e,this.opts).exec(this.client);hexists=(...e)=>new J(e,this.opts).exec(this.client);hexpire=(...e)=>new Z(e,this.opts).exec(this.client);hexpireat=(...e)=>new ee(e,this.opts).exec(this.client);hexpiretime=(...e)=>new et(e,this.opts).exec(this.client);httl=(...e)=>new eg(e,this.opts).exec(this.client);hpexpire=(...e)=>new es(e,this.opts).exec(this.client);hpexpireat=(...e)=>new ei(e,this.opts).exec(this.client);hpexpiretime=(...e)=>new en(e,this.opts).exec(this.client);hpttl=(...e)=>new eo(e,this.opts).exec(this.client);hpersist=(...e)=>new er(e,this.opts).exec(this.client);hget=(...e)=>new ea(e,this.opts).exec(this.client);hgetall=(...e)=>new ec(e,this.opts).exec(this.client);hincrby=(...e)=>new el(e,this.opts).exec(this.client);hincrbyfloat=(...e)=>new eh(e,this.opts).exec(this.client);hkeys=(...e)=>new eu(e,this.opts).exec(this.client);hlen=(...e)=>new ef(e,this.opts).exec(this.client);hmget=(...e)=>new ep(e,this.opts).exec(this.client);hmset=(e,t)=>new ed([e,t],this.opts).exec(this.client);hrandfield=(e,t,r)=>new x([e,t,r],this.opts).exec(this.client);hscan=(...e)=>new em(e,this.opts).exec(this.client);hset=(e,t)=>new eb([e,t],this.opts).exec(this.client);hsetnx=(e,t,r)=>new ex([e,t,r],this.opts).exec(this.client);hstrlen=(...e)=>new ey(e,this.opts).exec(this.client);hvals=(...e)=>new ew(e,this.opts).exec(this.client);incr=(...e)=>new ev(e,this.opts).exec(this.client);incrby=(...e)=>new eE(e,this.opts).exec(this.client);incrbyfloat=(...e)=>new eS(e,this.opts).exec(this.client);keys=(...e)=>new eV(e,this.opts).exec(this.client);lindex=(...e)=>new eH(e,this.opts).exec(this.client);linsert=(e,t,r,s)=>new eK([e,t,r,s],this.opts).exec(this.client);llen=(...e)=>new eX(e,this.opts).exec(this.client);lmove=(...e)=>new eY(e,this.opts).exec(this.client);lpop=(...e)=>new eZ(e,this.opts).exec(this.client);lmpop=(...e)=>new eJ(e,this.opts).exec(this.client);lpos=(...e)=>new e0(e,this.opts).exec(this.client);lpush=(e,...t)=>new e1([e,...t],this.opts).exec(this.client);lpushx=(e,...t)=>new e2([e,...t],this.opts).exec(this.client);lrange=(...e)=>new e5(e,this.opts).exec(this.client);lrem=(e,t,r)=>new e6([e,t,r],this.opts).exec(this.client);lset=(e,t,r)=>new e3([e,t,r],this.opts).exec(this.client);ltrim=(...e)=>new e8(e,this.opts).exec(this.client);mget=(...e)=>new e4(e,this.opts).exec(this.client);mset=e=>new e9([e],this.opts).exec(this.client);msetnx=e=>new e7([e],this.opts).exec(this.client);persist=(...e)=>new te(e,this.opts).exec(this.client);pexpire=(...e)=>new tt(e,this.opts).exec(this.client);pexpireat=(...e)=>new tr(e,this.opts).exec(this.client);pfadd=(...e)=>new ts(e,this.opts).exec(this.client);pfcount=(...e)=>new ti(e,this.opts).exec(this.client);pfmerge=(...e)=>new tn(e,this.opts).exec(this.client);ping=e=>new to(e,this.opts).exec(this.client);psetex=(e,t,r)=>new ta([e,t,r],this.opts).exec(this.client);psubscribe=e=>{let t=Array.isArray(e)?e:[e];return new rE(this.client,t,!0,this.opts)};pttl=(...e)=>new tc(e,this.opts).exec(this.client);publish=(...e)=>new tl(e,this.opts).exec(this.client);randomkey=()=>new th().exec(this.client);rename=(...e)=>new tu(e,this.opts).exec(this.client);renamenx=(...e)=>new tf(e,this.opts).exec(this.client);rpop=(...e)=>new tp(e,this.opts).exec(this.client);rpush=(e,...t)=>new td([e,...t],this.opts).exec(this.client);rpushx=(e,...t)=>new tm([e,...t],this.opts).exec(this.client);sadd=(e,t,...r)=>new tb([e,t,...r],this.opts).exec(this.client);scan(e,t){return new tx([e,t],this.opts).exec(this.client)}scard=(...e)=>new ty(e,this.opts).exec(this.client);scriptExists=(...e)=>new tg(e,this.opts).exec(this.client);scriptFlush=(...e)=>new tw(e,this.opts).exec(this.client);scriptLoad=(...e)=>new tv(e,this.opts).exec(this.client);sdiff=(...e)=>new tE(e,this.opts).exec(this.client);sdiffstore=(...e)=>new tS(e,this.opts).exec(this.client);set=(e,t,r)=>new t_([e,t,r],this.opts).exec(this.client);setbit=(...e)=>new tO(e,this.opts).exec(this.client);setex=(e,t,r)=>new tA([e,t,r],this.opts).exec(this.client);setnx=(e,t)=>new tR([e,t],this.opts).exec(this.client);setrange=(...e)=>new tT(e,this.opts).exec(this.client);sinter=(...e)=>new tI(e,this.opts).exec(this.client);sinterstore=(...e)=>new tk(e,this.opts).exec(this.client);sismember=(e,t)=>new tL([e,t],this.opts).exec(this.client);smismember=(e,t)=>new tP([e,t],this.opts).exec(this.client);smembers=(...e)=>new tC(e,this.opts).exec(this.client);smove=(e,t,r)=>new tN([e,t,r],this.opts).exec(this.client);spop=(...e)=>new tM(e,this.opts).exec(this.client);srandmember=(...e)=>new tB(e,this.opts).exec(this.client);srem=(e,...t)=>new tU([e,...t],this.opts).exec(this.client);sscan=(...e)=>new tD(e,this.opts).exec(this.client);strlen=(...e)=>new t$(e,this.opts).exec(this.client);subscribe=e=>{let t=Array.isArray(e)?e:[e];return new rE(this.client,t,!1,this.opts)};sunion=(...e)=>new tj(e,this.opts).exec(this.client);sunionstore=(...e)=>new tF(e,this.opts).exec(this.client);time=()=>new tq().exec(this.client);touch=(...e)=>new tz(e,this.opts).exec(this.client);ttl=(...e)=>new tG(e,this.opts).exec(this.client);type=(...e)=>new tW(e,this.opts).exec(this.client);unlink=(...e)=>new tQ(e,this.opts).exec(this.client);xadd=(...e)=>new tH(e,this.opts).exec(this.client);xack=(...e)=>new tV(e,this.opts).exec(this.client);xdel=(...e)=>new tY(e,this.opts).exec(this.client);xgroup=(...e)=>new tJ(e,this.opts).exec(this.client);xread=(...e)=>new t5(e,this.opts).exec(this.client);xreadgroup=(...e)=>new t6(e,this.opts).exec(this.client);xinfo=(...e)=>new tZ(e,this.opts).exec(this.client);xlen=(...e)=>new t0(e,this.opts).exec(this.client);xpending=(...e)=>new t1(e,this.opts).exec(this.client);xclaim=(...e)=>new tX(e,this.opts).exec(this.client);xautoclaim=(...e)=>new tK(e,this.opts).exec(this.client);xtrim=(...e)=>new t8(e,this.opts).exec(this.client);xrange=(...e)=>new t2(e,this.opts).exec(this.client);xrevrange=(...e)=>new t3(e,this.opts).exec(this.client);zadd=(...e)=>(e[1],new t4([e[0],e[1],...e.slice(2)],this.opts).exec(this.client));zcard=(...e)=>new t9(e,this.opts).exec(this.client);zcount=(...e)=>new t7(e,this.opts).exec(this.client);zdiffstore=(...e)=>new rb(e,this.opts).exec(this.client);zincrby=(e,t,r)=>new re([e,t,r],this.opts).exec(this.client);zinterstore=(...e)=>new rt(e,this.opts).exec(this.client);zlexcount=(...e)=>new rr(e,this.opts).exec(this.client);zmscore=(...e)=>new rx(e,this.opts).exec(this.client);zpopmax=(...e)=>new rs(e,this.opts).exec(this.client);zpopmin=(...e)=>new ri(e,this.opts).exec(this.client);zrange=(...e)=>new rn(e,this.opts).exec(this.client);zrank=(e,t)=>new ro([e,t],this.opts).exec(this.client);zrem=(e,...t)=>new ra([e,...t],this.opts).exec(this.client);zremrangebylex=(...e)=>new rc(e,this.opts).exec(this.client);zremrangebyrank=(...e)=>new rl(e,this.opts).exec(this.client);zremrangebyscore=(...e)=>new rh(e,this.opts).exec(this.client);zrevrank=(e,t)=>new ru([e,t],this.opts).exec(this.client);zscan=(...e)=>new rf(e,this.opts).exec(this.client);zscore=(e,t)=>new rp([e,t],this.opts).exec(this.client);zunion=(...e)=>new rd(e,this.opts).exec(this.client);zunionstore=(...e)=>new rm(e,this.opts).exec(this.client)};"undefined"==typeof atob&&(global.atob=e=>Buffer.from(e,"base64").toString("utf8"));var rR=class e extends rA{constructor(e){if("request"in e){super(e);return}if(e.url?(e.url.startsWith(" ")||e.url.endsWith(" ")||/\r|\n/.test(e.url))&&console.warn("[Upstash Redis] The redis url contains whitespace or newline, which can cause errors!"):console.warn("[Upstash Redis] The 'url' property is missing or undefined in your Redis config."),e.token?(e.token.startsWith(" ")||e.token.endsWith(" ")||/\r|\n/.test(e.token))&&console.warn("[Upstash Redis] The redis token contains whitespace or newline, which can cause errors!"):console.warn("[Upstash Redis] The 'token' property is missing or undefined in your Redis config."),super(new u({baseUrl:e.url,retry:e.retry,headers:{authorization:`Bearer ${e.token}`},agent:e.agent,responseEncoding:e.responseEncoding,cache:e.cache??"no-store",signal:e.signal,keepAlive:e.keepAlive,readYourWrites:e.readYourWrites}),{automaticDeserialization:e.automaticDeserialization,enableTelemetry:!process.env.UPSTASH_DISABLE_TELEMETRY,latencyLogging:e.latencyLogging,enableAutoPipelining:e.enableAutoPipelining}),this.addTelemetry({runtime:"string"==typeof EdgeRuntime?"edge-light":`node@${process.version}`,platform:process.env.UPSTASH_CONSOLE?"console":process.env.VERCEL?"vercel":process.env.AWS_REGION?"aws":"unknown",sdk:"@upstash/redis@v1.35.4"}),this.enableAutoPipelining)return this.autoPipeline()}static fromEnv(t){if(void 0===process.env)throw TypeError('[Upstash Redis] Unable to get environment variables, `process.env` is undefined. If you are deploying to cloudflare, please import from "@upstash/redis/cloudflare" instead');let r=process.env.UPSTASH_REDIS_REST_URL||process.env.KV_REST_API_URL;r||console.warn("[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_URL`");let s=process.env.UPSTASH_REDIS_REST_TOKEN||process.env.KV_REST_API_TOKEN;return s||console.warn("[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_TOKEN`"),new e({...t,url:r,token:s})}},rT=null;process.env.UPSTASH_DISABLE_TELEMETRY="1";var rI=class extends rR{async *scanIterator(e){let t,r="0";do for(let s of([r,t]=await this.scan(r,e),t))yield s;while("0"!==r)}async *hscanIterator(e,t){let r,s="0";do for(let i of([s,r]=await this.hscan(e,s,t),r))yield i;while("0"!==s)}async *sscanIterator(e,t){let r,s="0";do for(let i of([s,r]=await this.sscan(e,s,t),r))yield i;while("0"!==s)}async *zscanIterator(e,t){let r,s="0";do for(let i of([s,r]=await this.zscan(e,s,t),r))yield i;while("0"!==s)}};function rk(e){return new rI({cache:"default",enableAutoPipelining:!0,...e})}new Proxy({},{get(e,t,r){if("then"===t||"parse"===t)return Reflect.get(e,t,r);if(!rT){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");console.warn('\x1b[33m"The default export has been moved to a named export and it will be removed in version 1, change to import { kv }\x1b[0m"'),rT=rk({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(rT,t)}});var rL=new Proxy({},{get(e,t){if(!rT){if(!process.env.KV_REST_API_URL||!process.env.KV_REST_API_TOKEN)throw Error("@vercel/kv: Missing required environment variables KV_REST_API_URL and KV_REST_API_TOKEN");rT=rk({url:process.env.KV_REST_API_URL,token:process.env.KV_REST_API_TOKEN})}return Reflect.get(rT,t)}})},6875:(e,t,r)=>{"use strict";r.d(t,{ll:()=>tp});var s,i,n,o,a,c,l=Object.create,h=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,p=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,m=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>h(e,"name",{value:t,configurable:!0}),x=(e,t)=>()=>(e&&(t=e(e=0)),t),y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),g=(e,t)=>{for(var r in t)h(e,r,{get:t[r],enumerable:!0})},w=(e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of f(t))d.call(e,i)||i===r||h(e,i,{get:()=>t[i],enumerable:!(s=u(t,i))||s.enumerable});return e},v=(e,t,r)=>(r=null!=e?l(p(e)):{},w(!t&&e&&e.__esModule?r:h(r,"default",{value:e,enumerable:!0}),e)),E=e=>w(h({},"__esModule",{value:!0}),e),S=(e,t,r)=>m(e,"symbol"!=typeof t?t+"":t,r),_=y(e=>{R(),e.byteLength=c,e.toByteArray=h,e.fromByteArray=p;var t,r,s=[],i=[],n="u">typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=o.length;t<r;++t)s[t]=o[t],i[o.charCodeAt(t)]=t;function a(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var s=r===t?0:4-r%4;return[r,s]}function c(e){var t=a(e),r=t[0],s=t[1];return(r+s)*3/4-s}function l(e,t,r){return(t+r)*3/4-r}function h(e){var t,r,s=a(e),o=s[0],c=s[1],h=new n(l(e,o,c)),u=0,f=c>0?o-4:o;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],h[u++]=t>>16&255,h[u++]=t>>8&255,h[u++]=255&t;return 2===c&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,h[u++]=255&t),1===c&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,h[u++]=t>>8&255,h[u++]=255&t),h}function u(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function f(e,t,r){for(var s=[],i=t;i<r;i+=3)s.push(u((e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2])));return s.join("")}function p(e){for(var t,r=e.length,i=r%3,n=[],o=0,a=r-i;o<a;o+=16383)n.push(f(e,o,o+16383>a?a:o+16383));return 1===i?n.push(s[(t=e[r-1])>>2]+s[t<<4&63]+"=="):2===i&&n.push(s[(t=(e[r-2]<<8)+e[r-1])>>10]+s[t>>4&63]+s[t<<2&63]+"="),n.join("")}i[45]=62,i[95]=63,b(a,"getLens"),b(c,"byteLength"),b(l,"_byteLength"),b(h,"toByteArray"),b(u,"tripletToBase64"),b(f,"encodeChunk"),b(p,"fromByteArray")}),O=y(e=>{R(),e.read=function(e,t,r,s,i){var n,o,a=8*i-s-1,c=(1<<a)-1,l=c>>1,h=-7,u=r?i-1:0,f=r?-1:1,p=e[t+u];for(u+=f,n=p&(1<<-h)-1,p>>=-h,h+=a;h>0;n=256*n+e[t+u],u+=f,h-=8);for(o=n&(1<<-h)-1,n>>=-h,h+=s;h>0;o=256*o+e[t+u],u+=f,h-=8);if(0===n)n=1-l;else{if(n===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,s),n-=l}return(p?-1:1)*o*Math.pow(2,n-s)},e.write=function(e,t,r,s,i,n){var o,a,c,l=8*n-i-1,h=(1<<l)-1,u=h>>1,f=23===i?5960464477539062e-23:0,p=s?0:n-1,d=s?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+u>=1?t+=f/c:t+=f*Math.pow(2,1-u),t*c>=2&&(o++,c/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(t*c-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&a,p+=d,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+p]=255&o,p+=d,o/=256,l-=8);e[r+p-d]|=128*m}}),A=y(e=>{R();var t=_(),r=O(),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(){try{let e=new Uint8Array(1),t={foo:b(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function n(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return h(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return u(e,t);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(eo(e,ArrayBuffer)||e&&eo(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(eo(e,SharedArrayBuffer)||e&&eo(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return o.from(s,t,r);let i=m(e);if(i)return i;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e,t,r){return c(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}function h(e){return c(e),n(e<0?0:0|x(e))}function u(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|g(e,t),s=n(r),i=s.write(e,t);return i!==r&&(s=s.slice(0,i)),s}function f(e){let t=e.length<0?0:0|x(e.length),r=n(t);for(let s=0;s<t;s+=1)r[s]=255&e[s];return r}function p(e){if(eo(e,Uint8Array)){let t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}function d(e,t,r){let s;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),o.prototype),s}function m(e){if(o.isBuffer(e)){let t=0|x(e.length),r=n(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||ea(e.length)?n(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}function x(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function y(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||eo(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ei(e).length;default:if(i)return s?-1:et(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,r){let s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function v(e,t,r){let s=e[t];e[t]=e[r],e[r]=s}function E(e,t,r,s,i){if(0===e.length)return -1;if("string"==typeof r?(s=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),ea(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=o.from(t,s)),o.isBuffer(t))return 0===t.length?-1:S(e,t,r,s,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):S(e,[t],r,s,i);throw TypeError("val must be string, number or Buffer")}function S(e,t,r,s,i){let n,o=1,a=e.length,c=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return -1;o=2,a/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(b(l,"read"),i){let s=-1;for(n=r;n<a;n++)if(l(e,n)===l(t,-1===s?0:n-s)){if(-1===s&&(s=n),n-s+1===c)return s*o}else -1!==s&&(n-=n-s),s=-1}else for(r+c>a&&(r=a-c),n=r;n>=0;n--){let r=!0;for(let s=0;s<c;s++)if(l(e,n+s)!==l(t,s)){r=!1;break}if(r)return n}return -1}function A(e,t,r,s){let i;r=Number(r)||0;let n=e.length-r;s?(s=Number(s))>n&&(s=n):s=n;let o=t.length;for(s>o/2&&(s=o/2),i=0;i<s;++i){let s=parseInt(t.substr(2*i,2),16);if(ea(s))break;e[r+i]=s}return i}function T(e,t,r,s){return en(et(t,e.length-r),e,r,s)}function I(e,t,r,s){return en(er(t),e,r,s)}function k(e,t,r,s){return en(ei(t),e,r,s)}function L(e,t,r,s){return en(es(t,e.length-r),e,r,s)}function C(e,r,s){return 0===r&&s===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,s))}function P(e,t,r){r=Math.min(e.length,r);let s=[],i=t;for(;i<r;){let t=e[i],n=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,s,a,c;switch(o){case 1:t<128&&(n=t);break;case 2:(192&(r=e[i+1]))==128&&(c=(31&t)<<6|63&r)>127&&(n=c);break;case 3:r=e[i+1],s=e[i+2],(192&r)==128&&(192&s)==128&&(c=(15&t)<<12|(63&r)<<6|63&s)>2047&&(c<55296||c>57343)&&(n=c);break;case 4:r=e[i+1],s=e[i+2],a=e[i+3],(192&r)==128&&(192&s)==128&&(192&a)==128&&(c=(15&t)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(n=c)}}null===n?(n=65533,o=1):n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n),i+=o}return N(s)}function N(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",s=0;for(;s<t;)r+=String.fromCharCode.apply(String,e.slice(s,s+=4096));return r}function M(e,t,r){let s="";r=Math.min(e.length,r);for(let i=t;i<r;++i)s+=String.fromCharCode(127&e[i]);return s}function B(e,t,r){let s="";r=Math.min(e.length,r);for(let i=t;i<r;++i)s+=String.fromCharCode(e[i]);return s}function U(e,t,r){let s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);let i="";for(let s=t;s<r;++s)i+=ec[e[s]];return i}function D(e,t,r){let s=e.slice(t,r),i="";for(let e=0;e<s.length-1;e+=2)i+=String.fromCharCode(s[e]+256*s[e+1]);return i}function $(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function j(e,t,r,s,i,n){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<n)throw RangeError('"value" argument is out of bounds');if(r+s>e.length)throw RangeError("Index out of range")}function F(e,t,r,s,i){X(t,s,i,e,r,7);let n=Number(t&BigInt(0xffffffff));e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function q(e,t,r,s,i){X(t,s,i,e,r,7);let n=Number(t&BigInt(0xffffffff));e[r+7]=n,n>>=8,e[r+6]=n,n>>=8,e[r+5]=n,n>>=8,e[r+4]=n;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function z(e,t,r,s,i,n){if(r+s>e.length||r<0)throw RangeError("Index out of range")}function G(e,t,s,i,n){return t=+t,s>>>=0,n||z(e,t,s,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,s,i,23,4),s+4}function W(e,t,s,i,n){return t=+t,s>>>=0,n||z(e,t,s,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,s,i,52,8),s+8}e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),b(i,"typedArraySupport"),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:b(function(){if(o.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:b(function(){if(o.isBuffer(this))return this.byteOffset},"get")}),b(n,"createBuffer"),b(o,"Buffer"),o.poolSize=8192,b(a,"from"),o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),b(c,"assertSize"),b(l,"alloc"),o.alloc=function(e,t,r){return l(e,t,r)},b(h,"allocUnsafe"),o.allocUnsafe=function(e){return h(e)},o.allocUnsafeSlow=function(e){return h(e)},b(u,"fromString"),b(f,"fromArrayLike"),b(p,"fromArrayView"),b(d,"fromArrayBuffer"),b(m,"fromObject"),b(x,"checked"),b(y,"SlowBuffer"),o.isBuffer=b(function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},"isBuffer"),o.compare=b(function(e,t){if(eo(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),eo(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,s=t.length;for(let i=0,n=Math.min(r,s);i<n;++i)if(e[i]!==t[i]){r=e[i],s=t[i];break}return r<s?-1:s<r?1:0},"compare"),o.isEncoding=b(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),o.concat=b(function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let s=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(eo(t,Uint8Array))i+t.length>s.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(s,i)):Uint8Array.prototype.set.call(s,t,i);else if(o.isBuffer(t))t.copy(s,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return s},"concat"),b(g,"byteLength"),o.byteLength=g,b(w,"slowToString"),o.prototype._isBuffer=!0,b(v,"swap"),o.prototype.swap16=b(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},"swap16"),o.prototype.swap32=b(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},"swap32"),o.prototype.swap64=b(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},"swap64"),o.prototype.toString=b(function(){let e=this.length;return 0===e?"":0==arguments.length?P(this,0,e):w.apply(this,arguments)},"toString"),o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=b(function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},"equals"),o.prototype.inspect=b(function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},"inspect"),s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=b(function(e,t,r,s,i){if(eo(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===i&&(i=this.length),t<0||r>e.length||s<0||i>this.length)throw RangeError("out of range index");if(s>=i&&t>=r)return 0;if(s>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,s>>>=0,i>>>=0,this===e)return 0;let n=i-s,a=r-t,c=Math.min(n,a),l=this.slice(s,i),h=e.slice(t,r);for(let e=0;e<c;++e)if(l[e]!==h[e]){n=l[e],a=h[e];break}return n<a?-1:a<n?1:0},"compare"),b(E,"bidirectionalIndexOf"),b(S,"arrayIndexOf"),o.prototype.includes=b(function(e,t,r){return -1!==this.indexOf(e,t,r)},"includes"),o.prototype.indexOf=b(function(e,t,r){return E(this,e,t,r,!0)},"indexOf"),o.prototype.lastIndexOf=b(function(e,t,r){return E(this,e,t,r,!1)},"lastIndexOf"),b(A,"hexWrite"),b(T,"utf8Write"),b(I,"asciiWrite"),b(k,"base64Write"),b(L,"ucs2Write"),o.prototype.write=b(function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let n=!1;for(;;)switch(s){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":case"latin1":case"binary":return I(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,r);default:if(n)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),n=!0}},"write"),o.prototype.toJSON=b(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),b(C,"base64Slice"),b(P,"utf8Slice"),b(N,"decodeCodePointsArray"),b(M,"asciiSlice"),b(B,"latin1Slice"),b(U,"hexSlice"),b(D,"utf16leSlice"),o.prototype.slice=b(function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let s=this.subarray(e,t);return Object.setPrototypeOf(s,o.prototype),s},"slice"),b($,"checkOffset"),o.prototype.readUintLE=o.prototype.readUIntLE=b(function(e,t,r){e>>>=0,t>>>=0,r||$(e,t,this.length);let s=this[e],i=1,n=0;for(;++n<t&&(i*=256);)s+=this[e+n]*i;return s},"readUIntLE"),o.prototype.readUintBE=o.prototype.readUIntBE=b(function(e,t,r){e>>>=0,t>>>=0,r||$(e,t,this.length);let s=this[e+--t],i=1;for(;t>0&&(i*=256);)s+=this[e+--t]*i;return s},"readUIntBE"),o.prototype.readUint8=o.prototype.readUInt8=b(function(e,t){return e>>>=0,t||$(e,1,this.length),this[e]},"readUInt8"),o.prototype.readUint16LE=o.prototype.readUInt16LE=b(function(e,t){return e>>>=0,t||$(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),o.prototype.readUint16BE=o.prototype.readUInt16BE=b(function(e,t){return e>>>=0,t||$(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),o.prototype.readUint32LE=o.prototype.readUInt32LE=b(function(e,t){return e>>>=0,t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},"readUInt32LE"),o.prototype.readUint32BE=o.prototype.readUInt32BE=b(function(e,t){return e>>>=0,t||$(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),o.prototype.readBigUInt64LE=el(b(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&J(e,this.length-8);let s=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(s)+(BigInt(i)<<BigInt(32))},"readBigUInt64LE")),o.prototype.readBigUInt64BE=el(b(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&J(e,this.length-8);let s=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(s)<<BigInt(32))+BigInt(i)},"readBigUInt64BE")),o.prototype.readIntLE=b(function(e,t,r){e>>>=0,t>>>=0,r||$(e,t,this.length);let s=this[e],i=1,n=0;for(;++n<t&&(i*=256);)s+=this[e+n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},"readIntLE"),o.prototype.readIntBE=b(function(e,t,r){e>>>=0,t>>>=0,r||$(e,t,this.length);let s=t,i=1,n=this[e+--s];for(;s>0&&(i*=256);)n+=this[e+--s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},"readIntBE"),o.prototype.readInt8=b(function(e,t){return e>>>=0,t||$(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),o.prototype.readInt16LE=b(function(e,t){e>>>=0,t||$(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},"readInt16LE"),o.prototype.readInt16BE=b(function(e,t){e>>>=0,t||$(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},"readInt16BE"),o.prototype.readInt32LE=b(function(e,t){return e>>>=0,t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),o.prototype.readInt32BE=b(function(e,t){return e>>>=0,t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),o.prototype.readBigInt64LE=el(b(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&J(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])},"readBigInt64LE")),o.prototype.readBigInt64BE=el(b(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&J(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)},"readBigInt64BE")),o.prototype.readFloatLE=b(function(e,t){return e>>>=0,t||$(e,4,this.length),r.read(this,e,!0,23,4)},"readFloatLE"),o.prototype.readFloatBE=b(function(e,t){return e>>>=0,t||$(e,4,this.length),r.read(this,e,!1,23,4)},"readFloatBE"),o.prototype.readDoubleLE=b(function(e,t){return e>>>=0,t||$(e,8,this.length),r.read(this,e,!0,52,8)},"readDoubleLE"),o.prototype.readDoubleBE=b(function(e,t){return e>>>=0,t||$(e,8,this.length),r.read(this,e,!1,52,8)},"readDoubleBE"),b(j,"checkInt"),o.prototype.writeUintLE=o.prototype.writeUIntLE=b(function(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){let s=Math.pow(2,8*r)-1;j(this,e,t,r,s,0)}let i=1,n=0;for(this[t]=255&e;++n<r&&(i*=256);)this[t+n]=e/i&255;return t+r},"writeUIntLE"),o.prototype.writeUintBE=o.prototype.writeUIntBE=b(function(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){let s=Math.pow(2,8*r)-1;j(this,e,t,r,s,0)}let i=r-1,n=1;for(this[t+i]=255&e;--i>=0&&(n*=256);)this[t+i]=e/n&255;return t+r},"writeUIntBE"),o.prototype.writeUint8=o.prototype.writeUInt8=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},"writeUInt8"),o.prototype.writeUint16LE=o.prototype.writeUInt16LE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeUInt16LE"),o.prototype.writeUint16BE=o.prototype.writeUInt16BE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeUInt16BE"),o.prototype.writeUint32LE=o.prototype.writeUInt32LE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},"writeUInt32LE"),o.prototype.writeUint32BE=o.prototype.writeUInt32BE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeUInt32BE"),b(F,"wrtBigUInt64LE"),b(q,"wrtBigUInt64BE"),o.prototype.writeBigUInt64LE=el(b(function(e,t=0){return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),o.prototype.writeBigUInt64BE=el(b(function(e,t=0){return q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),o.prototype.writeIntLE=b(function(e,t,r,s){if(e=+e,t>>>=0,!s){let s=Math.pow(2,8*r-1);j(this,e,t,r,s-1,-s)}let i=0,n=1,o=0;for(this[t]=255&e;++i<r&&(n*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/n>>0)-o&255;return t+r},"writeIntLE"),o.prototype.writeIntBE=b(function(e,t,r,s){if(e=+e,t>>>=0,!s){let s=Math.pow(2,8*r-1);j(this,e,t,r,s-1,-s)}let i=r-1,n=1,o=0;for(this[t+i]=255&e;--i>=0&&(n*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/n>>0)-o&255;return t+r},"writeIntBE"),o.prototype.writeInt8=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},"writeInt8"),o.prototype.writeInt16LE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeInt16LE"),o.prototype.writeInt16BE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeInt16BE"),o.prototype.writeInt32LE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE"),o.prototype.writeInt32BE=b(function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeInt32BE"),o.prototype.writeBigInt64LE=el(b(function(e,t=0){return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),o.prototype.writeBigInt64BE=el(b(function(e,t=0){return q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),b(z,"checkIEEE754"),b(G,"writeFloat"),o.prototype.writeFloatLE=b(function(e,t,r){return G(this,e,t,!0,r)},"writeFloatLE"),o.prototype.writeFloatBE=b(function(e,t,r){return G(this,e,t,!1,r)},"writeFloatBE"),b(W,"writeDouble"),o.prototype.writeDoubleLE=b(function(e,t,r){return W(this,e,t,!0,r)},"writeDoubleLE"),o.prototype.writeDoubleBE=b(function(e,t,r){return W(this,e,t,!1,r)},"writeDoubleBE"),o.prototype.copy=b(function(e,t,r,s){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);let i=s-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,s):Uint8Array.prototype.set.call(e,this.subarray(r,s),t),i},"copy"),o.prototype.fill=b(function(e,t,r,s){let i;if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!o.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===e.length){let t=e.charCodeAt(0);("utf8"===s&&t<128||"latin1"===s)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let n=o.isBuffer(e)?e:o.from(e,s),a=n.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=n[i%a]}return this},"fill");var Q={};function V(e,t,r){var s;Q[e]=(b(s=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),s)}function H(e){let t="",r=e.length,s="-"===e[0]?1:0;for(;r>=s+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r){Y(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&J(t,e.length-(r+1))}function X(e,t,r,s,i,n){if(e>r||e<t){let s="bigint"==typeof t?"n":"",i;throw i=n>3?0===t||t===BigInt(0)?`>= 0${s} and < 2${s} ** ${(n+1)*8}${s}`:`>= -(2${s} ** ${(n+1)*8-1}${s}) and \
< 2 ** ${(n+1)*8-1}${s}`:`>= ${t}${s} and <= ${r}${s}`,new Q.ERR_OUT_OF_RANGE("value",i,e)}K(s,i,n)}function Y(e,t){if("number"!=typeof e)throw new Q.ERR_INVALID_ARG_TYPE(t,"number",e)}function J(e,t,r){throw Math.floor(e)!==e?(Y(e,r),new Q.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}b(V,"E"),V("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argum\
ent must be of type number. Received type ${typeof t}`},TypeError),V("ERR_OUT_OF_RANGE",function(e,t,r){let s=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=H(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),s+=` It\
 must be ${t}. Received ${i}`},RangeError),b(H,"addNumericalSeparator"),b(K,"checkBounds"),b(X,"checkIntBI"),b(Y,"validateNumber"),b(J,"boundsError");var Z=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function et(e,t){t=t||1/0;let r,s=e.length,i=null,n=[];for(let o=0;o<s;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===s){(t-=3)>-1&&n.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&n.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return n}function er(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function es(e,t){let r,s,i=[];for(let n=0;n<e.length&&!((t-=2)<0);++n)s=(r=e.charCodeAt(n))>>8,i.push(r%256),i.push(s);return i}function ei(e){return t.toByteArray(ee(e))}function en(e,t,r,s){let i;for(i=0;i<s&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function eo(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ea(e){return e!=e}b(ee,"base64clean"),b(et,"utf8ToBytes"),b(er,"asciiToBytes"),b(es,"utf16leToBytes"),b(ei,"base64ToBytes"),b(en,"blitBuffer"),b(eo,"isInstance"),b(ea,"numberIsNaN");var ec=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let s=16*r;for(let i=0;i<16;++i)t[s+i]=e[r]+e[i]}return t}();function el(e){return typeof BigInt>"u"?eh:e}function eh(){throw Error("BigInt not supported")}b(el,"defineBigIntMethod"),b(eh,"BufferBigIntNotDefined")}),R=x(()=>{i=globalThis,n=globalThis.setImmediate??(e=>setTimeout(e,0)),globalThis.clearImmediate??(e=>clearTimeout(e)),(o=globalThis.crypto??{}).subtle??(o.subtle={}),a="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:A().Buffer,(c=globalThis.process??{}).env??(c.env={});try{c.nextTick(()=>{})}catch{let e=Promise.resolve();c.nextTick=e.then.bind(e)}}),T=y((e,t)=>{R();var r,s="object"==typeof Reflect?Reflect:null,i=s&&"function"==typeof s.apply?s.apply:b(function(e,t,r){return Function.prototype.apply.call(e,t,r)},"ReflectApply");function n(e){console&&console.warn&&console.warn(e)}r=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?b(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):b(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys"),b(n,"ProcessEmitWarning");var o=Number.isNaN||b(function(e){return e!=e},"NumberIsNaN");function a(){a.init.call(this)}b(a,"EventEmitter"),t.exports=a,t.exports.once=w,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,s){var i,o,a;if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=s?[r,a]:[a,r]:s?a.unshift(r):a.push(r),(i=h(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,n(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(s);return i.listener=r,s.wrapFn=i,i}function d(e,t,r){var s=e._events;if(void 0===s)return[];var i=s[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?g(i):x(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function x(e,t){for(var r=Array(t),s=0;s<t;++s)r[s]=e[s];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function w(e,t){return new Promise(function(r,s){function i(r){e.removeListener(t,n),s(r)}function n(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}b(i,"errorListener"),b(n,"resolver"),E(e,t,n,{once:!0}),"error"!==t&&v(e,i,{once:!0})})}function v(e,t,r){"function"==typeof e.on&&E(e,"error",t,r)}function E(e,t,r,s){if("function"==typeof e.on)s.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,b(function i(n){s.once&&e.removeEventListener(t,i),r(n)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}b(l,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:b(function(){return c},"get"),set:b(function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e},"set")}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=b(function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners"),b(h,"_getMaxListeners"),a.prototype.getMaxListeners=b(function(){return h(this)},"getMaxListeners"),a.prototype.emit=b(function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var s="error"===e,n=this._events;if(void 0!==n)s=s&&void 0===n.error;else if(!s)return!1;if(s){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=n[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else for(var l=c.length,h=x(c,l),r=0;r<l;++r)i(h[r],this,t);return!0},"emit"),b(u,"_addListener"),a.prototype.addListener=b(function(e,t){return u(this,e,t,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=b(function(e,t){return u(this,e,t,!0)},"prependListener"),b(f,"onceWrapper"),b(p,"_onceWrap"),a.prototype.once=b(function(e,t){return l(t),this.on(e,p(this,e,t)),this},"once"),a.prototype.prependOnceListener=b(function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},"prependOnceListener"),a.prototype.removeListener=b(function(e,t){var r,s,i,n,o;if(l(t),void 0===(s=this._events)||void 0===(r=s[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){o=r[n].listener,i=n;break}if(i<0)return this;0===i?r.shift():y(r,i),1===r.length&&(s[e]=r[0]),void 0!==s.removeListener&&this.emit("removeListener",e,o||t)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=b(function(e){var t,r,s;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,n=Object.keys(r);for(s=0;s<n.length;++s)"removeListener"!==(i=n[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},"removeAllListeners"),b(d,"_listeners"),a.prototype.listeners=b(function(e){return d(this,e,!0)},"listeners"),a.prototype.rawListeners=b(function(e){return d(this,e,!1)},"rawListeners"),a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,b(m,"listenerCount"),a.prototype.eventNames=b(function(){return this._eventsCount>0?r(this._events):[]},"eventNames"),b(x,"arrayClone"),b(y,"spliceOne"),b(g,"unwrapListeners"),b(w,"once"),b(v,"addErrorHandlerIfEventEmitter"),b(E,"eventTargetAgnosticAddListener")}),I={};g(I,{default:()=>k});var k,L=x(()=>{R(),k={}});function C(e){let t=0x6a09e667,r=0xbb67ae85,s=0x3c6ef372,i=0xa54ff53a,n=0x510e527f,o=0x9b05688c,a=0x1f83d9ab,c=0x5be0cd19,l=0,h=0,u=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],f=b((e,t)=>e>>>t|e<<32-t,"rrot"),p=new Uint32Array(64),d=new Uint8Array(64),m=b(()=>{for(let e=0,t=0;e<16;e++,t+=4)p[e]=d[t]<<24|d[t+1]<<16|d[t+2]<<8|d[t+3];for(let e=16;e<64;e++){let t=f(p[e-15],7)^f(p[e-15],18)^p[e-15]>>>3,r=f(p[e-2],17)^f(p[e-2],19)^p[e-2]>>>10;p[e]=p[e-16]+t+p[e-7]+r|0}let e=t,l=r,m=s,b=i,x=n,y=o,g=a,w=c;for(let t=0;t<64;t++){let r=w+(f(x,6)^f(x,11)^f(x,25))+(x&y^~x&g)+u[t]+p[t]|0,s=(f(e,2)^f(e,13)^f(e,22))+(e&l^e&m^l&m)|0;w=g,g=y,y=x,x=b+r|0,b=m,m=l,l=e,e=r+s|0}t=t+e|0,r=r+l|0,s=s+m|0,i=i+b|0,n=n+x|0,o=o+y|0,a=a+g|0,c=c+w|0,h=0},"process"),x=b(e=>{"string"==typeof e&&(e=new TextEncoder().encode(e));for(let t=0;t<e.length;t++)d[h++]=e[t],64===h&&m();l+=e.length},"add"),y=b(()=>{if(d[h++]=128,64==h&&m(),h+8>64){for(;h<64;)d[h++]=0;m()}for(;h<58;)d[h++]=0;let e=8*l;d[h++]=e/0x10000000000&255,d[h++]=e/0x100000000&255,d[h++]=e>>>24,d[h++]=e>>>16&255,d[h++]=e>>>8&255,d[h++]=255&e,m();let u=new Uint8Array(32);return u[0]=t>>>24,u[1]=t>>>16&255,u[2]=t>>>8&255,u[3]=255&t,u[4]=r>>>24,u[5]=r>>>16&255,u[6]=r>>>8&255,u[7]=255&r,u[8]=s>>>24,u[9]=s>>>16&255,u[10]=s>>>8&255,u[11]=255&s,u[12]=i>>>24,u[13]=i>>>16&255,u[14]=i>>>8&255,u[15]=255&i,u[16]=n>>>24,u[17]=n>>>16&255,u[18]=n>>>8&255,u[19]=255&n,u[20]=o>>>24,u[21]=o>>>16&255,u[22]=o>>>8&255,u[23]=255&o,u[24]=a>>>24,u[25]=a>>>16&255,u[26]=a>>>8&255,u[27]=255&a,u[28]=c>>>24,u[29]=c>>>16&255,u[30]=c>>>8&255,u[31]=255&c,u},"digest");return void 0===e?{add:x,digest:y}:(x(e),y())}var P,N,M=x(()=>{R(),b(C,"sha256")}),B=x(()=>{R(),b(P=class e{constructor(){S(this,"_dataLength",0),S(this,"_bufferLength",0),S(this,"_state",new Int32Array(4)),S(this,"_buffer",new ArrayBuffer(68)),S(this,"_buffer8"),S(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){let r=e.hexChars,s=e.hexOut,i,n,o,a;for(a=0;a<4;a+=1)for(n=8*a,i=t[a],o=0;o<8;o+=2)s[n+1+o]=r.charAt(15&i),i>>>=4,s[n+0+o]=r.charAt(15&i),i>>>=4;return s.join("")}static _md5cycle(e,t){let r=e[0],s=e[1],i=e[2],n=e[3];r+=(s&i|~s&n)+t[0]-0x28955b88|0,n+=((r=(r<<7|r>>>25)+s|0)&s|~r&i)+t[1]-0x173848aa|0,i+=((n=(n<<12|n>>>20)+r|0)&r|~n&s)+t[2]+0x242070db|0,s+=((i=(i<<17|i>>>15)+n|0)&n|~i&r)+t[3]-0x3e423112|0,r+=((s=(s<<22|s>>>10)+i|0)&i|~s&n)+t[4]-0xa83f051|0,n+=((r=(r<<7|r>>>25)+s|0)&s|~r&i)+t[5]+0x4787c62a|0,i+=((n=(n<<12|n>>>20)+r|0)&r|~n&s)+t[6]-0x57cfb9ed|0,s+=((i=(i<<17|i>>>15)+n|0)&n|~i&r)+t[7]-0x2b96aff|0,r+=((s=(s<<22|s>>>10)+i|0)&i|~s&n)+t[8]+0x698098d8|0,n+=((r=(r<<7|r>>>25)+s|0)&s|~r&i)+t[9]-0x74bb0851|0,i+=((n=(n<<12|n>>>20)+r|0)&r|~n&s)+t[10]-42063|0,s+=((i=(i<<17|i>>>15)+n|0)&n|~i&r)+t[11]-0x76a32842|0,r+=((s=(s<<22|s>>>10)+i|0)&i|~s&n)+t[12]+0x6b901122|0,n+=((r=(r<<7|r>>>25)+s|0)&s|~r&i)+t[13]-0x2678e6d|0,i+=((n=(n<<12|n>>>20)+r|0)&r|~n&s)+t[14]-0x5986bc72|0,s+=((i=(i<<17|i>>>15)+n|0)&n|~i&r)+t[15]+0x49b40821|0,r+=((s=(s<<22|s>>>10)+i|0)&n|i&~n)+t[1]-0x9e1da9e|0,n+=((r=(r<<5|r>>>27)+s|0)&i|s&~i)+t[6]-0x3fbf4cc0|0,i+=((n=(n<<9|n>>>23)+r|0)&s|r&~s)+t[11]+0x265e5a51|0,s+=((i=(i<<14|i>>>18)+n|0)&r|n&~r)+t[0]-0x16493856|0,r+=((s=(s<<20|s>>>12)+i|0)&n|i&~n)+t[5]-0x29d0efa3|0,n+=((r=(r<<5|r>>>27)+s|0)&i|s&~i)+t[10]+0x2441453|0,i+=((n=(n<<9|n>>>23)+r|0)&s|r&~s)+t[15]-0x275e197f|0,s+=((i=(i<<14|i>>>18)+n|0)&r|n&~r)+t[4]-0x182c0438|0,r+=((s=(s<<20|s>>>12)+i|0)&n|i&~n)+t[9]+0x21e1cde6|0,n+=((r=(r<<5|r>>>27)+s|0)&i|s&~i)+t[14]-0x3cc8f82a|0,i+=((n=(n<<9|n>>>23)+r|0)&s|r&~s)+t[3]-0xb2af279|0,s+=((i=(i<<14|i>>>18)+n|0)&r|n&~r)+t[8]+0x455a14ed|0,r+=((s=(s<<20|s>>>12)+i|0)&n|i&~n)+t[13]-0x561c16fb|0,n+=((r=(r<<5|r>>>27)+s|0)&i|s&~i)+t[2]-0x3105c08|0,i+=((n=(n<<9|n>>>23)+r|0)&s|r&~s)+t[7]+0x676f02d9|0,s+=((i=(i<<14|i>>>18)+n|0)&r|n&~r)+t[12]-0x72d5b376|0,r+=((s=(s<<20|s>>>12)+i|0)^i^n)+t[5]-378558|0,n+=((r=(r<<4|r>>>28)+s|0)^s^i)+t[8]-0x788e097f|0,i+=((n=(n<<11|n>>>21)+r|0)^r^s)+t[11]+0x6d9d6122|0,s+=((i=(i<<16|i>>>16)+n|0)^n^r)+t[14]-0x21ac7f4|0,r+=((s=(s<<23|s>>>9)+i|0)^i^n)+t[1]-0x5b4115bc|0,n+=((r=(r<<4|r>>>28)+s|0)^s^i)+t[4]+0x4bdecfa9|0,i+=((n=(n<<11|n>>>21)+r|0)^r^s)+t[7]-0x944b4a0|0,s+=((i=(i<<16|i>>>16)+n|0)^n^r)+t[10]-0x41404390|0,r+=((s=(s<<23|s>>>9)+i|0)^i^n)+t[13]+0x289b7ec6|0,n+=((r=(r<<4|r>>>28)+s|0)^s^i)+t[0]-0x155ed806|0,i+=((n=(n<<11|n>>>21)+r|0)^r^s)+t[3]-0x2b10cf7b|0,s+=((i=(i<<16|i>>>16)+n|0)^n^r)+t[6]+0x4881d05|0,r+=((s=(s<<23|s>>>9)+i|0)^i^n)+t[9]-0x262b2fc7|0,n+=((r=(r<<4|r>>>28)+s|0)^s^i)+t[12]-0x1924661b|0,i+=((n=(n<<11|n>>>21)+r|0)^r^s)+t[15]+0x1fa27cf8|0,s+=((i=(i<<16|i>>>16)+n|0)^n^r)+t[2]-0x3b53a99b|0,s=(s<<23|s>>>9)+i|0,r+=(i^(s|~n))+t[0]-0xbd6ddbc|0,r=(r<<6|r>>>26)+s|0,n+=(s^(r|~i))+t[7]+0x432aff97|0,n=(n<<10|n>>>22)+r|0,i+=(r^(n|~s))+t[14]-0x546bdc59|0,i=(i<<15|i>>>17)+n|0,s+=(n^(i|~r))+t[5]-0x36c5fc7|0,s=(s<<21|s>>>11)+i|0,r+=(i^(s|~n))+t[12]+0x655b59c3|0,r=(r<<6|r>>>26)+s|0,n+=(s^(r|~i))+t[3]-0x70f3336e|0,n=(n<<10|n>>>22)+r|0,i+=(r^(n|~s))+t[10]-1051523|0,i=(i<<15|i>>>17)+n|0,s+=(n^(i|~r))+t[1]-0x7a7ba22f|0,s=(s<<21|s>>>11)+i|0,r+=(i^(s|~n))+t[8]+0x6fa87e4f|0,r=(r<<6|r>>>26)+s|0,n+=(s^(r|~i))+t[15]-0x1d31920|0,n=(n<<10|n>>>22)+r|0,i+=(r^(n|~s))+t[6]-0x5cfebcec|0,i=(i<<15|i>>>17)+n|0,s+=(n^(i|~r))+t[13]+0x4e0811a1|0,s=(s<<21|s>>>11)+i|0,r+=(i^(s|~n))+t[4]-0x8ac817e|0,r=(r<<6|r>>>26)+s|0,n+=(s^(r|~i))+t[11]-0x42c50dcb|0,n=(n<<10|n>>>22)+r|0,i+=(r^(n|~s))+t[2]+0x2ad7d2bb|0,i=(i<<15|i>>>17)+n|0,s+=(n^(i|~r))+t[9]-0x14792c6f|0,s=(s<<21|s>>>11)+i|0,e[0]=r+e[0]|0,e[1]=s+e[1]|0,e[2]=i+e[2]|0,e[3]=n+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){let r=this._buffer8,s=this._buffer32,i=this._bufferLength,n,o;for(o=0;o<t.length;o+=1){if((n=t.charCodeAt(o))<128)r[i++]=n;else if(n<2048)r[i++]=(n>>>6)+192,r[i++]=63&n|128;else if(n<55296||n>56319)r[i++]=(n>>>12)+224,r[i++]=n>>>6&63|128,r[i++]=63&n|128;else{if((n=(n-55296)*1024+(t.charCodeAt(++o)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(n>>>18)+240,r[i++]=n>>>12&63|128,r[i++]=n>>>6&63|128,r[i++]=63&n|128}i>=64&&(this._dataLength+=64,e._md5cycle(this._state,s),i-=64,s[0]=s[16])}return this._bufferLength=i,this}appendAsciiStr(t){let r=this._buffer8,s=this._buffer32,i=this._bufferLength,n,o=0;for(;;){for(n=Math.min(t.length-o,64-i);n--;)r[i++]=t.charCodeAt(o++);if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,s),i=0}return this._bufferLength=i,this}appendByteArray(t){let r=this._buffer8,s=this._buffer32,i=this._bufferLength,n,o=0;for(;;){for(n=Math.min(t.length-o,64-i);n--;)r[i++]=t[o++];if(i<64)break;this._dataLength+=64,e._md5cycle(this._state,s),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,r=e.state,s=this._state,i;for(this._dataLength=e.length,this._bufferLength=e.buflen,s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],i=0;i<t.length;i+=1)this._buffer8[i]=t.charCodeAt(i)}end(t=!1){let r=this._bufferLength,s=this._buffer8,i=this._buffer32,n=(r>>2)+1;this._dataLength+=r;let o=8*this._dataLength;if(s[r]=128,s[r+1]=s[r+2]=s[r+3]=0,i.set(e.buffer32Identity.subarray(n),n),r>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),o<=0xffffffff)i[14]=o;else{let e=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;let t=parseInt(e[2],16),r=parseInt(e[1],16)||0;i[14]=t,i[15]=r}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)}},"Md5"),S(P,"stateIdentity",new Int32Array([0x67452301,-0x10325477,-0x67452302,0x10325476])),S(P,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),S(P,"hexChars","0123456789abcdef"),S(P,"hexOut",[]),S(P,"onePassHasher",new P),N=P}),U={};function D(e){return o.getRandomValues(a.alloc(e))}function $(e){if("sha256"===e)return{update:b(function(e){return{digest:b(function(){return a.from(C(e))},"digest")}},"update")};if("md5"===e)return{update:b(function(e){return{digest:b(function(){return"string"==typeof e?N.hashStr(e):N.hashByteArray(e)},"digest")}},"update")};throw Error(`Hash type '${e}' not supported`)}function j(e,t){if("sha256"!==e)throw Error(`Only sha256 is supported (requested: '${e}')`);return{update:b(function(e){return{digest:b(function(){"string"==typeof t&&(t=new TextEncoder().encode(t)),"string"==typeof e&&(e=new TextEncoder().encode(e));let r=t.length;if(r>64)t=C(t);else if(r<64){let e=new Uint8Array(64);e.set(t),t=e}let s=new Uint8Array(64),i=new Uint8Array(64);for(let e=0;e<64;e++)s[e]=54^t[e],i[e]=92^t[e];let n=new Uint8Array(e.length+64);n.set(s,0),n.set(e,64);let o=new Uint8Array(96);return o.set(i,0),o.set(C(n),64),a.from(C(o))},"digest")}},"update")}}g(U,{createHash:()=>$,createHmac:()=>j,randomBytes:()=>D});var F=x(()=>{R(),M(),B(),b(D,"randomBytes"),b($,"createHash"),b(j,"createHmac")}),q=y(e=>{R(),e.parse=function(e,t){return new r(e,t).parse()};var t=class e{constructor(e,t){this.source=e,this.transform=t||s,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(t){var r,s,i;for(this.consumeDimensions();!this.isEof();)if("{"!==(r=this.nextCharacter()).value||i){if("}"!==r.value||i)'"'!==r.value||r.escaped?","!==r.value||i?this.record(r.value):this.newEntry():(i&&this.newEntry(!0),i=!i);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(s=new e(this.source.substr(this.position-1),this.transform),this.entries.push(s.parse(!0)),this.position+=s.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};b(t,"ArrayParser");var r=t;function s(e){return e}b(s,"identity")}),z=y((e,t)=>{R();var r=q();t.exports={create:b(function(e,t){return{parse:b(function(){return r.parse(e,t)},"parse")}},"create")}}),G=y((e,t)=>{R();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,s=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,n=/^-?infinity$/;function o(e){var t=s.exec(e);if(t){var r=parseInt(t[1],10);t[4]&&(r=c(r));var i=new Date(r,parseInt(t[2],10)-1,t[3]);return l(r)&&i.setFullYear(r),i}}function a(e){if(e.endsWith("+00"))return 0;var t=i.exec(e.split(" ")[1]);if(t){var r=t[1];return"Z"===r?0:(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*("-"===r?-1:1)*1e3}}function c(e){return-(e-1)}function l(e){return e>=0&&e<100}t.exports=b(function(e){if(n.test(e))return Number(e.replace("i","I"));var t=r.exec(e);if(!t)return o(e)||null;var s=!!t[8],i=parseInt(t[1],10);s&&(i=c(i));var h=parseInt(t[2],10)-1,u=t[3],f=parseInt(t[4],10),p=parseInt(t[5],10),d=parseInt(t[6],10),m=t[7];m=m?1e3*parseFloat(m):0;var b,x=a(e);return null!=x?(b=new Date(Date.UTC(i,h,u,f,p,d,m)),l(i)&&b.setUTCFullYear(i),0!==x&&b.setTime(b.getTime()-x)):(b=new Date(i,h,u,f,p,d,m),l(i)&&b.setFullYear(i)),b},"parseDate"),b(o,"getDate"),b(a,"timeZoneOffset"),b(c,"bcYearToNegativeYear"),b(l,"is0To99")}),W=y((e,t)=>{R(),t.exports=s;var r=Object.prototype.hasOwnProperty;function s(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)r.call(s,i)&&(e[i]=s[i])}return e}b(s,"extend")}),Q=y((e,t)=>{R();var r=W();function s(e){if(!(this instanceof s))return new s(e);r(this,p(e))}t.exports=s,b(s,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];s.prototype.toPostgres=function(){var e=i.filter(this.hasOwnProperty,this);return this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length?"0":e.map(function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e},this).join(" ")};var n={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},o=["years","months","days"],a=["hours","minutes","seconds"];s.prototype.toISOString=s.prototype.toISO=function(){return"P"+o.map(e,this).join("")+"T"+a.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+n[e]}};var c="([+-]?\\d+)",l=new RegExp([c+"\\s+years?",c+"\\s+mons?",c+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},u=["hours","minutes","seconds","milliseconds"];function f(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function p(e){if(!e)return{};var t=l.exec(e),r="-"===t[8];return Object.keys(h).reduce(function(e,s){var i=t[h[s]];return i&&(i="milliseconds"===s?f(i):parseInt(i,10))&&(r&&~u.indexOf(s)&&(i*=-1),e[s]=i),e},{})}b(f,"parseMilliseconds"),b(p,"parse")}),V=y((e,t)=>{R(),t.exports=b(function(e){if(/^\\x/.test(e))return new a(e.substr(2),"hex");for(var t="",r=0;r<e.length;)if("\\"!==e[r])t+=e[r],++r;else if(/[0-7]{3}/.test(e.substr(r+1,3)))t+=String.fromCharCode(parseInt(e.substr(r+1,3),8)),r+=4;else{for(var s=1;r+s<e.length&&"\\"===e[r+s];)s++;for(var i=0;i<Math.floor(s/2);++i)t+="\\";r+=2*Math.floor(s/2)}return new a(t,"binary")},"parseBytea")}),H=y((e,t)=>{R();var r=q(),s=z(),i=G(),n=Q(),o=V();function a(e){return b(function(t){return null===t?t:e(t)},"nullAllowed")}function c(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function l(e){return e?r.parse(e,c):null}function h(e){return parseInt(e,10)}function u(e){return e?r.parse(e,a(h)):null}function f(e){return e?r.parse(e,a(function(e){return v(e).trim()})):null}b(a,"allowNull"),b(c,"parseBool"),b(l,"parseBoolArray"),b(h,"parseBaseTenInt"),b(u,"parseIntegerArray"),b(f,"parseBigIntegerArray");var p=b(function(e){return e?s.create(e,function(e){return null!==e&&(e=S(e)),e}).parse():null},"parsePointArray"),d=b(function(e){return e?s.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},"parseFloatArray"),m=b(function(e){return e?s.create(e).parse():null},"parseStringArray"),x=b(function(e){return e?s.create(e,function(e){return null!==e&&(e=i(e)),e}).parse():null},"parseDateArray"),y=b(function(e){return e?s.create(e,function(e){return null!==e&&(e=n(e)),e}).parse():null},"parseIntervalArray"),g=b(function(e){return e?r.parse(e,a(o)):null},"parseByteAArray"),w=b(function(e){return parseInt(e,10)},"parseInteger"),v=b(function(e){var t=String(e);return/^\d+$/.test(t)?t:e},"parseBigInteger"),E=b(function(e){return e?r.parse(e,a(JSON.parse)):null},"parseJsonArray"),S=b(function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},"parsePoint"),_=b(function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",r="",s=!1,i=2;i<e.length-1;i++){if(s||(t+=e[i]),")"===e[i]){s=!0;continue}s&&","!==e[i]&&(r+=e[i])}var n=S(t);return n.radius=parseFloat(r),n},"parseCircle"),O=b(function(e){e(20,v),e(21,w),e(23,w),e(26,w),e(700,parseFloat),e(701,parseFloat),e(16,c),e(1082,i),e(1114,i),e(1184,i),e(600,S),e(651,m),e(718,_),e(1e3,l),e(1001,g),e(1005,u),e(1007,u),e(1028,u),e(1016,f),e(1017,p),e(1021,d),e(1022,d),e(1231,d),e(1014,m),e(1015,m),e(1008,m),e(1009,m),e(1040,m),e(1041,m),e(1115,x),e(1182,x),e(1185,x),e(1186,n),e(1187,y),e(17,o),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,E),e(3807,E),e(3907,m),e(2951,m),e(791,m),e(1183,m),e(1270,m)},"init");t.exports={init:O}}),K=y((e,t)=>{function r(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),s="";t<0&&(t=~t+(0===r),r=~r+1>>>0,s="-");var i,n,o,a,c,l,h="";if(i=t%1e6,t=t/1e6>>>0,r=(n=0x100000000*i+r)/1e6>>>0,o=""+(n-1e6*r),0===r&&0===t)return s+o+h;for(a="",c=6-o.length,l=0;l<c;l++)a+="0";if(h=a+o+h,i=t%1e6,t=t/1e6>>>0,r=(n=0x100000000*i+r)/1e6>>>0,o=""+(n-1e6*r),0===r&&0===t)return s+o+h;for(a="",c=6-o.length,l=0;l<c;l++)a+="0";if(h=a+o+h,i=t%1e6,t=t/1e6>>>0,r=(n=0x100000000*i+r)/1e6>>>0,o=""+(n-1e6*r),0===r&&0===t)return s+o+h;for(a="",c=6-o.length,l=0;l<c;l++)a+="0";return h=a+o+h,s+(o=""+(n=0x100000000*(i=t%1e6)+r)%1e6)+h}R(),b(r,"readInt8"),t.exports=r}),X=y((e,t)=>{R();var r=K(),s=b(function(e,t,r,s,i){r=r||0,s=s||!1,i=i||function(e,t,r){return e*Math.pow(2,r)+t};var n=r>>3,o=b(function(e){return s?255&~e:e},"inv"),a=255,c=8-r%8;t<c&&(a=255<<8-t&255,c=t),r&&(a>>=r%8);var l=0;r%8+t>=8&&(l=i(0,o(e[n])&a,c));for(var h=t+r>>3,u=n+1;u<h;u++)l=i(l,o(e[u]),8);var f=(t+r)%8;return f>0&&(l=i(l,o(e[h])>>8-f,f)),l},"parseBits"),i=b(function(e,t,r){var i=Math.pow(2,r-1)-1,n=s(e,1),o=s(e,r,1);if(0===o)return 0;var a=1,c=s(e,t,r+1,!1,b(function(e,t,r){0===e&&(e=1);for(var s=1;s<=r;s++)a/=2,(t&1<<r-s)>0&&(e+=a);return e},"parsePrecisionBits"));return o==Math.pow(2,r+1)-1?0===c?0===n?1/0:-1/0:NaN:(0===n?1:-1)*Math.pow(2,o-i)*c},"parseFloatFromBits"),n=b(function(e){return 1==s(e,1)?-1*(s(e,15,1,!0)+1):s(e,15,1)},"parseInt16"),o=b(function(e){return 1==s(e,1)?-1*(s(e,31,1,!0)+1):s(e,31,1)},"parseInt32"),a=b(function(e){return i(e,23,8)},"parseFloat32"),c=b(function(e){return i(e,52,11)},"parseFloat64"),l=b(function(e){var t=s(e,16,32);if(49152==t)return NaN;for(var r=Math.pow(1e4,s(e,16,16)),i=0,n=s(e,16),o=0;o<n;o++)i+=s(e,16,64+16*o)*r,r/=1e4;var a=Math.pow(10,s(e,16,48));return(0===t?1:-1)*Math.round(i*a)/a},"parseNumeric"),h=b(function(e,t){var r=s(t,1),i=s(t,63,1),n=new Date((0===r?1:-1)*i/1e3+9466848e5);return e||n.setTime(n.getTime()+6e4*n.getTimezoneOffset()),n.usec=i%1e3,n.getMicroSeconds=function(){return this.usec},n.setMicroSeconds=function(e){this.usec=e},n.getUTCMicroSeconds=function(){return this.usec},n},"parseDate"),u=b(function(e){for(var t=s(e,32),r=(s(e,32,32),s(e,32,64)),i=96,n=[],o=0;o<t;o++)n[o]=s(e,32,i),i+=64;var a=b(function(t){var r,n=s(e,32,i);return(i+=32,0xffffffff==n)?null:23==t||20==t?(r=s(e,8*n,i),i+=8*n,r):25==t?e.toString(this.encoding,i>>3,(i+=n<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},"parseElement"),c=b(function(e,t){var r,s=[];if(e.length>1){var i=e.shift();for(r=0;r<i;r++)s[r]=c(e,t);e.unshift(i)}else for(r=0;r<e[0];r++)s[r]=a(t);return s},"parse");return c(n,r)},"parseArray"),f=b(function(e){return e.toString("utf8")},"parseText"),p=b(function(e){return null===e?null:s(e,8)>0},"parseBool"),d=b(function(e){e(20,r),e(21,n),e(23,o),e(26,o),e(1700,l),e(700,a),e(701,c),e(16,p),e(1114,h.bind(null,!1)),e(1184,h.bind(null,!0)),e(1e3,u),e(1007,u),e(1016,u),e(1008,u),e(1009,u),e(25,f)},"init");t.exports={init:d}}),Y=y((e,t)=>{R(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),J=y(e=>{R();var t=H(),r=X(),s=z(),i=Y();e.getTypeParser=a,e.setTypeParser=c,e.arrayParser=s,e.builtins=i;var n={text:{},binary:{}};function o(e){return String(e)}function a(e,t){return n[t=t||"text"]&&n[t][e]||o}function c(e,t,r){"function"==typeof t&&(r=t,t="text"),n[t][e]=r}b(o,"noParse"),b(a,"getTypeParser"),b(c,"setTypeParser"),t.init(function(e,t){n.text[e]=t}),r.init(function(e,t){n.binary[e]=t})}),Z=y((e,t)=>{R(),t.exports={host:"localhost",user:"win32"===c.platform?c.env.USERNAME:c.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=J(),s=r.getTypeParser(20,"text"),i=r.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(e){r.setTypeParser(20,"text",e?r.getTypeParser(23,"text"):s),r.setTypeParser(1016,"text",e?r.getTypeParser(1007,"text"):i)})}),ee=y((e,t)=>{R();var r=(F(),E(U)),s=Z();function i(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function n(e){for(var t="{",r=0;r<e.length;r++)r>0&&(t+=","),null===e[r]||typeof e[r]>"u"?t+="NULL":Array.isArray(e[r])?t+=n(e[r]):e[r]instanceof a?t+="\\\\x"+e[r].toString("hex"):t+=i(o(e[r]));return t+"}"}b(i,"escapeElement"),b(n,"arrayString");var o=b(function(e,t){if(null==e)return null;if(e instanceof a)return e;if(ArrayBuffer.isView(e)){var r=a.from(e.buffer,e.byteOffset,e.byteLength);return r.length===e.byteLength?r:r.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?s.parseInputDatesAsUTC?u(e):h(e):Array.isArray(e)?n(e):"object"==typeof e?c(e,t):e.toString()},"prepareValue");function c(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),o(e.toPostgres(o),t)}return JSON.stringify(e)}function l(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function h(e){var t=-e.getTimezoneOffset(),r=e.getFullYear(),s=r<1;s&&(r=Math.abs(r)+1);var i=l(r,4)+"-"+l(e.getMonth()+1,2)+"-"+l(e.getDate(),2)+"T"+l(e.getHours(),2)+":"+l(e.getMinutes(),2)+":"+l(e.getSeconds(),2)+"."+l(e.getMilliseconds(),3);return t<0?(i+="-",t*=-1):i+="+",i+=l(Math.floor(t/60),2)+":"+l(t%60,2),s&&(i+=" BC"),i}function u(e){var t=e.getUTCFullYear(),r=t<1;r&&(t=Math.abs(t)+1);var s=l(t,4)+"-"+l(e.getUTCMonth()+1,2)+"-"+l(e.getUTCDate(),2)+"T"+l(e.getUTCHours(),2)+":"+l(e.getUTCMinutes(),2)+":"+l(e.getUTCSeconds(),2)+"."+l(e.getUTCMilliseconds(),3);return s+="+00:00",r&&(s+=" BC"),s}function f(e,t,r){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),r&&(e.callback=r),e}b(c,"prepareObject"),b(l,"pad"),b(h,"dateToString"),b(u,"dateToStringUTC"),b(f,"normalizeQueryConfig");var p=b(function(e){return r.createHash("md5").update(e,"utf-8").digest("hex")},"md5"),d=b(function(e,t,r){var s=p(t+e);return"md5"+p(a.concat([a.from(s),r]))},"postgresMd5PasswordHash");t.exports={prepareValue:b(function(e){return o(e)},"prepareValueWrapper"),normalizeQueryConfig:f,postgresMd5PasswordHash:d,md5:p}}),et=y((e,t)=>{R();var r=(F(),E(U));function s(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function i(e,t,r){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof r)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let s=h(r);if(s.nonce.startsWith(e.clientNonce)){if(s.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var i=m(t,a.from(s.salt,"base64"),s.iteration),n=d(i,"Client Key"),o=p(n),c="n=*,r="+e.clientNonce,l="r="+s.nonce+",s="+s.salt+",i="+s.iteration,u="c=biws,r="+s.nonce,b=c+","+l+","+u,x=f(n,d(o,b)).toString("base64"),y=d(i,"Server Key"),g=d(y,b);e.message="SASLResponse",e.serverSignature=g.toString("base64"),e.response=u+",p="+x}function n(e,t){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=u(t);if(r!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function o(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((t,r)=>e.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function c(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function l(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function h(e){let t=l(e),r=t.get("r");if(r){if(!o(r))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let s=t.get("s");if(s){if(!c(s))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let i=t.get("i");if(i){if(!/^[1-9][0-9]*$/.test(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:r,salt:s,iteration:parseInt(i,10)}}function u(e){let t=l(e).get("v");if(t){if(!c(t))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:t}}function f(e,t){if(!a.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!a.isBuffer(t))throw TypeError("second argument must be a Buffer");if(e.length!==t.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return a.from(e.map((r,s)=>e[s]^t[s]))}function p(e){return r.createHash("sha256").update(e).digest()}function d(e,t){return r.createHmac("sha256",e).update(t).digest()}function m(e,t,r){for(var s=d(e,a.concat([t,a.from([0,0,0,1])])),i=s,n=0;n<r-1;n++)i=f(i,s=d(e,s));return i}b(s,"startSession"),b(i,"continueSession"),b(n,"finalizeSession"),b(o,"isPrintableChars"),b(c,"isBase64"),b(l,"parseAttributePairs"),b(h,"parseServerFirstMessage"),b(u,"parseServerFinalMessage"),b(f,"xorBuffers"),b(p,"sha256"),b(d,"hmacSha256"),b(m,"Hi"),t.exports={startSession:s,continueSession:i,finalizeSession:n}}),er={};function es(...e){return e.join("/")}g(er,{join:()=>es});var ei=x(()=>{R(),b(es,"join")}),en={};function eo(e,t){t(Error("No filesystem"))}g(en,{stat:()=>eo});var ea=x(()=>{R(),b(eo,"stat")}),ec={};g(ec,{default:()=>el});var el,eh=x(()=>{R(),el={}}),eu={};g(eu,{StringDecoder:()=>ep});var ef,ep,ed=x(()=>{R(),b(ef=class{constructor(e){S(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},"StringDecoder"),ep=ef}),em=y((e,t)=>{R();var{Transform:r}=(eh(),E(ec)),{StringDecoder:s}=(ed(),E(eu)),i=Symbol("last"),n=Symbol("decoder");function o(e,t,r){let s;if(this.overflow){if(1===(s=this[n].write(e).split(this.matcher)).length)return r();s.shift(),this.overflow=!1}else this[i]+=this[n].write(e),s=this[i].split(this.matcher);this[i]=s.pop();for(let e=0;e<s.length;e++)try{c(this,this.mapper(s[e]))}catch(e){return r(e)}if(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow){r(Error("maximum buffer reached"));return}r()}function a(e){if(this[i]+=this[n].end(),this[i])try{c(this,this.mapper(this[i]))}catch(t){return e(t)}e()}function c(e,t){void 0!==t&&e.push(t)}function l(e){return e}function h(e,t,c){switch(e=e||/\r?\n/,t=t||l,c=c||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(c=e,e=/\r?\n/);break;case 2:"function"==typeof e?(c=t,t=e,e=/\r?\n/):"object"==typeof t&&(c=t,t=l)}(c=Object.assign({},c)).autoDestroy=!0,c.transform=o,c.flush=a,c.readableObjectMode=!0;let h=new r(c);return h[i]="",h[n]=new s("utf8"),h.matcher=e,h.mapper=t,h.maxLength=c.maxLength,h.skipOverflow=c.skipOverflow||!1,h.overflow=!1,h._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},h}b(o,"transform"),b(a,"flush"),b(c,"push"),b(l,"noop"),b(h,"split"),t.exports=h}),eb=y((e,t)=>{R();var r=(ei(),E(er)),s=(eh(),E(ec)).Stream,i=em(),n=(L(),E(I)),o="win32"===c.platform,a=c.stderr;function l(e){return(61440&e)==32768}b(l,"isRegFile");var h=["host","port","database","user","password"],u=h.length,f=h[u-1];function p(){if(a instanceof s&&!0===a.writable){var e=Array.prototype.slice.call(arguments).concat(`
`);a.write(n.format.apply(n,e))}}b(p,"warn"),Object.defineProperty(t.exports,"isWin",{get:b(function(){return o},"get"),set:b(function(e){o=e},"set")}),t.exports.warnTo=function(e){var t=a;return a=e,t},t.exports.getFileName=function(e){var t=e||c.env;return t.PGPASSFILE||(o?r.join(t.APPDATA||"./","postgresql","pgpass.conf"):r.join(t.HOME||"./",".pgpass"))},t.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(c.env,"PGPASSWORD")&&(!!o||(t=t||"<unkn>",l(e.mode)?!(63&e.mode)||(p('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):(p('WARNING: password file "%s" is not a plain file',t),!1)))};var d=t.exports.match=function(e,t){return h.slice(0,-1).reduce(function(r,s,i){return 1==i&&Number(e[s]||5432)===Number(t[s])?r&&!0:r&&("*"===t[s]||t[s]===e[s])},!0)};t.exports.getPassword=function(e,t,r){var s,n=t.pipe(i());function o(t){var r=m(t);r&&x(r)&&d(e,r)&&(s=r[f],n.end())}b(o,"onLine");var a=b(function(){t.destroy(),r(s)},"onEnd"),c=b(function(e){t.destroy(),p("WARNING: error on reading file: %s",e),r(void 0)},"onErr");t.on("error",c),n.on("data",o).on("end",a).on("error",c)};var m=t.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",r="",s=0,i=0,n={},o=b(function(t,r,s){var i=e.substring(r,s);Object.hasOwnProperty.call(c.env,"PGPASS_NO_DEESCAPE")||(i=i.replace(/\\([:\\])/g,"$1")),n[h[t]]=i},"addToObj"),a=0;a<e.length-1;a+=1){if(t=e.charAt(a+1),r=e.charAt(a),s==u-1){o(s,i);break}a>=0&&":"==t&&"\\"!==r&&(o(s,i,a+1),i=a+2,s+=1)}return n=Object.keys(n).length===u?n:null},x=t.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<0x20000000000000&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},r=0;r<h.length;r+=1)if(!(0,t[r])(e[h[r]]||""))return!1;return!0}}),ex=y((e,t)=>{R(),ei(),E(er);var r=(ea(),E(en)),s=eb();t.exports=function(e,t){var i=s.getFileName();r.stat(i,function(n,o){if(n||!s.usePgPass(o,i))return t(void 0);var a=r.createReadStream(i);s.getPassword(e,a,t)})},t.exports.warnTo=s.warnTo}),ey=y((e,t)=>{R();var r=J();function s(e){this._types=e||r,this.text={},this.binary={}}b(s,"TypeOverrides"),s.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},s.prototype.setTypeParser=function(e,t,r){"function"==typeof t&&(r=t,t="text"),this.getOverrides(t)[e]=r},s.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},t.exports=s}),eg={};g(eg,{default:()=>ew});var ew,ev=x(()=>{R(),ew={}}),eE={};function eS(e,t=!1){let{protocol:r}=new URL(e),{username:s,password:i,host:n,hostname:o,port:a,pathname:c,search:l,searchParams:h,hash:u}=new URL("http:"+e.substring(r.length));i=decodeURIComponent(i),s=decodeURIComponent(s),c=decodeURIComponent(c);let f=s+":"+i,p=t?Object.fromEntries(h.entries()):l;return{href:e,protocol:r,auth:f,username:s,password:i,host:n,hostname:o,port:a,pathname:c,search:l,query:p,hash:u}}g(eE,{parse:()=>eS});var e_=x(()=>{R(),b(eS,"parse")}),eO=y((e,t)=>{R();var r=(e_(),E(eE)),s=(ea(),E(en));function i(e){if("/"===e.charAt(0)){var t=e.split(" ");return{host:t[0],database:t[1]}}var i=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=i.query;for(var n in t)Array.isArray(t[n])&&(t[n]=t[n][t[n].length-1]);var o=(i.auth||":").split(":");if(t.user=o[0],t.password=o.splice(1).join(":"),t.port=i.port,"socket:"==i.protocol)return t.host=decodeURI(i.pathname),t.database=i.query.db,t.client_encoding=i.query.encoding,t;t.host||(t.host=i.hostname);var a=i.pathname;if(!t.host&&a&&/^%2f/i.test(a)){var c=a.split("/");t.host=decodeURIComponent(c[0]),a=c.splice(1).join("/")}switch(a&&"/"===a.charAt(0)&&(a=a.slice(1)||null),t.database=a&&decodeURI(a),("true"===t.ssl||"1"===t.ssl)&&(t.ssl=!0),"0"===t.ssl&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=s.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=s.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=s.readFileSync(t.sslrootcert).toString()),t.sslmode){case"disable":t.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":t.ssl.rejectUnauthorized=!1}return t}b(i,"parse"),t.exports=i,i.parse=i}),eA=y((e,t)=>{R();var r=(ev(),E(eg)),s=Z(),i=eO().parse,n=b(function(e,t,r){return void 0===r?r=c.env["PG"+e.toUpperCase()]:!1===r||(r=c.env[r]),t[e]||r||s[e]},"val"),o=b(function(){switch(c.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return s.ssl},"readSSLConfigFromEnvironment"),a=b(function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=b(function(e,t,r){var s=t[r];null!=s&&e.push(r+"="+a(s))},"add"),h=class{constructor(e){(e="string"==typeof e?i(e):e||{}).connectionString&&(e=Object.assign({},e,i(e.connectionString))),this.user=n("user",e),this.database=n("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(n("port",e),10),this.host=n("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:n("password",e)}),this.binary=n("binary",e),this.options=n("options",e),this.ssl=typeof e.ssl>"u"?o():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=n("client_encoding",e),this.replication=n("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=n("application_name",e,"PGAPPNAME"),this.fallback_application_name=n("fallback_application_name",e,!1),this.statement_timeout=n("statement_timeout",e,!1),this.lock_timeout=n("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=n("idle_in_transaction_session_timeout",e,!1),this.query_timeout=n("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=c.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];l(t,this,"user"),l(t,this,"password"),l(t,this,"port"),l(t,this,"application_name"),l(t,this,"fallback_application_name"),l(t,this,"connect_timeout"),l(t,this,"options");var s="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(t,s,"sslmode"),l(t,s,"sslca"),l(t,s,"sslkey"),l(t,s,"sslcert"),l(t,s,"sslrootcert"),this.database&&t.push("dbname="+a(this.database)),this.replication&&t.push("replication="+a(this.replication)),this.host&&t.push("host="+a(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+a(this.client_encoding)),r.lookup(this.host,function(r,s){return r?e(r,null):(t.push("hostaddr="+a(s)),e(null,t.join(" ")))})}};b(h,"ConnectionParameters"),t.exports=h}),eR=y((e,t)=>{R();var r=J(),s=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){var t;(t=e.text?s.exec(e.text):s.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=Array(e.length),r=0,s=e.length;r<s;r++){var i=e[r];null!==i?t[r]=this._parsers[r](i):t[r]=null}return t}parseRow(e){for(var t={},r=0,s=e.length;r<s;r++){var i=e[r],n=this.fields[r].name;null!==i?t[n]=this._parsers[r](i):t[n]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var t=0;t<e.length;t++){var s=e[t];this._types?this._parsers[t]=this._types.getTypeParser(s.dataTypeID,s.format||"text"):this._parsers[t]=r.getTypeParser(s.dataTypeID,s.format||"text")}}};b(i,"Result"),t.exports=i}),eT=y((e,t)=>{R();var{EventEmitter:r}=T(),s=eR(),i=ee(),n=class extends r{constructor(e,t,r){super(),e=i.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,c.domain&&e.callback&&(this.callback=c.domain.bind(e.callback)),this._result=new s(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new s(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){c.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?Error(`Prepared statements must be \
unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(t){this.handleError(t,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};b(n,"Query"),t.exports=n}),eI={};function ek(e){return 0}g(eI,{Socket:()=>eN,isIP:()=>ek});var eL,eC,eP,eN,eM=x(()=>{R(),eL=v(T(),1),b(ek,"isIP"),eC=b(e=>e.replace(/^[^.]+\./,"api."),"transformHost"),eP=class e extends eL.EventEmitter{constructor(){super(...arguments),S(this,"opts",{}),S(this,"connecting",!1),S(this,"pending",!0),S(this,"writable",!0),S(this,"encrypted",!1),S(this,"authorized",!1),S(this,"destroyed",!1),S(this,"ws",null),S(this,"writeBuffer"),S(this,"tlsState",0),S(this,"tlsRead"),S(this,"tlsWrite")}static get poolQueryViaFetch(){return e.opts.poolQueryViaFetch??e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){e.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return e.opts.fetchEndpoint??e.defaults.fetchEndpoint}static set fetchEndpoint(t){e.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return e.opts.fetchFunction??e.defaults.fetchFunction}static set fetchFunction(t){e.opts.fetchFunction=t}static get webSocketConstructor(){return e.opts.webSocketConstructor??e.defaults.webSocketConstructor}static set webSocketConstructor(t){e.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return e.opts.wsProxy??e.defaults.wsProxy}static set wsProxy(t){e.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return e.opts.coalesceWrites??e.defaults.coalesceWrites}static set coalesceWrites(t){e.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return e.opts.useSecureWebSocket??e.defaults.useSecureWebSocket}static set useSecureWebSocket(t){e.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return e.opts.forceDisablePgSSL??e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){e.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return e.opts.disableSNI??e.defaults.disableSNI}static set disableSNI(t){e.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return e.opts.pipelineConnect??e.defaults.pipelineConnect}static set pipelineConnect(t){e.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return e.opts.subtls??e.defaults.subtls}static set subtls(t){e.opts.subtls=t}get subtls(){return this.opts.subtls??e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return e.opts.pipelineTLS??e.defaults.pipelineTLS}static set pipelineTLS(t){e.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return e.opts.rootCerts??e.defaults.rootCerts}static set rootCerts(t){e.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,t){let r=this.wsProxy;if(void 0===r)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof r?r(e,t):`${r}?address=${e}:${t}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,t,r){this.connecting=!0,r&&this.once("connect",r);let s=b(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),i=b((e,t=!1)=>{e.binaryType="arraybuffer",e.addEventListener("error",e=>{this.emit("error",e),this.emit("close")}),e.addEventListener("message",e=>{if(0===this.tlsState){let t=a.from(e.data);this.emit("data",t)}}),e.addEventListener("close",()=>{this.emit("close")}),t?s():e.addEventListener("open",s)},"configureWebSocket"),n;try{n=this.wsProxyAddrForHost(t,"string"==typeof e?parseInt(e,10):e)}catch(e){this.emit("error",e),this.emit("close");return}try{let e=(this.useSecureWebSocket?"wss:":"ws:")+"//"+n;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(e),i(this.ws);else try{this.ws=new WebSocket(e),i(this.ws)}catch{this.ws=new __unstable_WebSocket(e),i(this.ws)}}catch(e){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+n,{headers:{Upgrade:"websocket"}}).then(t=>{if(this.ws=t.webSocket,null==this.ws)throw e;this.ws.accept(),i(this.ws,!0)}).catch(e=>{this.emit("error",Error(`All attempts to open a WebSocket to\
 connect to the database failed. Please refer to https://github.com/neondatabase\
/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\
. Details: ${e.message}`)),this.emit("close")})}}async startTls(e){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let t=this.subtls.TrustedCert.fromPEM(this.rootCerts),r=new this.subtls.WebSocketReadQueue(this.ws),s=r.read.bind(r),i=this.rawWrite.bind(this),[n,o]=await this.subtls.startTls(e,t,s,i,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=n,this.tlsWrite=o,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(void 0===e)break;{let t=a.from(e);this.emit("data",t)}}}rawWrite(e){if(!this.coalesceWrites){this.ws.send(e);return}if(void 0===this.writeBuffer)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let t=new Uint8Array(this.writeBuffer.length+e.length);t.set(this.writeBuffer),t.set(e,this.writeBuffer.length),this.writeBuffer=t}}write(e,t="utf8",r=e=>{}){return 0===e.length?r():("string"==typeof e&&(e=a.from(e,t)),0===this.tlsState?(this.rawWrite(e),r()):1===this.tlsState?this.once("secureConnection",()=>{this.write(e,t,r)}):(this.tlsWrite(e),r())),!0}end(e=a.alloc(0),t="utf8",r=()=>{}){return this.write(e,t,()=>{this.ws.close(),r()}),this}destroy(){return this.destroyed=!0,this.end()}},b(eP,"Socket"),S(eP,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:b(e=>"https://"+eC(e)+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:b(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),S(eP,"opts",{}),eN=eP}),eB=y(e=>{R(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(e,t,r){super(e),this.length=t,this.name=r}};b(t,"DatabaseError"),e.DatabaseError=t;var r=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};b(r,"CopyDataMessage"),e.CopyDataMessage=r;var s=class{constructor(e,t,r,s){this.length=e,this.name=t,this.binary=r,this.columnTypes=Array(s)}};b(s,"CopyResponse"),e.CopyResponse=s;var i=class{constructor(e,t,r,s,i,n,o){this.name=e,this.tableID=t,this.columnID=r,this.dataTypeID=s,this.dataTypeSize=i,this.dataTypeModifier=n,this.format=o}};b(i,"Field"),e.Field=i;var n=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}};b(n,"RowDescriptionMessage"),e.RowDescriptionMessage=n;var o=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};b(o,"ParameterDescriptionMessage"),e.ParameterDescriptionMessage=o;var a=class{constructor(e,t,r){this.length=e,this.parameterName=t,this.parameterValue=r,this.name="parameterStatus"}};b(a,"ParameterStatusMessage"),e.ParameterStatusMessage=a;var c=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};b(c,"AuthenticationMD5Password"),e.AuthenticationMD5Password=c;var l=class{constructor(e,t,r){this.length=e,this.processID=t,this.secretKey=r,this.name="backendKeyData"}};b(l,"BackendKeyDataMessage"),e.BackendKeyDataMessage=l;var h=class{constructor(e,t,r,s){this.length=e,this.processId=t,this.channel=r,this.payload=s,this.name="notification"}};b(h,"NotificationResponseMessage"),e.NotificationResponseMessage=h;var u=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};b(u,"ReadyForQueryMessage"),e.ReadyForQueryMessage=u;var f=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};b(f,"CommandCompleteMessage"),e.CommandCompleteMessage=f;var p=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};b(p,"DataRowMessage"),e.DataRowMessage=p;var d=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};b(d,"NoticeMessage"),e.NoticeMessage=d}),eU=y(e=>{R(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=a.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,r=t.length+(t.length>>1)+e;this.buffer=a.allocUnsafe(r),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=a.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=a.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=a.allocUnsafe(this.size),t}};b(t,"Writer"),e.Writer=t}),eD=y(e=>{R(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=eU(),r=new t.Writer,s=b(e=>{for(let t of(r.addInt16(3).addInt16(0),Object.keys(e)))r.addCString(t).addCString(e[t]);r.addCString("client_encoding").addCString("UTF8");var s=r.addCString("").flush(),i=s.length+4;return new t.Writer().addInt32(i).add(s).flush()},"startup"),i=b(()=>{let e=a.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(0x4d2162f,4),e},"requestSsl"),n=b(e=>r.addCString(e).flush(112),"password"),o=b(function(e,t){return r.addCString(e).addInt32(a.byteLength(t)).addString(t),r.flush(112)},"sendSASLInitialResponseMessage"),c=b(function(e){return r.addString(e).flush(112)},"sendSCRAMClientFinalMessage"),l=b(e=>r.addCString(e).flush(81),"query"),h=[],u=b(e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let s=e.types||h;for(var i=s.length,n=r.addCString(t).addCString(e.text).addInt16(i),o=0;o<i;o++)n.addInt32(s[o]);return r.flush(80)},"parse"),f=new t.Writer,p=b(function(e,t){for(let s=0;s<e.length;s++){let i=t?t(e[s],s):e[s];null==i?(r.addInt16(0),f.addInt32(-1)):i instanceof a?(r.addInt16(1),f.addInt32(i.length),f.add(i)):(r.addInt16(0),f.addInt32(a.byteLength(i)),f.addString(i))}},"writeValues"),d=b((e={})=>{let t=e.portal||"",s=e.statement||"",i=e.binary||!1,n=e.values||h,o=n.length;return r.addCString(t).addCString(s),r.addInt16(o),p(n,e.valueMapper),r.addInt16(o),r.add(f.flush()),r.addInt16(i?1:0),r.flush(66)},"bind"),m=a.from([69,0,0,0,9,0,0,0,0,0]),x=b(e=>{if(!e||!e.portal&&!e.rows)return m;let t=e.portal||"",r=e.rows||0,s=a.byteLength(t),i=4+s+1+4,n=a.allocUnsafe(1+i);return n[0]=69,n.writeInt32BE(i,1),n.write(t,5,"utf-8"),n[s+5]=0,n.writeUInt32BE(r,n.length-4),n},"execute"),y=b((e,t)=>{let r=a.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(e,8),r.writeInt32BE(t,12),r},"cancel"),g=b((e,t)=>{let r=4+a.byteLength(t)+1,s=a.allocUnsafe(1+r);return s[0]=e,s.writeInt32BE(r,1),s.write(t,5,"utf-8"),s[r]=0,s},"cstringMessage"),w=r.addCString("P").flush(68),v=r.addCString("S").flush(68),E=b(e=>e.name?g(68,`${e.type}${e.name||""}`):"P"===e.type?w:v,"describe"),S=b(e=>g(67,`${e.type}${e.name||""}`),"close"),_=b(e=>r.add(e).flush(100),"copyData"),O=b(e=>g(102,e),"copyFail"),A=b(e=>a.from([e,0,0,0,4]),"codeOnlyBuffer"),T=A(72),I=A(83),k=A(88),L=A(99),C={startup:s,password:n,requestSsl:i,sendSASLInitialResponseMessage:o,sendSCRAMClientFinalMessage:c,query:l,parse:u,bind:d,execute:x,describe:E,close:S,flush:b(()=>T,"flush"),sync:b(()=>I,"sync"),end:b(()=>k,"end"),copyData:_,copyDone:b(()=>L,"copyDone"),copyFail:O,cancel:y};e.serialize=C}),e$=y(e=>{R(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=a.allocUnsafe(0),r=class{constructor(e=0){this.offset=e,this.buffer=t,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){let e=this.offset,t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};b(r,"BufferReader"),e.BufferReader=r}),ej=y(e=>{R(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=eB(),r=e$(),s=a.allocUnsafe(0),i=class{constructor(e){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,e?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,t){this.mergeBuffer(e);let r=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+5<=r;){let e=this.buffer[i],s=this.buffer.readUInt32BE(i+1),n=1+s;if(n+i<=r)t(this.handlePacket(i+5,e,s,this.buffer)),i+=n;else break}i===r?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=r-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let r=2*this.buffer.byteLength;for(;t>=r;)r*=2;e=a.allocUnsafe(r)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,s,i){switch(r){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(e,s,i);case 67:return this.parseCommandCompleteMessage(e,s,i);case 90:return this.parseReadyForQueryMessage(e,s,i);case 65:return this.parseNotificationMessage(e,s,i);case 82:return this.parseAuthenticationResponse(e,s,i);case 83:return this.parseParameterStatusMessage(e,s,i);case 75:return this.parseBackendKeyData(e,s,i);case 69:return this.parseErrorMessage(e,s,i,"error");case 78:return this.parseErrorMessage(e,s,i,"notice");case 84:return this.parseRowDescriptionMessage(e,s,i);case 116:return this.parseParameterDescriptionMessage(e,s,i);case 71:return this.parseCopyInMessage(e,s,i);case 72:return this.parseCopyOutMessage(e,s,i);case 100:return this.parseCopyData(e,s,i);default:return new t.DatabaseError("received invalid response: "+r.toString(16),s,"error")}}parseReadyForQueryMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.string(1);return new t.ReadyForQueryMessage(r,i)}parseCommandCompleteMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.cstring();return new t.CommandCompleteMessage(r,i)}parseCopyData(e,r,s){let i=s.slice(e,e+(r-4));return new t.CopyDataMessage(r,i)}parseCopyInMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyInResponse")}parseCopyOutMessage(e,t,r){return this.parseCopyMessage(e,t,r,"copyOutResponse")}parseCopyMessage(e,r,s,i){this.reader.setBuffer(e,s);let n=0!==this.reader.byte(),o=this.reader.int16(),a=new t.CopyResponse(r,i,n,o);for(let e=0;e<o;e++)a.columnTypes[e]=this.reader.int16();return a}parseNotificationMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.int32(),n=this.reader.cstring(),o=this.reader.cstring();return new t.NotificationResponseMessage(r,i,n,o)}parseRowDescriptionMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.int16(),n=new t.RowDescriptionMessage(r,i);for(let e=0;e<i;e++)n.fields[e]=this.parseField();return n}parseField(){let e=this.reader.cstring(),r=this.reader.int32(),s=this.reader.int16(),i=this.reader.int32(),n=this.reader.int16(),o=this.reader.int32(),a=0===this.reader.int16()?"text":"binary";return new t.Field(e,r,s,i,n,o,a)}parseParameterDescriptionMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.int16(),n=new t.ParameterDescriptionMessage(r,i);for(let e=0;e<i;e++)n.dataTypeIDs[e]=this.reader.int32();return n}parseDataRowMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.int16(),n=Array(i);for(let e=0;e<i;e++){let t=this.reader.int32();n[e]=-1===t?null:this.reader.string(t)}return new t.DataRowMessage(r,n)}parseParameterStatusMessage(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.cstring(),n=this.reader.cstring();return new t.ParameterStatusMessage(r,i,n)}parseBackendKeyData(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.int32(),n=this.reader.int32();return new t.BackendKeyDataMessage(r,i,n)}parseAuthenticationResponse(e,r,s){this.reader.setBuffer(e,s);let i=this.reader.int32(),n={name:"authenticationOk",length:r};switch(i){case 0:break;case 3:8===n.length&&(n.name="authenticationCleartextPassword");break;case 5:if(12===n.length){n.name="authenticationMD5Password";let e=this.reader.bytes(4);return new t.AuthenticationMD5Password(r,e)}break;case 10:let o;n.name="authenticationSASL",n.mechanisms=[];do(o=this.reader.cstring())&&n.mechanisms.push(o);while(o);break;case 11:n.name="authenticationSASLContinue",n.data=this.reader.string(r-8);break;case 12:n.name="authenticationSASLFinal",n.data=this.reader.string(r-8);break;default:throw Error("Unknown authenticationOk message type "+i)}return n}parseErrorMessage(e,r,s,i){this.reader.setBuffer(e,s);let n={},o=this.reader.string(1);for(;"\0"!==o;)n[o]=this.reader.cstring(),o=this.reader.string(1);let a=n.M,c="notice"===i?new t.NoticeMessage(r,a):new t.DatabaseError(a,r,i);return c.severity=n.S,c.code=n.C,c.detail=n.D,c.hint=n.H,c.position=n.P,c.internalPosition=n.p,c.internalQuery=n.q,c.where=n.W,c.schema=n.s,c.table=n.t,c.column=n.c,c.dataType=n.d,c.constraint=n.n,c.file=n.F,c.line=n.L,c.routine=n.R,c}};b(i,"Parser"),e.Parser=i}),eF=y(e=>{R(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=eB();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:b(function(){return t.DatabaseError},"get")});var r=eD();Object.defineProperty(e,"serialize",{enumerable:!0,get:b(function(){return r.serialize},"get")});var s=ej();function i(e,t){let r=new s.Parser;return e.on("data",e=>r.parse(e,t)),new Promise(t=>e.on("end",()=>t()))}b(i,"parse"),e.parse=i}),eq={};function ez({socket:e,servername:t}){return e.startTls(t),e}g(eq,{connect:()=>ez});var eG=x(()=>{R(),b(ez,"connect")}),eW=y((e,t)=>{R();var r=(eM(),E(eI)),s=T().EventEmitter,{parse:i,serialize:n}=eF(),o=n.flush(),a=n.sync(),c=n.end(),l=class extends s{constructor(e){super(),e=e||{},this.stream=e.stream||new r.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(e){"message"===e&&(t._emitMessage=!0)})}connect(e,t){var s=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){s._keepAlive&&s.stream.setKeepAlive(!0,s._keepAliveInitialDelayMillis),s.emit("connect")});let i=b(function(e){s._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||s.emit("error",e)},"reportStreamError");if(this.stream.on("error",i),this.stream.on("close",function(){s.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return s.stream.end(),s.emit("error",Error("The server does not support SSL connections"));default:return s.stream.end(),s.emit("error",Error("There was an error establishing an SSL connection"))}var n=(eG(),E(eq));let o={socket:s.stream};!0!==s.ssl&&(Object.assign(o,s.ssl),"key"in s.ssl&&(o.key=s.ssl.key)),0===r.isIP(t)&&(o.servername=t);try{s.stream=n.connect(o)}catch(e){return s.emit("error",e)}s.attachListeners(s.stream),s.stream.on("error",i),s.emit("sslconnect")})}attachListeners(e){e.on("end",()=>{this.emit("end")}),i(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})}requestSsl(){this.stream.write(n.requestSsl())}startup(e){this.stream.write(n.startup(e))}cancel(e,t){this._send(n.cancel(e,t))}password(e){this._send(n.password(e))}sendSASLInitialResponseMessage(e,t){this._send(n.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(n.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(n.query(e))}parse(e){this._send(n.parse(e))}bind(e){this._send(n.bind(e))}execute(e){this._send(n.execute(e))}flush(){this.stream.writable&&this.stream.write(o)}sync(){this._ending=!0,this._send(o),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(e){this._send(n.close(e))}describe(e){this._send(n.describe(e))}sendCopyFromChunk(e){this._send(n.copyData(e))}endCopyFrom(){this._send(n.copyDone())}sendCopyFail(e){this._send(n.copyFail(e))}};b(l,"Connection"),t.exports=l}),eQ=y((e,t)=>{R();var r=T().EventEmitter,s=(L(),E(I),ee()),n=et(),o=ex(),a=ey(),l=eA(),h=eT(),u=Z(),f=eW(),p=class extends r{constructor(e){super(),this.connectionParameters=new l(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||i.Promise,this._types=new a(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new f({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=b(t=>{c.nextTick(()=>{t.handleError(e,this.connection)})},"enqueueError");this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0}_connect(e){var t=this,r=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let t=Error("Client has already been connected. You cannot reuse a client.");c.nextTick(()=>{e(t)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{r._ending=!0,r.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){t.ssl?r.requestSsl():r.startup(t.getStartupConf())}),r.on("sslconnect",function(){r.startup(t.getStartupConf())}),this._attachListeners(r),r.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),c.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let t=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(r=>{if(void 0!==r){if("string"!=typeof r){t.emit("error",TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=r}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{t.emit("error",e)}):null!==this.password?e():o(this.connectionParameters,t=>{void 0!==t&&(this.connectionParameters.password=this.password=t),e()})}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(()=>{let t=s.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{this.saslSession=n.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){n.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(e){n.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let t=this.activeQuery;if(!t){this._handleErrorEvent(e);return}this.activeQuery=null,t.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},r=e.application_name||e.fallback_application_name;return r&&(t.application_name=r),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var r=this.connection;this.host&&0===this.host.indexOf("/")?r.connect(this.host+"/.s.PGSQL."+this.port):r.connect(this.port,this.host),r.on("connect",function(){r.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,r){return this._types.setTypeParser(e,t,r)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){return'"'+e.replace(/"/g,'""')+'"'}escapeLiteral(e){for(var t=!1,r="'",s=0;s<e.length;s++){var i=e[s];"'"===i?r+=i+i:"\\"===i?(r+=i+i,t=!0):r+=i}return r+="'",!0===t&&(r=" E"+r),r}_pulseQueryQueue(){if(!0===this.readyForQuery){if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&c.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}}query(e,t,r){var s,i,n,o,a;if(null==e)throw TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(n=e.query_timeout||this.connectionParameters.query_timeout,i=s=e,"function"==typeof t&&(s.callback=s.callback||t)):(n=this.connectionParameters.query_timeout,(s=new h(e,t,r)).callback||(i=new this._Promise((e,t)=>{s.callback=(r,s)=>r?t(r):e(s)}))),n&&(a=s.callback,o=setTimeout(()=>{var e=Error("Query read timeout");c.nextTick(()=>{s.handleError(e,this.connection)}),a(e),s.callback=()=>{};var t=this.queryQueue.indexOf(s);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},n),s.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this.binary&&!s.binary&&(s.binary=!0),s._result&&!s._result._types&&(s._result._types=this._types),this._queryable?this._ending?c.nextTick(()=>{s.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(s),this._pulseQueryQueue()):c.nextTick(()=>{s.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),i}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting){if(!e)return this._Promise.resolve();e()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}};b(p,"Client"),p.Query=h,t.exports=p}),eV=y((e,t)=>{R();var r=T().EventEmitter,s=b(function(){},"NOOP"),o=b((e,t)=>{let r=e.findIndex(t);return -1===r?void 0:e.splice(r,1)[0]},"removeWhere"),a=class{constructor(e,t,r){this.client=e,this.idleListener=t,this.timeoutId=r}};b(a,"IdleItem");var l=class{constructor(e){this.callback=e}};function h(){throw Error("Release called on client which has already been released to the pool.")}function u(e,t){let r,s;return t?{callback:t,result:void 0}:{callback:b(function(e,t){e?r(e):s(t)},"cb"),result:new e(function(e,t){s=e,r=t}).catch(e=>{throw Error.captureStackTrace(e),e})}}function f(e,t){return b(function r(s){s.client=t,t.removeListener("error",r),t.on("error",()=>{e.log("additional client error after disconnection due to error",s)}),e._remove(t),e.emit("error",s,t)},"idleListener")}b(l,"PendingItem"),b(h,"throwOnDoubleRelease"),b(u,"promisify"),b(f,"makeIdleListener");var p=class extends r{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||e1().Client,this.Promise=this.options.Promise||i.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(t.timeoutId);let r=t.client;r.ref&&r.ref();let s=t.idleListener;return this._acquireClient(r,e,s,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let t=o(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let t=Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}let t=u(this.Promise,e),r=t.result;if(this._isFull()||this._idle.length){if(this._idle.length&&c.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(t.callback)),r;let e=b((e,r,s)=>{clearTimeout(i),t.callback(e,r,s)},"queueCallback"),s=new l(e),i=setTimeout(()=>{o(this._pendingQueue,t=>t.callback===e),s.timedOut=!0,t.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(s),r}return this.newClient(new l(t.callback)),r}newClient(e){let t=new this.Client(this.options);this._clients.push(t);let r=f(this,t);this.log("checking client timeout");let i,n=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),n=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(o=>{if(i&&clearTimeout(i),t.on("error",r),o)this.log("client failed to connect",o),this._clients=this._clients.filter(e=>e!==t),n&&(o.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(o,void 0,s);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(t),-1!==this._idle.findIndex(e=>e.client===t)&&this._acquireClient(t,new l((e,t,r)=>r()),r,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),t.once("end",()=>clearTimeout(e))}return this._acquireClient(t,e,r,!0)}})}_acquireClient(e,t,r,i){i&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,r),e.removeListener("error",r),t.timedOut?i&&this.options.verify?this.options.verify(e,e.release):e.release():i&&this.options.verify?this.options.verify(e,r=>{if(r)return e.release(r),t.callback(r,void 0,s);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let r=!1;return s=>{r&&h(),r=!0,this._release(e,t,s)}}_release(e,t,r){let s;if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",r,e),r||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&(s=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&s.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new a(e,t,s)),this._pulseQueue()}query(e,t,r){if("function"==typeof e){let t=u(this.Promise,e);return n(function(){return t.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),t.result}"function"==typeof t&&(r=t,t=void 0);let s=u(this.Promise,r);return r=s.callback,this.connect((s,i)=>{if(s)return r(s);let n=!1,o=b(e=>{n||(n=!0,i.release(e),r(e))},"onError");i.once("error",o),this.log("dispatching query");try{i.query(e,t,(e,t)=>{if(this.log("query dispatched"),i.removeListener("error",o),!n)return n=!0,i.release(e),e?r(e):r(void 0,t)})}catch(e){return i.release(e),r(e)}}),s.result}end(e){if(this.log("ending"),this.ending){let t=Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;let t=u(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){return this._clients.length}};b(p,"Pool"),t.exports=p}),eH={};g(eH,{default:()=>eK});var eK,eX=x(()=>{R(),eK={}}),eY=y((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),eJ=y((e,t)=>{R();var r=T().EventEmitter,s=(L(),E(I)),i=ee(),o=t.exports=function(e,t,s){r.call(this),e=i.normalizeQueryConfig(e,t,s),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};s.inherits(o,r);var a={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};o.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var r in t)e[a[r]||r]=t[r];this.callback?this.callback(e):this.emit("error",e),this.state="error"},o.prototype.then=function(e,t){return this._getPromise().then(e,t)},o.prototype.catch=function(e){return this._getPromise().catch(e)},o.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,t){this._once("end",e),this._once("error",t)}).bind(this))),this._promise},o.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var r=b(function(r,s,i){if(e.native.arrayMode=!1,n(function(){t.emit("_done")}),r)return t.handleError(r);t._emitRowEvents&&(i.length>1?s.forEach((e,r)=>{e.forEach(e=>{t.emit("row",e,i[r])})}):s.forEach(function(e){t.emit("row",e,i)})),t.state="end",t.emit("end",i),t.callback&&t.callback(null,i)},"after");if(c.domain&&(r=c.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var s=(this.values||[]).map(i.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Pre\
pared statements must be unique - '${this.name}' was used for a different statem\
ent`);return r(e)}return e.native.execute(this.name,s,r)}return e.native.prepare(this.name,this.text,s.length,function(i){return i?r(i):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,s,r))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return r(e)}var o=this.values.map(i.prepareValue);e.native.query(this.text,o,r)}else e.native.query(this.text,r)}}),eZ=y((e,t)=>{R();var r=(eX(),E(eH)),s=ey(),n=(eY(),T().EventEmitter),o=(L(),E(I)),a=eA(),l=eJ(),h=t.exports=function(e){n.call(this),e=e||{},this._Promise=e.Promise||i.Promise,this._types=new s(e.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new a(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};h.Query=l,o.inherits(h,n),h.prototype._errorAllQueries=function(e){let t=b(t=>{c.nextTick(()=>{t.native=this.native,t.handleError(e)})},"enqueueError");this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},h.prototype._connect=function(e){var t=this;if(this._connecting){c.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,s){if(r)return e(r);t.native.connect(s,function(r){if(r)return t.native.end(),e(r);t._connected=!0,t.native.on("error",function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)}),t.native.on("notification",function(e){t.emit("notification",{channel:e.relname,payload:e.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})},h.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(r=>{r?t(r):e()})})},h.prototype.query=function(e,t,r){var s,i,n,o,a;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)n=e.query_timeout||this.connectionParameters.query_timeout,i=s=e,"function"==typeof t&&(e.callback=t);else if(n=this.connectionParameters.query_timeout,!(s=new l(e,t,r)).callback){let e,t;i=new this._Promise((r,s)=>{e=r,t=s}),s.callback=(r,s)=>r?t(r):e(s)}return n&&(a=s.callback,o=setTimeout(()=>{var e=Error("Query read timeout");c.nextTick(()=>{s.handleError(e,this.connection)}),a(e),s.callback=()=>{};var t=this._queryQueue.indexOf(s);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},n),s.callback=(e,t)=>{clearTimeout(o),a(e,t)}),this._queryable?this._ending?(s.native=this.native,c.nextTick(()=>{s.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(s),this._pulseQueryQueue()):(s.native=this.native,c.nextTick(()=>{s.handleError(Error("Client has encountered a connection error and is not queryable"))})),i},h.prototype.end=function(e){var t,r=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise(function(t,r){e=b(e=>e?r(e):t(),"cb")})),this.native.end(function(){r._errorAllQueries(Error("Connection terminated")),c.nextTick(()=>{r.emit("end"),e&&e()})}),t},h.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},h.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var r=this;t.once("_done",function(){r._pulseQueryQueue()})}},h.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},h.prototype.ref=function(){},h.prototype.unref=function(){},h.prototype.setTypeParser=function(e,t,r){return this._types.setTypeParser(e,t,r)},h.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}}),e0=y((e,t)=>{R(),t.exports=eZ()}),e1=y((e,t)=>{R();var r=eQ(),s=Z(),i=eW(),n=eV(),{DatabaseError:o}=eF(),a=b(e=>{var t;return b(t=class extends n{constructor(t){super(t,e)}},"BoundPool"),t},"poolFactory"),l=b(function(e){this.defaults=s,this.Client=e,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=i,this.types=J(),this.DatabaseError=o},"PG");"u">typeof c.env.NODE_PG_FORCE_NATIVE?t.exports=new l(e0()):(t.exports=new l(r),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new l(e0())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(t.exports,"native",{value:e}),e}}))});R();var e2=v(e1());eM(),R(),e_(),eM();var e5=v(ee()),e6=v(ey()),e3=class extends Error{constructor(){super(...arguments),S(this,"name","NeonDbError"),S(this,"severity"),S(this,"code"),S(this,"detail"),S(this,"hint"),S(this,"position"),S(this,"internalPosition"),S(this,"internalQuery"),S(this,"where"),S(this,"schema"),S(this,"table"),S(this,"column"),S(this,"dataType"),S(this,"constraint"),S(this,"file"),S(this,"line"),S(this,"routine"),S(this,"sourceError")}};b(e3,"NeonDbError");var e8="transaction() expects an array of queries, or a function returning an array of queries",e4=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function e9(e,{arrayMode:t,fullResults:r,fetchOptions:s,isolationLevel:i,readOnly:n,deferrable:o,queryCallback:a,resultCallback:c}={}){let l;if(!e)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{l=eS(e)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:h,username:u,password:f,hostname:p,port:d,pathname:m}=l;if("postgres:"!==h&&"postgresql:"!==h||!u||!f||!p||!m)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function x(e,...t){let r,s;if("string"==typeof e)r=e,s=t[1],t=t[0]??[];else{r="";for(let s=0;s<e.length;s++)r+=e[s],s<t.length&&(r+="$"+(s+1))}let i={query:r,params:t=t.map(e=>(0,e5.prepareValue)(e))};return a&&a(i),e7(y,i,s)}async function y(a,l,h){let u,{fetchEndpoint:f,fetchFunction:m}=eN,b="function"==typeof f?f(p,d):f,x=Array.isArray(a)?{queries:a}:a,y=s??{},g=t??!1,w=r??!1,v=i,E=n,S=o;void 0!==h&&(void 0!==h.fetchOptions&&(y={...y,...h.fetchOptions}),void 0!==h.arrayMode&&(g=h.arrayMode),void 0!==h.fullResults&&(w=h.fullResults),void 0!==h.isolationLevel&&(v=h.isolationLevel),void 0!==h.readOnly&&(E=h.readOnly),void 0!==h.deferrable&&(S=h.deferrable)),void 0===l||Array.isArray(l)||void 0===l.fetchOptions||(y={...y,...l.fetchOptions});let _={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"};Array.isArray(a)&&(void 0!==v&&(_["Neon-Batch-Isolation-Level"]=v),void 0!==E&&(_["Neon-Batch-Read-Only"]=String(E)),void 0!==S&&(_["Neon-Batch-Deferrable"]=String(S)));try{u=await (m??fetch)(b,{method:"POST",body:JSON.stringify(x),headers:_,...y})}catch(t){let e=new e3(`Error connecting to database: ${t.message}`);throw e.sourceError=t,e}if(u.ok){let e=await u.json();if(Array.isArray(a)){let t=e.results;if(!Array.isArray(t))throw new e3("Neon internal error: unexpected result format");return t.map((e,t)=>{let r=l[t]??{};return te(e,{arrayMode:r.arrayMode??g,fullResults:r.fullResults??w,parameterizedQuery:a[t],resultCallback:c,types:r.types})})}{let t=l??{};return te(e,{arrayMode:t.arrayMode??g,fullResults:t.fullResults??w,parameterizedQuery:a,resultCallback:c,types:t.types})}}{let{status:e}=u;if(400===e){let e=await u.json(),t=new e3(e.message);for(let r of e4)t[r]=e[r]??void 0;throw t}{let t=await u.text();throw new e3(`Server erro\
r (HTTP status ${e}): ${t}`)}}}return b(x,"resolve"),x.transaction=async(e,t)=>{if("function"==typeof e&&(e=e(x)),!Array.isArray(e))throw Error(e8);return e.forEach(e=>{if("NeonQueryPromise"!==e[Symbol.toStringTag])throw Error(e8)}),y(e.map(e=>e.parameterizedQuery),e.map(e=>e.opts??{}),t)},b(y,"execute"),x}function e7(e,t,r){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:r,then:b((s,i)=>e(t,r).then(s,i),"then"),catch:b(s=>e(t,r).catch(s),"catch"),finally:b(s=>e(t,r).finally(s),"finally")}}function te(e,{arrayMode:t,fullResults:r,parameterizedQuery:s,resultCallback:i,types:n}){let o=new e6.default(n),a=e.fields.map(e=>e.name),c=e.fields.map(e=>o.getTypeParser(e.dataTypeID)),l=!0===t?e.rows.map(e=>e.map((e,t)=>null===e?null:c[t](e))):e.rows.map(e=>Object.fromEntries(e.map((e,t)=>[a[t],null===e?null:c[t](e)])));return i&&i(s,e,l,{arrayMode:t,fullResults:r}),r?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=l,e._parsers=c,e._types=o,e):l}b(e9,"neon"),b(e7,"createNeonQueryPromise"),b(te,"processQueryResult");var tt=v(eA()),tr=v(e1()),ts=class extends e2.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:t}=this;t.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&t.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let r=this.config?.host!==void 0||this.config?.connectionString!==void 0||void 0!==c.env.PGHOST,s=c.env.USER??c.env.USERNAME;if(!r&&"localhost"===this.host&&this.user===s&&this.database===s&&null===this.password)throw Error(`No datab\
ase host or connection string was set, and key parameters have default values (h\
ost: localhost, user: ${s}, db: ${s}, password: null). Is an environment variabl\
e missing? Alternatively, if you intended to connect with these parameters, plea\
se set the host to 'localhost' explicitly.`);let i=super.connect(e),n=t.pipelineTLS&&this.ssl,o="password"===t.pipelineConnect;if(!n&&!t.pipelineConnect)return i;let a=this.connection;if(n&&a.on("connect",()=>a.stream.emit("data","S")),o){a.removeAllListeners("authenticationCleartextPassword"),a.removeAllListeners("readyForQuery"),a.once("readyForQuery",()=>a.on("readyForQuery",this._handleReadyForQuery.bind(this)));let e=this.ssl?"sslconnect":"connect";a.on(e,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return i}async _handleAuthSASLContinue(e){let t=this.saslSession,r=this.password,s=e.data;if("SASLInitialResponse"!==t.message||"string"!=typeof r||"string"!=typeof s)throw Error("SASL: protocol error");let i=Object.fromEntries(s.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]})),n=i.r,c=i.s,l=i.i;if(!n||!/^[!-+--~]+$/.test(n))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!n.startsWith(t.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(n.length===t.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let h=parseInt(l,10),u=a.from(c,"base64"),f=new TextEncoder,p=f.encode(r),d=await o.subtle.importKey("raw",p,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),m=new Uint8Array(await o.subtle.sign("HMAC",d,a.concat([u,a.from([0,0,0,1])]))),b=m;for(var x=0;x<h-1;x++)m=new Uint8Array(await o.subtle.sign("HMAC",d,m)),b=a.from(b.map((e,t)=>b[t]^m[t]));let y=b,g=await o.subtle.importKey("raw",y,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),w=new Uint8Array(await o.subtle.sign("HMAC",g,f.encode("Client Key"))),v=await o.subtle.digest("SHA-256",w),E="n=*,r="+t.clientNonce,S="r="+n+",s="+c+",i="+h,_="c=biws,r="+n,O=E+","+S+","+_,A=await o.subtle.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var R=new Uint8Array(await o.subtle.sign("HMAC",A,f.encode(O))),T=a.from(w.map((e,t)=>w[t]^R[t])).toString("base64");let I=await o.subtle.importKey("raw",y,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),k=await o.subtle.sign("HMAC",I,f.encode("Server Key")),L=await o.subtle.importKey("raw",k,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var C=a.from(await o.subtle.sign("HMAC",L,f.encode(O)));t.message="SASLResponse",t.serverSignature=C.toString("base64"),t.response=_+",p="+T,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};b(ts,"NeonClient");var ti=ts;function tn(e,t){let r,s;return t?{callback:t,result:void 0}:{callback:b(function(e,t){e?r(e):s(t)},"cb"),result:new e(function(e,t){s=e,r=t})}}b(tn,"promisify");var to=class extends e2.Pool{constructor(){super(...arguments),S(this,"Client",ti),S(this,"hasFetchUnsupportedListeners",!1)}on(e,t){return"error"!==e&&(this.hasFetchUnsupportedListeners=!0),super.on(e,t)}query(e,t,r){if(!eN.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof e)return super.query(e,t,r);"function"==typeof t&&(r=t,t=void 0);let s=tn(this.Promise,r);r=s.callback;try{let s=new tt.default(this.options),i=encodeURIComponent,n=encodeURI,o=`postgresql://${i(s.user)}:${i(s.password)}@${i(s.host)}/${n(s.database)}`,a="string"==typeof e?e:e.text,c=t??e.values??[];e9(o,{fullResults:!0,arrayMode:"array"===e.rowMode})(a,c,{types:e.types??this.options?.types}).then(e=>r(void 0,e)).catch(e=>r(e))}catch(e){r(e)}return s.result}};b(to,"NeonPool");var ta=to;tr.ClientBase,tr.Connection,tr.DatabaseError,tr.Query,tr.defaults,tr.types;var tc=class extends Error{constructor(e,t){super(`VercelPostgresError - '${e}': ${t}`),this.code=e,this.name="VercelPostgresError"}};function tl(e,...t){var r,s;if(!(Array.isArray(e)&&"raw"in e&&Array.isArray(e.raw))||!Array.isArray(t))throw new tc("incorrect_tagged_template_call","It looks like you tried to call `sql` as a function. Make sure to use it as a tagged template.\n	Example: sql`SELECT * FROM users`, not sql('SELECT * FROM users')");let i=null!=(r=e[0])?r:"";for(let t=1;t<e.length;t++)i+=`$${t}${null!=(s=e[t])?s:""}`;return[i,t]}var th=class extends ti{async sql(e,...t){let[r,s]=tl(e,...t);return this.query(r,s)}},tu=class extends ta{constructor(e){var t;super(e),this.Client=th,this.connectionString=null!=(t=e.connectionString)?t:""}async sql(e,...t){let[r,s]=tl(e,...t);return e9(this.connectionString,{fullResults:!0})(r,s)}connect(e){return super.connect(e)}};function tf(e){var t;let r=null!=(t=null==e?void 0:e.connectionString)?t:function(e="pool"){let t;switch(e){case"pool":t=process.env.POSTGRES_URL;break;case"direct":t=process.env.POSTGRES_URL_NON_POOLING;break;default:throw new tc("invalid_connection_type",`Unhandled type: ${e}`)}return"undefined"===t&&(t=void 0),t}("pool");if(!r)throw new tc("missing_connection_string","You did not supply a 'connectionString' and no 'POSTGRES_URL' env var was found.");if(!function(e){try{let t=e.replace(/^postgresql:\/\//,"https://");return"localhost"===new URL(t).hostname}catch(e){if(e instanceof TypeError||"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message&&"Invalid URL"===e.message)return!1;throw e}}(r)&&!r.includes("-pooler."))throw new tc("invalid_connection_string","This connection string is meant to be used with a direct connection. Make sure to use a pooled connection string or try `createClient()` instead.");let s=null==e?void 0:e.maxUses,i=null==e?void 0:e.max;return"undefined"!=typeof EdgeRuntime&&(s&&1!==s&&console.warn("@vercel/postgres: Overriding `maxUses` to 1 because the EdgeRuntime does not support client reuse."),i&&1e4!==i&&console.warn("@vercel/postgres: Overriding `max` to 10,000 because the EdgeRuntime does not support client reuse."),s=1,i=1e4),new tu({...e,connectionString:r,maxUses:s,max:i})}var tp=new Proxy(()=>{},{get(e,t){s||(s=tf());let r=Reflect.get(s,t);return"function"==typeof r?r.bind(s):r},apply:(e,t,r)=>(s||(s=tf()),s.sql(...r))});r(883),r(7522),r(5870);var td=r(6852);r(4902),eN&&(eN.webSocketConstructor=td)}};